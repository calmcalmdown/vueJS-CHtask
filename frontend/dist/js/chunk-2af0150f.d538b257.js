(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2af0150f"],{"0a49":function(t,e,a){var n=a("9b43"),o=a("626a"),i=a("4bf8"),r=a("9def"),l=a("cd1c");t.exports=function(t,e){var a=1==t,s=2==t,c=3==t,u=4==t,d=6==t,p=5==t||d,f=e||l;return function(e,l,m){for(var b,h,v=i(e),g=o(v),y=n(l,m,3),w=r(g.length),_=0,A=a?f(e,w):s?f(e,0):void 0;w>_;_++)if((p||_ in g)&&(b=g[_],h=y(b,_,v),t))if(a)A[_]=h;else if(h)switch(t){case 3:return!0;case 5:return b;case 6:return _;case 2:A.push(b)}else if(u)return!1;return d?-1:c||u?u:A}}},1169:function(t,e,a){var n=a("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},7514:function(t,e,a){"use strict";var n=a("5ca1"),o=a("0a49")(5),i="find",r=!0;i in[]&&Array(1)[i]((function(){r=!1})),n(n.P+n.F*r,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},c377:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[t._v("培训经费管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[t._v("经费详情")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.dataLoading,expression:"dataLoading"}],ref:"formData",staticClass:"form-width",attrs:{model:t.formData,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{prop:"projectName",label:"项目名称:"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:t.formData.projectName,callback:function(e){t.$set(t.formData,"projectName",e)},expression:"formData.projectName"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"申请金额:",prop:"appliedAmount"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:t.formData.appliedAmount,callback:function(e){t.$set(t.formData,"appliedAmount",e)},expression:"formData.appliedAmount"}})],1),a("el-form-item",{staticClass:"input-width label-align",staticStyle:{"margin-right":"30px"},attrs:{label:"申请人：",prop:"proposer"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:t.formData.proposer,callback:function(e){t.$set(t.formData,"proposer",e)},expression:"formData.proposer"}})],1),a("el-form-item",{staticClass:"input-width label-align2",attrs:{label:"所在单位：",prop:"companyId"}},[a("el-select",{attrs:{disabled:""},model:{value:t.formData.companyId,callback:function(e){t.$set(t.formData,"companyId",e)},expression:"formData.companyId"}},t._l(t.companyProduction,(function(t){return a("el-option",{key:t.companyId,attrs:{label:t.companyName,value:t.companyId}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"file"}},[a("span",{staticClass:"item-label"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}}),a("el-button",{attrs:{size:"small",type:"warning",plain:""},on:{click:function(e){return t.downloadFile()}}},[t._v("下载附件")])],1),t.file?t._e():a("span",[a("el-link",{on:{click:function(e){return t.downloadFile()}}},[t._v("\n            "+t._s(t.fileName)+"\n          ")])],1),t.file?a("span",[t._v("("+t._s(t.fileName)+")")]):t._e()]),a("el-form-item",[t.isShowAddButton?t._e():a("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("通过")]),t.isShowAddButton?t._e():a("el-button",{attrs:{size:"small",plain:"",type:"warning"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("拒绝")]),t.isShowAddButton?t._e():a("el-button",{attrs:{size:"small",plain:"",type:"primary"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")]),t.isShowAddButton?a("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]):t._e()],1)],1)],1)])},o=[],i=(a("a481"),a("7514"),a("55a1")),r=a("d1a0"),l=(a("0010"),a("8ded")),s=a.n(l),c=a("bc3a"),u=a.n(c),d={data:function(){return{formData:{projectName:"",appliedAmount:"",proposer:"",companyId:"",status:""},companyProduction:[],loggedinUserType:null,fileName:"",file:null,dataLoading:!1,id:0,isShowAddButton:null,appStatus:["全部","待审批","已同意","已拒绝"]}},mounted:function(){this.getCompanyProduct(),this.id=this.$route.params.id,this.getData(this.$route.params.id)},created:function(){this.isShowAddButton=!!s.a.get("authList").find((function(t){return"addTrainingFunds"==t.privilegeCode}))},methods:{getCompanyProduct:function(){var t=this;Object(i["a"])().get("/api/company_production/name").then((function(e){t.companyProduction=t.companyProduction.concat(e)})).catch((function(t){console.log(t)}))},getData:function(t){var e=this;this.dataLoading=!0,Object(i["a"])().get("/api/training_funds/get/"+t).then((function(t){e.formData=t,e.file=t.trainingFundsProfiles,e.file&&(e.fileName=e.file.replace("/uploads/","")),setTimeout((function(){e.dataLoading=!1}),10)})).catch((function(t){console.log(t)}))},downloadFile:function(){var t=this;console.log(this.file),u()({url:r["b"].DOWNLOAD_URL()+this.file,method:"GET",responseType:"blob"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,console.log(n),n.setAttribute("download",t.file.replace("/uploads/","")),document.body.appendChild(n),n.click(),n.remove()}))}}},p=d,f=a("2877"),m=Object(f["a"])(p,n,o,!1,null,null,null);e["default"]=m.exports},cd1c:function(t,e,a){var n=a("e853");t.exports=function(t,e){return new(n(t))(e)}},e853:function(t,e,a){var n=a("d3f4"),o=a("1169"),i=a("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-2af0150f.d538b257.js.map