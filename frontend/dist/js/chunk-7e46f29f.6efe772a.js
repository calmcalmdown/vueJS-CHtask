(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e46f29f"],{"28a5":function(t,e,r){"use strict";var o=r("aae3"),u=r("cb7c"),a=r("ebd6"),i=r("0390"),l=r("9def"),n=r("5f1b"),p=r("520a"),s=r("79e5"),c=Math.min,d=[].push,m="split",h="length",f="lastIndex",y=4294967295,g=!s((function(){RegExp(y,"y")}));r("214f")("split",2,(function(t,e,r,s){var b;return b="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[h]||2!="ab"[m](/(?:ab)*/)[h]||4!="."[m](/(.?)(.?)/)[h]||"."[m](/()()/)[h]>1||""[m](/.?/)[h]?function(t,e){var u=String(this);if(void 0===t&&0===e)return[];if(!o(t))return r.call(u,t,e);var a,i,l,n=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,m=void 0===e?y:e>>>0,g=new RegExp(t.source,s+"g");while(a=p.call(g,u)){if(i=g[f],i>c&&(n.push(u.slice(c,a.index)),a[h]>1&&a.index<u[h]&&d.apply(n,a.slice(1)),l=a[0][h],c=i,n[h]>=m))break;g[f]===a.index&&g[f]++}return c===u[h]?!l&&g.test("")||n.push(""):n.push(u.slice(c)),n[h]>m?n.slice(0,m):n}:"0"[m](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,o){var u=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,u,o):b.call(String(u),r,o)},function(t,e){var o=s(b,t,this,e,b!==r);if(o.done)return o.value;var p=u(t),d=String(this),m=a(p,RegExp),h=p.unicode,f=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(g?"y":"g"),v=new m(g?p:"^(?:"+p.source+")",f),V=void 0===e?y:e>>>0;if(0===V)return[];if(0===d.length)return null===n(v,d)?[d]:[];var F=0,S=0,I=[];while(S<d.length){v.lastIndex=g?S:0;var x,O=n(v,g?d:d.slice(S));if(null===O||(x=c(l(v.lastIndex+(g?0:S)),d.length))===F)S=i(d,S,h);else{if(I.push(d.slice(F,S)),I.length===V)return I;for(var P=1;P<=O.length-1;P++)if(I.push(O[P]),I.length===V)return I;S=F=x}}return I.push(d.slice(F)),I}]}))},3846:function(t,e,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},5920:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[t._v("监管对象")]),r("el-breadcrumb-item",[t._v("主营产品")]),r("el-breadcrumb-item",{staticClass:"actived"},[t._v("修改属性")])],1)],1),r("div",{staticClass:"box"},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:t.ruleFormValue,rules:t.rules,"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"属性名称",prop:"propertyName"}},[r("el-input",{model:{value:t.ruleFormValue.propertyName,callback:function(e){t.$set(t.ruleFormValue,"propertyName",e)},expression:"ruleFormValue.propertyName"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"属性可选项",prop:"propertyOptions"}},[r("el-input",{attrs:{disabled:""},model:{value:t.ruleFormValue.propertyOptions,callback:function(e){t.$set(t.ruleFormValue,"propertyOptions",e)},expression:"ruleFormValue.propertyOptions"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"属性排序",prop:"propertySort"}},[r("el-input",{attrs:{type:"number"},model:{value:t.ruleFormValue.propertySort,callback:function(e){t.$set(t.ruleFormValue,"propertySort",e)},expression:"ruleFormValue.propertySort"}})],1)],1)],1),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(e){return t.$router.push({path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/"+t.ruleFormValue.id,query:{productId:t.ruleFormValue.productId,optionData:t.optionList,companyId:t.companyId,sortFlag:t.sortFlag}})}}},[t._v("编辑选项")]),r("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(e){return t.onSubmit("ruleForm")}}},[t._v("保存")]),r("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:t.goBack}},[t._v("取消")])],1)],1)],1)])},u=[],a=(r("28a5"),r("a481"),r("6b54"),r("7f7f"),r("55a1")),i={name:"editProductProperty",data:function(){return{listLoading:!1,companyId:-1,optionList:[],sortFlag:1,ruleFormValue:{propertyName:"",propertyOptions:"",propertySort:null,productId:0,doShare:"",id:-1},rules:{propertyName:[{required:!0,message:"请插入",trigger:"change"}],propertySort:[{required:!0,message:"请插入",trigger:"change"}]},customValue:0,optionData:null}},created:function(){this.ruleFormValue.productId=this.$route.query.productId,this.companyId=this.$route.query.companyId,this.ruleFormValue.id=this.$route.params.id,this.customValue=this.$route.query.customValue,0==this.customValue?this.getProductPropertyInfo():this.getCustomValue()},methods:{getCustomValue:function(){var t=this;if(this.ruleFormValue.optionData=this.$route.query.optionData,null==this.ruleFormValue.optionData)this.getProductPropertyInfo();else{this.ruleFormValue.propertyOptions=this.ruleFormValue.optionData[0].name;for(var e=1;e<this.ruleFormValue.optionData.length;e++)this.ruleFormValue.propertyOptions=this.ruleFormValue.propertyOptions+","+this.ruleFormValue.optionData[e].name;this.splitStatus(this.ruleFormValue.propertyOptions),this.listLoading=!0,Object(a["a"])().get("/api/product_property/get/"+this.$route.params.id).then((function(e){setTimeout((function(){t.listLoading=!1}),50),t.ruleFormValue.propertyName=e.propertyName,t.ruleFormValue.propertySort=parseInt(e.propertySort)})).catch((function(t){console.log(t)}))}},getProductPropertyInfo:function(){var t=this;this.listLoading=!0,Object(a["a"])().get("/api/product_property/get/"+this.ruleFormValue.id).then((function(e){setTimeout((function(){t.listLoading=!1}),50),t.ruleFormValue.propertyName=e.propertyName,t.ruleFormValue.propertyOptions=e.propertyOptions,t.splitStatus(t.ruleFormValue.propertyOptions),t.ruleFormValue.propertySort=parseInt(e.propertySort),t.ruleFormValue.doShare=e.doShare})).catch((function(t){}))},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("错误 !!"),!1;var r={productId:e.ruleFormValue.productId,propertyName:e.ruleFormValue.propertyName,propertyOptions:e.ruleFormValue.propertyOptions,propertySort:e.ruleFormValue.propertySort.toString(),doShare:e.ruleFormValue.doShare};e.listLoading=!0,Object(a["a"])().put("/api/product_property/update/"+e.ruleFormValue.id,r).then((function(t){setTimeout((function(){e.listLoading=!1}),50),e.$router.push({path:"/productionSubject/mainProduct/productProperty/".concat(e.companyId),query:{productId:e.ruleFormValue.productId}})})).catch((function(t){}))}))},goBack:function(){this.$router.push({path:"/productionSubject/mainProduct/productProperty/".concat(this.companyId),query:{productId:this.ruleFormValue.productId}})},splitStatus:function(t){var e=t.replace(" ",""),r=e.split(",");for(var o in r)this.optionList.push({id:parseInt(o),name:r[o]})}}},l=i,n=r("2877"),p=Object(n["a"])(l,o,u,!1,null,"dbf659e6",null);e["default"]=p.exports},"6b54":function(t,e,r){"use strict";r("3846");var o=r("cb7c"),u=r("0bfb"),a=r("9e1e"),i="toString",l=/./[i],n=function(t){r("2aba")(RegExp.prototype,i,t,!0)};r("79e5")((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?n((function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?u.call(t):void 0)})):l.name!=i&&n((function(){return l.call(this)}))}}]);
//# sourceMappingURL=chunk-7e46f29f.6efe772a.js.map