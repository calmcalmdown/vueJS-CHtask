(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208c68"],{a5db:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container"},[t("div",{staticClass:"title"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("生产主体")]),t("el-breadcrumb-item",[e._v("主营产品")]),t("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改产品")])],1)],1),t("div",{staticClass:"box"},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleFormValue",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[t("el-input",{model:{value:e.ruleFormValue.productName,callback:function(r){e.$set(e.ruleFormValue,"productName",r)},expression:"ruleFormValue.productName"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"单价",prop:"atunitprice"}},[t("el-input",{model:{value:e.ruleFormValue.atunitprice,callback:function(r){e.$set(e.ruleFormValue,"atunitprice",e._n(r))},expression:"ruleFormValue.atunitprice"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"评级",prop:"grade"}},[t("el-input",{model:{value:e.ruleFormValue.grade,callback:function(r){e.$set(e.ruleFormValue,"grade",r)},expression:"ruleFormValue.grade"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"产地",prop:"productArea"}},[t("el-input",{model:{value:e.ruleFormValue.productArea,callback:function(r){e.$set(e.ruleFormValue,"productArea",r)},expression:"ruleFormValue.productArea"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"品种",prop:"variety"}},[t("el-input",{model:{value:e.ruleFormValue.variety,callback:function(r){e.$set(e.ruleFormValue,"variety",r)},expression:"ruleFormValue.variety"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"规格",prop:"specification"}},[t("el-input",{model:{value:e.ruleFormValue.specification,callback:function(r){e.$set(e.ruleFormValue,"specification",r)},expression:"ruleFormValue.specification"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"产品介绍",prop:"productProfile"}},[t("el-input",{staticClass:"no-margin-bottom",attrs:{"auto-complete":"off",type:"textarea",rows:10},model:{value:e.ruleFormValue.productProfile,callback:function(r){e.$set(e.ruleFormValue,"productProfile",r)},expression:"ruleFormValue.productProfile"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"",prop:"doOrganic"}},[t("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.ruleFormValue.doOrganic,callback:function(r){e.$set(e.ruleFormValue,"doOrganic",r)},expression:"ruleFormValue.doOrganic"}},[e._v("有机")])],1)],1)],1),t("el-form-item",[t("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(r){return e.onSubmit("ruleFormValue")}}},[e._v("保存")]),t("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(r){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},l=[],o=t("55a1"),u=t("0010"),i={name:"editMainProduct",data:function(){return{listLoading:!0,companyId:-1,ruleFormValue:{productName:"",atunitprice:0,grade:"",productArea:"",variety:"",specification:"",productProfile:"",doOrganic:"0"},rules:{productName:[{required:!0,message:"请插入",trigger:"change"}],atunitprice:[{required:!0,message:"请插入"},{type:"number",message:"插入号码"}],grade:[{required:!0,message:"请插入",trigger:"change"}],productArea:[{required:!0,message:"请插入",trigger:"change"}],variety:[{required:!0,message:"请插入",trigger:"change"}],specification:[{required:!0,message:"请插入",trigger:"change"}],productProfile:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.productId=this.$route.params.id,this.listLoading=!1,this.getData()},methods:{onSubmit:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;r.listLoading=!0,Object(o["a"])().put("/api/product_production/update/"+r.productId,{atunitprice:r.ruleFormValue.atunitprice,companyId:r.ruleFormValue.companyId?r.ruleFormValue.companyId:0,createTime:r.ruleFormValue.createTime?r.ruleFormValue.createTime:new Date,createUserId:r.ruleFormValue.createUserId?r.ruleFormValue.createUserId:Object(u["a"])().user().id,doOrganic:r.ruleFormValue.doOrganic,grade:r.ruleFormValue.grade,productArea:r.ruleFormValue.productArea,productId:r.productId,specification:r.ruleFormValue.specification,updateTime:new Date,productName:r.ruleFormValue.productName,productProfile:r.ruleFormValue.productProfile,updateUserId:Object(u["a"])().user().id,variety:r.ruleFormValue.variety}).then((function(e){setTimeout((function(){r.listLoading=!1}),500),r.$router.go(-1)})).catch((function(e){}))}))},getData:function(){var e=this;this.listLoading=!0,Object(o["a"])().get("/api/product_production/name?productid="+this.productId).then((function(r){e.ruleFormValue=r[0],setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){}))}}},c=i,n=t("2877"),s=Object(n["a"])(c,a,l,!1,null,null,null);r["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d208c68.9c75eb63.js.map