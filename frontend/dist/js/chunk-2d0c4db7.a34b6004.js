(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4db7"],{"3d2b":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("水产统计")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.handleImportExcel()}}},[e._v("添加")]),a("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(t){return e.handleDownloadSample()}}},[e._v("例文档下载")]),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:"Upload Excel"},on:{change:function(t){return e.handleFileUpload()}}})],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"sampleName",label:"样品名称"}}),a("el-table-column",{attrs:{prop:"sampleScientificName",label:"样品学名"}}),a("el-table-column",{attrs:{prop:"sampleSerialNum",label:"样品编号"}}),a("el-table-column",{attrs:{prop:"city",label:"市别"}}),a("el-table-column",{attrs:{prop:"district",label:"区县"}}),a("el-table-column",{attrs:{prop:"inspectedUnit",label:"被检单位"}}),a("el-table-column",{attrs:{prop:"sampleType",label:"样品类型"}}),a("el-table-column",{attrs:{prop:"furaMeta",label:"呋喃唑酮代谢物"}}),a("el-table-column",{attrs:{prop:"malaGreen",label:"孔雀石绿"}}),a("el-table-column",{attrs:{prop:"detectionRoomNum",label:"检测室编号"}}),a("el-table-column",{attrs:{prop:"detectionRoomName",label:"检测室名称"}}),a("el-table-column",{attrs:{prop:"detectionTime",label:"检测时间"}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},n=[],i=(a("34ef"),a("a481"),a("062e")),o=a("55a1"),r=(a("0010"),a("d1a0")),s=a("bc3a"),c=a.n(s),p={name:"aquaticStatistics",components:{Pagination:i["default"]},data:function(){return{page:{pageIndex:1,pageSize:20},file:null,total:0,tableData:[],listLoading:!1,filesample:"/uploads/AquaticSample.xlsx"}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(o["a"])().get("/api/aquatic_statistics/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,sortBy:"id"}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},handleDownloadSample:function(){var e=this;c()({url:r["b"].DOWNLOAD_URL()+this.filesample,method:"GET",responseType:"blob"}).then((function(t){if(e.isIE()){var a=new Blob([t.data],{type:"application/octet-stream"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(a,e.filesample.replace("/uploads/",""))}else{var l=window.URL.createObjectURL(t.data),n=document.createElement("a");n.href=l,n.setAttribute("download",e.filesample.replace("/uploads/","")),document.body.appendChild(n),n.click(),n.remove()}})).catch((function(){return console.log("error occured")}))},isIE:function(){var e=navigator.userAgent;return e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1},fixdata:function(e){for(var t="",a=0,l=10240;a<e.byteLength/l;++a)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*l,a*l+l)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*l))),t},workbook_make_json:function(e){var t=[];return t},handleImportExcel:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file=this.$refs.file.files[0];var e=new FileReader;e.readAsArrayBuffer(this.file)},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},d=p,u=a("2877"),m=Object(u["a"])(d,l,n,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0c4db7.a34b6004.js.map