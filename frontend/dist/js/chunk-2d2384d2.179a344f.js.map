{"version":3,"sources":["webpack:///./src/components/workTask/workTask.vue?3906","webpack:///src/components/workTask/workTask.vue","webpack:///./src/components/workTask/workTask.vue?0e5f","webpack:///./src/components/workTask/workTask.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","getList","model","value","callback","$$v","releaseTimeFrom","expression","releaseTimeTo","$event","$router","push","_e","directives","name","rawName","staticStyle","tableData","rowIndex","order","scopedSlots","_u","key","fn","ref","row","_s","_f","releaseTime","path","query","id","total","page","pageIndex","pageSize","$set","staticRenderFns","components","data","listLoading","isShowAddButton","isShowEditButton","created","methods","Date","toDate","getFullYear","component"],"mappings":"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","file":"js/chunk-2d2384d2.179a344f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"title\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{staticClass:\"actived\"},[_vm._v(\"任务发布\")])],1)],1),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"iptBox\"},[_c('el-row',{staticClass:\"w-100\"},[_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"select_label no-margin-left\"},[_vm._v(\"开始日期\")]),_c('el-date-picker',{attrs:{\"align\":\"right\",\"type\":\"date\",\"placeholder\":\"开始日期\"},on:{\"change\":_vm.getList},model:{value:(_vm.releaseTimeFrom),callback:function ($$v) {_vm.releaseTimeFrom=$$v},expression:\"releaseTimeFrom\"}})],1),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"select_label no-margin-left\"},[_vm._v(\"结束日期\")]),_c('el-date-picker',{attrs:{\"align\":\"right\",\"type\":\"date\",\"placeholder\":\"结束日期\"},on:{\"change\":_vm.getList},model:{value:(_vm.releaseTimeTo),callback:function ($$v) {_vm.releaseTimeTo=$$v},expression:\"releaseTimeTo\"}})],1),_c('el-col',{attrs:{\"span\":3}},[(_vm.isShowAddButton)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.$router.push(\"/workTask/create\")}}},[_vm._v(\"添加工作任务\")]):_vm._e()],1)],1)],1),_c('el-container',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"row-class-name\":_vm.rowIndex,\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"formatter\":_vm.order,\"label\":\"序号\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"releaseTime\",\"label\":\"发布时间\",\"class-name\":\"text-center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n            \"+_vm._s(_vm._f(\"formatDate\")(row.releaseTime))+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\"}}),_c('el-table-column',{attrs:{\"prop\":\"releasePerson\",\"label\":\"发布者\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"class-name\":\"text-center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(_vm.isShowAddButton)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.$router.push({\n                  path: (\"/workTask/edit/\" + (row.id))\n                })}}},[_vm._v(\"修改\")]):_vm._e(),(_vm.isShowEditButton)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.$router.push({\n                  path: \"/workTask/report/create\",\n                  query: {\n                    id: row.id\n                  }\n                })}}},[_vm._v(\"查看任务\")]):_vm._e(),(_vm.isShowAddButton)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.$router.push({\n                  path: \"/workTask/report/detail/\" + row.id\n                })}}},[_vm._v(\"查看任务进度\")]):_vm._e()]}}])})],1)],1),_c('div',{staticClass:\"pageBox\"},[_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.page.pageIndex,\"limit\":_vm.page.pageSize},on:{\"update:page\":function($event){return _vm.$set(_vm.page, \"pageIndex\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.page, \"pageSize\", $event)},\"pagination\":_vm.getList}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"title\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item class=\"actived\">任务发布</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"box\">\r\n      <div class=\"iptBox\">\r\n        <el-row class=\"w-100\">\r\n          <el-col :span=\"6\">\r\n            <div class=\"select_label no-margin-left\">开始日期</div>\r\n            <el-date-picker\r\n              v-model=\"releaseTimeFrom\"\r\n              align=\"right\"\r\n              type=\"date\"\r\n              placeholder=\"开始日期\"\r\n              v-on:change=\"getList\"\r\n            ></el-date-picker>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <div class=\"select_label no-margin-left\">结束日期</div>\r\n            <el-date-picker\r\n              v-model=\"releaseTimeTo\"\r\n              align=\"right\"\r\n              type=\"date\"\r\n              placeholder=\"结束日期\"\r\n              v-on:change=\"getList\"\r\n            ></el-date-picker>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              v-on:click=\"$router.push(`/workTask/create`)\"\r\n              plain\r\n              v-if=\"isShowAddButton\"\r\n            >添加工作任务</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <el-container>\r\n        <el-table\r\n          :data=\"tableData\"\r\n          v-loading=\"listLoading\"\r\n          style=\"width: 100%\"\r\n          :row-class-name=\"rowIndex\"\r\n          highlight-current-row\r\n        >\r\n          <el-table-column :formatter=\"order\" label=\"序号\" width=\"100\"></el-table-column>\r\n          <el-table-column prop=\"releaseTime\" label=\"发布时间\" class-name=\"text-center\">\r\n            <template slot-scope=\"{ row }\">\r\n              {{\r\n              row.releaseTime | formatDate\r\n              }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"title\" label=\"标题\"></el-table-column>\r\n          <el-table-column prop=\"releasePerson\" label=\"发布者\"></el-table-column>\r\n          <el-table-column label=\"操作\" class-name=\"text-center\">\r\n            <template slot-scope=\"{ row }\">\r\n              <el-button\r\n                size=\"small\"\r\n                type=\"warning\"\r\n                plain\r\n                v-if=\"isShowAddButton\"\r\n                v-on:click=\"\r\n                  $router.push({\r\n                    path: `/workTask/edit/${row.id}`\r\n                  })\r\n                \"\r\n              >修改</el-button>\r\n              <el-button\r\n                size=\"small\"\r\n                type=\"success\"\r\n                plain\r\n                v-if=\"isShowEditButton\"\r\n                v-on:click=\"\r\n                  $router.push({\r\n                    path: `/workTask/report/create`,\r\n                    query: {\r\n                      id: row.id\r\n                    }\r\n                  })\r\n                \"\r\n              >查看任务</el-button>\r\n              <el-button\r\n                size=\"small\"\r\n                type=\"primary\"\r\n                plain\r\n                v-if=\"isShowAddButton\"\r\n                v-on:click=\"\r\n                  $router.push({\r\n                    path: `/workTask/report/detail/` + row.id\r\n                  })\r\n                \"\r\n              >查看任务进度</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-container>\r\n      <div class=\"pageBox\">\r\n        <pagination\r\n          v-show=\"total > 0\"\r\n          :total=\"total\"\r\n          :page.sync=\"page.pageIndex\"\r\n          :limit.sync=\"page.pageSize\"\r\n          @pagination=\"getList\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Storage from \"store\";\r\nimport Pagination from \"@/components/common/pagination\";\r\nimport Request from \"../../services/api/request.js\";\r\nimport Auth from \"@/services/authentication/auth.js\";\r\nexport default {\r\n  name: \"workTask\",\r\n  components: { Pagination },\r\n  data() {\r\n    return {\r\n      releaseTimeFrom: \"\",\r\n      releaseTimeTo: \"\",\r\n      page: {\r\n        pageIndex: 1,\r\n        pageSize: 20\r\n      },\r\n      listLoading: true,\r\n      total: 0,\r\n      isShowAddButton: null,\r\n      isShowEditButton: null,\r\n      tableData: []\r\n    };\r\n  },\r\n  created() {\r\n    this.isShowAddButton = Storage.get(\"authList\").find(\r\n      x => x.privilegeCode == \"addWorkTask\"\r\n    )\r\n      ? true\r\n      : false;\r\n    this.isShowEditButton = Storage.get(\"authList\").find(\r\n      x => x.privilegeCode == \"addWorkTaskReport\"\r\n    )\r\n      ? true\r\n      : false;\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true;\r\n      if (this.releaseTimeTo) {\r\n        this.releaseTimeTo = new Date(this.releaseTimeTo);\r\n        // releaseTimeTo.setDate(releaseTimeTo.getDate() + 1);\r\n        var toDate = new Date(this.releaseTimeTo.getFullYear(),\r\n                this.releaseTimeTo.getMonth(),\r\n                this.releaseTimeTo.getDate(),\r\n                23, 59, 59\r\n              );\r\n      }\r\n      Request()\r\n        .get(\"/api/work_task/all\", {\r\n          fromDate: this.releaseTimeFrom,\r\n          toDate: toDate,\r\n          pageNo: this.page.pageIndex - 1,\r\n          pageSize: this.page.pageSize\r\n        })\r\n        .then(response => {\r\n          this.tableData = response.data;\r\n          this.total = response.total;\r\n          setTimeout(() => {\r\n            this.listLoading = false;\r\n          }, 0.5 * 1000);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    rowIndex({ row, rowIndex }) {\r\n      row.rowIndex = rowIndex;\r\n    },\r\n    order(row) {\r\n      return this.page.pageSize * (this.page.pageIndex - 1) + row.rowIndex + 1;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./workTask.vue?vue&type=template&id=4f44d84c&scoped=true&\"\nimport script from \"./workTask.vue?vue&type=script&lang=js&\"\nexport * from \"./workTask.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f44d84c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}