(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dbd9c32"],{"9f2d":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("监管对象")])],1)],1),a("div",{staticClass:"box"},[e.isShowSearchButton?a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label no-margin-left"},[e._v("行业")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.getList()}},model:{value:e.productType,callback:function(t){e.productType=t},expression:"productType"}},e._l(e.productTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label"},[e._v("行业")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.getList()}},model:{value:e.companyScale,callback:function(t){e.companyScale=t},expression:"companyScale"}},e._l(e.companyScales,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"companyName",label:"企业名称",width:"120"}}),a("el-table-column",{attrs:{prop:"companyScale",label:"企业规模",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.companyScales[a.companyScale].label))]}}])}),a("el-table-column",{attrs:{prop:"productType",label:"产品类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.productTypes[a.productType].label))]}}])}),a("el-table-column",{attrs:{prop:"legalPerson",label:"法定代表人",width:"150"}}),a("el-table-column",{attrs:{prop:"companyAddress",label:"企业地址",width:"120"}}),a("el-table-column",{attrs:{prop:"creditCode",label:"社会信用统一代码",width:"200"}}),a("el-table-column",{attrs:{prop:"contactWay",label:"联系方式"}}),a("el-table-column",{attrs:{prop:"supervisionNature",label:"监管对象性质"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.supervisions[a.supervisionNature]))]}}])}),a("el-table-column",{attrs:{prop:"operations",label:"操作",width:"250","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[e.isShowSearchButton?a("el-button",{attrs:{size:"small",plain:"",type:"primary"},on:{click:function(t){return e.gotoDetailPage(l)}}},[e._v("企业详情")]):e._e(),a("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(t){return e.gotoProductBusinessPage(l)}}},[e._v("经营产品")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},n=[],o=(a("7514"),a("8ded")),s=a.n(o),i=a("062e"),c=a("55a1"),r={name:"companyBusiness",components:{Pagination:i["default"]},data:function(){return{companyScales:[{value:0,label:"全部"},{value:1,label:"小型企业"},{value:2,label:"中型企业"},{value:3,label:"大型企业"}],productTypes:[{value:0,label:"全部"},{value:1,label:"农药"},{value:2,label:"种子"},{value:3,label:"饲料"},{value:4,label:"肥料"}],supervisions:["Unknown","法人","其他组织"],companyScale:0,productType:0,sortBy:"id",page:{pageIndex:1,pageSize:20},total:0,options:[{value:"全部",label:""}],tableData:[],listLoading:!1,isShowSearchButton:null}},created:function(){this.isShowSearchButton=!!s.a.get("authList").find((function(e){return"searchcompanyBusiness"==e.privilegeCode})),this.getList()},methods:{gotoDetailPage:function(e){this.$router.push("/companyBusiness/detailsCompanyBusiness/".concat(e.id))},gotoProductBusinessPage:function(e){this.$router.push("/companyBusiness/productBusiness/".concat(e.id))},getList:function(){var e=this;this.listLoading=!0,Object(c["a"])().get("/api/company_business/all",{company_scale:this.companyScale,product_type:this.productType,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,sortBy:this.sortBy}).then((function(t){e.tableData=t.data,e.total=e.tableData.length,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},u=r,p=(a("ad34"),a("2877")),d=Object(p["a"])(u,l,n,!1,null,"cdcc7c5c",null);t["default"]=d.exports},ad34:function(e,t,a){"use strict";var l=a("fb1a"),n=a.n(l);n.a},fb1a:function(e,t,a){}}]);
//# sourceMappingURL=chunk-3dbd9c32.d5161d1e.js.map