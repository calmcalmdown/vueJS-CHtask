(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2134c9"],{aba3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("用户管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{staticClass:"no-margin-left",attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.$router.push("/userManagement/create")}}},[e._v("添加用户")])],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 你确定你要删除?")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:e.handleDelete}},[e._v("确认")])],1)]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"contactName",label:"名称"}}),a("el-table-column",{attrs:{prop:"contactPerson",label:"联系人"}}),a("el-table-column",{attrs:{prop:"userId",label:"登录名"}}),a("el-table-column",{attrs:{prop:"userType",label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.userTypeLsit[a.userType]))]}}])}),a("el-table-column",{attrs:{prop:"creditCode",label:"统一社会信用代码"}}),2===e.loggedinUserType?a("el-table-column",{attrs:{label:"操作","class-name":"text-center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[3===n.userType?a("el-button",{staticClass:"no-margin-left",attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/userManagement/edit/"+n.id})}}},[e._v("管理")]):e._e(),3===n.userType?a("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/userManagement/changePwd/"+n.id})}}},[e._v("修改密码")]):e._e(),3===n.userType?a("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(t){return e.confirmDelete(""+n.id)}}},[e._v("删除")]):e._e()]}}],null,!1,3728902722)}):e._e(),1===e.loggedinUserType||0===e.loggedinUserType?a("el-table-column",{attrs:{label:"操作","class-name":"text-center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/userManagement/edit/"+n.id})}}},[e._v("管理")]),a("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/userManagement/changePwd/"+n.id})}}},[e._v("修改密码")]),a("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(t){return e.confirmDelete(""+n.id)}}},[e._v("删除")])]}}],null,!1,2982509082)}):e._e()],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getData}})],1)],1)])},i=[],l=(a("7514"),a("062e")),s=a("55a1"),o=(a("0010"),{name:"userManagement",components:{Pagination:l["default"]},data:function(){return{page:{pageIndex:1,pageSize:20},dialogVisible:!1,total:0,tableData:[],listLoading:!1,companyProduction:[{id:-1,name:"全部"}],userTypeLsit:{1:"市级管理员",2:"乡镇管理员",3:"普通用户"},loggedinUserType:""}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.listLoading=!0,Object(s["a"])().get("/api/user/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,sortBy:"id"}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.companyId===e}));return t?t.companyName:""},confirmDelete:function(e){this.dialogVisible=!0,this.selectedId=e},handleDelete:function(){var e=this;this.dialogVisible=!1,this.listLoading=!0,Object(s["a"])().delete("/api/user/delete/"+this.selectedId).then((function(t){setTimeout((function(){e.listLoading=!1}),500),e.getData()})).catch((function(e){console.log(e)}))}}}),r=o,c=a("2877"),u=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d2134c9.e95ebd4f.js.map