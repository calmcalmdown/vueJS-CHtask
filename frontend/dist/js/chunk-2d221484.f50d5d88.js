(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221484"],{ca4d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("站内消息")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("Add Internal Message")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"addForm",staticClass:"form-width",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{prop:"receiveUserId",label:"接收人"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.receiveUserId,callback:function(t){e.$set(e.addForm,"receiveUserId",t)},expression:"addForm.receiveUserId"}},e._l(e.users,(function(e){return a("el-option",{key:e.id,attrs:{label:e.userId,value:e.id}})})),1)],1),a("el-form-item",{staticClass:"label-align",attrs:{prop:"contents",label:"内容"}},[a("el-input",{attrs:{"auto-complete":"off",type:"textarea",rows:10},model:{value:e.addForm.contents,callback:function(t){e.$set(e.addForm,"contents",t)},expression:"addForm.contents"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(t){return e.onSubmit("addForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},n=[],s=a("55a1"),i=(a("0010"),{data:function(){return{addForm:{contents:"",receiveUserId:""},users:[],rules:{contents:[{required:!0,message:"请插入",trigger:"change"}],receiveUserId:[{required:!0,message:"请选择",trigger:"change"}]},dataloading:!0}},mounted:function(){this.getReceiveUserId()},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataloading=!0;var a=new Date,r=("0"+a.getDate()).slice(-2),n=("0"+(a.getMonth()+1)).slice(-2),i=a.getFullYear()+"-"+n+"-"+r;Object(s["a"])().post("/api/internal_message/create",{receiveUserId:t.addForm.receiveUserId,contents:t.addForm.contents,receiveStatus:0,createTime:i,id:0}).then((function(e){t.$router.push({path:"/internalMessage"}),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){}))}}))},getReceiveUserId:function(){var e=this;this.dataloading=!0,Object(s["a"])().get("/api/user/all",{sortBy:"id"}).then((function(t){e.users=e.users.concat(t.data),setTimeout((function(){e.dataloading=!1}),10)})).catch((function(e){}))}}}),o=i,l=a("2877"),c=Object(l["a"])(o,r,n,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d221484.f50d5d88.js.map