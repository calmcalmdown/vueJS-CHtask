{"version":3,"sources":["webpack:///./src/components/userManagement/registerUser/registerUser.vue?34fd","webpack:///src/components/userManagement/registerUser/registerUser.vue","webpack:///./src/components/userManagement/registerUser/registerUser.vue?c99a","webpack:///./src/components/userManagement/registerUser/registerUser.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","expression","ref","ruleFormValue","rules","model","callback","$$v","$set","loggedinUserType","_l","item","key","id","userType","town","_e","companyId","companyName","capsTooltip","on","$event","nativeOn","checkCapslock","onSubmit","goBack","staticRenderFns","data","length","Error","listLoading","creditCode","contactName","contactPerson","contactWay","password","userId","townId","options","township","companyData","created","getTown","getCompanyProduction","methods","$refs","formName","validate","valid","console","log","$router","go","component"],"mappings":"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","file":"js/chunk-2d0b9de5.0f0b3ef3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"title\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',{staticClass:\"actived\"},[_vm._v(\"添加用户\")])],1)],1),_c('div',{staticClass:\"box\"},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],ref:\"ruleForm\",attrs:{\"model\":_vm.ruleFormValue,\"rules\":_vm.rules,\"label-width\":\"150px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"登录名：\",\"prop\":\"userId\"}},[_c('el-input',{attrs:{\"placeholder\":\"例: admin\"},model:{value:(_vm.ruleFormValue.userId),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"userId\", $$v)},expression:\"ruleFormValue.userId\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"名称：\",\"prop\":\"contactName\"}},[_c('el-input',{attrs:{\"placeholder\":\"例: 管理员\"},model:{value:(_vm.ruleFormValue.contactName),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"contactName\", $$v)},expression:\"ruleFormValue.contactName\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"角色：\",\"prop\":\"userType\"}},[(_vm.loggedinUserType === 2)?_c('el-select',{staticClass:\"w-100\",attrs:{\"disabled\":\"\"},model:{value:(_vm.ruleFormValue.userType),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"userType\", $$v)},expression:\"ruleFormValue.userType\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1):_c('el-select',{staticClass:\"w-100\",model:{value:(_vm.ruleFormValue.userType),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"userType\", $$v)},expression:\"ruleFormValue.userType\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),(_vm.ruleFormValue.userType === 2)?_c('el-form-item',{attrs:{\"label\":\"乡镇：\",\"prop\":\"townId\"}},[_c('el-select',{staticClass:\"w-100\",model:{value:(_vm.ruleFormValue.townId),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"townId\", $$v)},expression:\"ruleFormValue.townId\"}},_vm._l((_vm.township),function(town){return _c('el-option',{key:town.id,attrs:{\"label\":town.name,\"value\":town.id}})}),1)],1):_vm._e(),(_vm.ruleFormValue.userType === 3)?_c('el-form-item',{attrs:{\"label\":\"企业：\",\"prop\":\"companyId\"}},[_c('el-select',{staticClass:\"w-100\",model:{value:(_vm.ruleFormValue.companyId),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"companyId\", $$v)},expression:\"ruleFormValue.companyId\"}},_vm._l((_vm.companyData),function(item){return _c('el-option',{key:item.companyId,attrs:{\"label\":item.companyName,\"value\":item.companyId}})}),1)],1):_vm._e()],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-tooltip',{attrs:{\"content\":\"CapsLock 在\",\"placement\":\"right\",\"manual\":\"\"},model:{value:(_vm.capsTooltip),callback:function ($$v) {_vm.capsTooltip=$$v},expression:\"capsTooltip\"}},[_c('el-form-item',{attrs:{\"label\":\"密码：\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},on:{\"blur\":function($event){_vm.capsTooltip = false}},nativeOn:{\"keyup\":function($event){return _vm.checkCapslock($event)}},model:{value:(_vm.ruleFormValue.password),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"password\", $$v)},expression:\"ruleFormValue.password\"}})],1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"联系人：\",\"prop\":\"contactPerson\"}},[_c('el-input',{model:{value:(_vm.ruleFormValue.contactPerson),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"contactPerson\", $$v)},expression:\"ruleFormValue.contactPerson\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"联系方式：\",\"prop\":\"contactWay\"}},[_c('el-input',{model:{value:(_vm.ruleFormValue.contactWay),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"contactWay\", $$v)},expression:\"ruleFormValue.contactWay\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"统一社会信用代码：\",\"prop\":\"creditCode\"}},[_c('el-input',{model:{value:(_vm.ruleFormValue.creditCode),callback:function ($$v) {_vm.$set(_vm.ruleFormValue, \"creditCode\", $$v)},expression:\"ruleFormValue.creditCode\"}})],1)],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.onSubmit('ruleForm')}}},[_vm._v(\"保存\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.goBack}},[_vm._v(\"取消\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"title\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item class=\"actived\">添加用户</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"box\">\r\n      <el-form\r\n        ref=\"ruleForm\"\r\n        :model=\"ruleFormValue\"\r\n        :rules=\"rules\"\r\n        label-width=\"150px\"\r\n        v-loading=\"listLoading\"\r\n      >\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"登录名：\" prop=\"userId\">\r\n              <el-input v-model=\"ruleFormValue.userId\" placeholder=\"例: admin\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"名称：\" prop=\"contactName\">\r\n              <el-input v-model=\"ruleFormValue.contactName\" placeholder=\"例: 管理员\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"角色：\" prop=\"userType\">\r\n              <el-select\r\n                class=\"w-100\"\r\n                v-model=\"ruleFormValue.userType\"\r\n                v-if=\"loggedinUserType === 2\"\r\n                disabled\r\n              >\r\n                <el-option\r\n                  v-for=\"item in options\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\"\r\n                ></el-option>\r\n              </el-select>\r\n              <el-select class=\"w-100\" v-model=\"ruleFormValue.userType\" v-else>\r\n                <el-option\r\n                  v-for=\"item in options\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"乡镇：\" prop=\"townId\" v-if=\"ruleFormValue.userType === 2\">\r\n              <el-select v-model=\"ruleFormValue.townId\" class=\"w-100\">\r\n                <el-option\r\n                  v-for=\"town in township\"\r\n                  :key=\"town.id\"\r\n                  :label=\"town.name\"\r\n                  :value=\"town.id\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"企业：\" prop=\"companyId\" v-if=\"ruleFormValue.userType === 3\">\r\n              <el-select v-model=\"ruleFormValue.companyId\" class=\"w-100\">\r\n                <el-option\r\n                  v-for=\"item in companyData\"\r\n                  :key=\"item.companyId\"\r\n                  :label=\"item.companyName\"\r\n                  :value=\"item.companyId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-tooltip v-model=\"capsTooltip\" content=\"CapsLock 在\" placement=\"right\" manual>\r\n              <el-form-item label=\"密码：\" prop=\"password\">\r\n                <el-input\r\n                  v-model=\"ruleFormValue.password\"\r\n                  type=\"password\"\r\n                  @keyup.native=\"checkCapslock\"\r\n                  @blur=\"capsTooltip = false\"\r\n                ></el-input>\r\n              </el-form-item>\r\n            </el-tooltip>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"联系人：\" prop=\"contactPerson\">\r\n              <el-input v-model=\"ruleFormValue.contactPerson\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"联系方式：\" prop=\"contactWay\">\r\n              <el-input v-model=\"ruleFormValue.contactWay\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"统一社会信用代码：\" prop=\"creditCode\">\r\n              <el-input v-model=\"ruleFormValue.creditCode\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-form-item>\r\n          <el-button size=\"small\" type=\"success\" @click=\"onSubmit('ruleForm')\" plain>保存</el-button>\r\n          <el-button size=\"small\" type=\"primary\" @click=\"goBack\" plain>取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Request from \"../../../services/api/request.js\";\r\nimport { Urls } from \"../../../services/constants\";\r\nimport Auth from \"@/services/authentication/auth.js\";\r\nexport default {\r\n  name: \"registerUser\",\r\n  data() {\r\n    const validateUsername = (rule, value, callback) => {\r\n      if (value.length < 3) {\r\n        callback(new Error(\"用户名不能少于3位数字\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const validatePassword = (rule, value, callback) => {\r\n      if (value.length < 6) {\r\n        callback(new Error(\"密码不能少于6位数字\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      capsTooltip: false,\r\n      listLoading: false,\r\n      ruleFormValue: {\r\n        creditCode: \"\",\r\n        contactName: \"\",\r\n        contactPerson: \"\",\r\n        contactWay: \"\",\r\n        password: \"\",\r\n        userId: \"\",\r\n        userType: null,\r\n        townId: null,\r\n        companyId: -1\r\n      },\r\n      rules: {\r\n        creditCode: [\r\n          {\r\n            required: true,\r\n            message: \"请选择\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        contactName: [\r\n          {\r\n            required: true,\r\n            message: \"请选择\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        contactPerson: [\r\n          {\r\n            required: true,\r\n            message: \"请选择\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        contactWay: [\r\n          {\r\n            required: true,\r\n            message: \"请插入\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            trigger: \"change\",\r\n            validator: validatePassword\r\n          }\r\n        ],\r\n        userId: [\r\n          {\r\n            required: true,\r\n            trigger: \"change\",\r\n            validator: validateUsername\r\n          }\r\n        ],\r\n        userType: [\r\n          {\r\n            required: true,\r\n            message: \"请选择\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        townId: [\r\n          {\r\n            required: true,\r\n            message: \"请选择\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        companyId: [\r\n          {\r\n            required: true,\r\n            message: \"请选择\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      },\r\n      options: [\r\n        { id: 1, name: \"市级管理员\" },\r\n        { id: 2, name: \"乡镇管理员\" },\r\n        { id: 3, name: \"普通用户\" }\r\n      ],\r\n      loggedinUserType: null,\r\n      township: [],\r\n      companyData: [{ id: -1, name: \"全部\" }]\r\n    };\r\n  },\r\n  created() {\r\n    this.loggedinUserType = Auth().user().userType;\r\n    if (this.loggedinUserType === 2) this.ruleFormValue.userType = 3;\r\n    this.getTown();\r\n    this.getCompanyProduction();\r\n  },\r\n  methods: {\r\n    onSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.listLoading = true;\r\n          Request()\r\n            .post(\"/api/user/create\", {\r\n              contactName: this.ruleFormValue.contactName,\r\n              contactPerson: this.ruleFormValue.contactPerson,\r\n              contactWay: this.ruleFormValue.contactWay,\r\n              createUserId: Auth().user().id,\r\n              updateUserId: Auth().user().id,\r\n              creditCode: this.ruleFormValue.creditCode,\r\n              id: 0,\r\n              // createTime: new Date(),\r\n              // updateTime: new Date(),\r\n              password: this.ruleFormValue.password,\r\n              userId: this.ruleFormValue.userId,\r\n              userType: this.ruleFormValue.userType,\r\n              townId: this.ruleFormValue.townId ? this.ruleFormValue.townId : -1,\r\n              companyId: this.ruleFormValue.companyId\r\n                ? this.ruleFormValue.companyId\r\n                : 0\r\n            })\r\n            .then(response => {\r\n              setTimeout(() => {\r\n                this.listLoading = false;\r\n              }, 0.5 * 1000);\r\n              this.$router.push({ path: \"/userManagement\" });\r\n            })\r\n            .catch(error => {});\r\n        } else {\r\n          console.log(\"错误 !!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    getTown() {\r\n      this.listLoading = true;\r\n      Request()\r\n        .get(\"/api/town/all\")\r\n        .then(response => {\r\n          this.township = this.township.concat(response);\r\n          setTimeout(() => {\r\n            this.listLoading = false;\r\n          }, 0.5 * 1000);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getCompanyProduction() {\r\n      this.listLoading = true;\r\n      Request()\r\n        .get(\"/api/company_production/name\")\r\n        .then(response => {\r\n          this.companyData = response;\r\n          setTimeout(() => {\r\n            this.listLoading = false;\r\n          }, 0.5 * 1000);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    checkCapslock({ shiftKey, key } = {}) {\r\n      if (key && key.length === 1) {\r\n        if (\r\n          (shiftKey && (key >= \"a\" && key <= \"z\")) ||\r\n          (!shiftKey && (key >= \"A\" && key <= \"Z\"))\r\n        ) {\r\n          this.capsTooltip = true;\r\n        } else {\r\n          this.capsTooltip = false;\r\n        }\r\n      }\r\n      if (key === \"CapsLock\" && this.capsTooltip === true) {\r\n        this.capsTooltip = false;\r\n      }\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registerUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registerUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./registerUser.vue?vue&type=template&id=c8fb646e&scoped=true&\"\nimport script from \"./registerUser.vue?vue&type=script&lang=js&\"\nexport * from \"./registerUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8fb646e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}