(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d209bad"],{a9fe:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"title"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[t._v("监管记录")]),i("el-breadcrumb-item",{staticClass:"actived"},[t._v("常用语管理")])],1)],1),i("div",{staticClass:"box"},[i("div",{staticClass:"iptBox"},[i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.$router.go(-1)}}},[i("i",{staticClass:"el-icon-back"}),t._v(" 返回\n      ")]),i("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:t.handleAdd}},[i("i",{staticClass:"el-icon-plus"}),t._v(" 添加\n      ")])],1),i("el-container",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.rowIndex,"highlight-current-row":""}},[i("el-table-column",{attrs:{formatter:t.order,label:"序号",width:"100"}}),i("el-table-column",{attrs:{prop:"word",label:"常用语"}}),i("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.handleEdit(a.index,a)}}},[i("i",{staticClass:"el-icon-edit"}),t._v("查看\n            ")]),i("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(e){return t.handleDel(a.index,a)}}},[i("i",{staticClass:"el-icon-close"}),t._v("删除\n            ")])]}}])})],1)],1),i("el-dialog",{attrs:{title:"添加",visible:t.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.addFormVisible=e}}},[i("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addFormRules}},[i("el-form-item",{attrs:{prop:"word"}},[i("el-input",{model:{value:t.addForm.word,callback:function(e){t.$set(t.addForm,"word",e)},expression:"addForm.word"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary",plain:"",loading:t.addLoading},nativeOn:{click:function(e){return t.addSubmit(e)}}},[t._v("保存")]),i("el-button",{attrs:{size:"small",plain:"",type:"warning"},nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("关闭")])],1)],1),i("el-dialog",{attrs:{title:"修改",visible:t.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.editFormVisible=e}}},[i("el-form",{ref:"editForm",attrs:{model:t.editForm,rules:t.editFormRules}},[i("el-form-item",{attrs:{prop:"word"}},[i("el-input",{model:{value:t.editForm.word,callback:function(e){t.$set(t.editForm,"word",e)},expression:"editForm.word"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary",plain:"",loading:t.editLoading},nativeOn:{click:function(e){return t.editSubmit(e)}}},[t._v("保存")]),i("el-button",{attrs:{size:"small",type:"warning",plain:""},nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v("关闭")])],1)],1),i("div",{staticClass:"pageBox"},[i("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.page.pageIndex,limit:t.page.pageSize},on:{"update:page":function(e){return t.$set(t.page,"pageIndex",e)},"update:limit":function(e){return t.$set(t.page,"pageSize",e)},pagination:t.getList}})],1)],1)])},o=[],n=i("062e"),d=i("55a1"),l={name:"commonWords",components:{Pagination:n["default"]},data:function(){return{page:{pageIndex:1,pageSize:20},total:0,listLoading:!0,editFormRules:{word:[{required:!0,message:"请输入",trigger:"blur,change"}]},editForm:{id:0,word:""},editFormVisible:!1,editLoading:!1,addFormRules:{word:[{required:!0,message:"请输入",trigger:"blur,change"}]},addForm:{id:0,word:""},addFormVisible:!1,addLoading:!1,tableData:[]}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(d["a"])().get("/api/common_word/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(e){t.tableData=e.data,t.total=e.total,setTimeout((function(){t.listLoading=!1}),500)})).catch((function(t){console.log(t)}))},handleEdit:function(t,e){this.editFormVisible=!0,this.editForm=Object.assign({},e)},handleDel:function(t,e){var i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){i.listLoading=!0,Object(d["a"])().delete("/api/common_word/delete/"+e.id).then((function(t){i.getList()})).catch((function(t){console.log(t)}))}))},handleAdd:function(){this.addFormVisible=!0,this.addForm={id:0,word:""}},editSubmit:function(){var t=this;this.$refs.editForm.validate((function(e){e&&(t.editLoading=!0,Object(d["a"])().put("/api/common_word/update/"+t.editForm.id,{id:t.editForm.id,word:t.editForm.word}).then((function(e){t.editLoading=!1,t.editFormVisible=!1,t.getList()})).catch((function(t){console.log(t)})))}))},addSubmit:function(){var t=this;this.$refs.addForm.validate((function(e){e&&(t.addLoading=!0,Object(d["a"])().post("/api/common_word/create",{id:t.addForm.id,word:t.addForm.word}).then((function(e){t.addLoading=!1,t.addFormVisible=!1,t.getList()})).catch((function(t){console.log(t)})))}))},rowIndex:function(t){var e=t.row,i=t.rowIndex;e.rowIndex=i},order:function(t){return this.page.pageSize*(this.page.pageIndex-1)+t.rowIndex+1}}},r=l,s=i("2877"),c=Object(s["a"])(r,a,o,!1,null,"36b2f858",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d209bad.d2c04980.js.map