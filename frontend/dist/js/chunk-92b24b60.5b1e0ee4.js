(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92b24b60","chunk-2d0e2754"],{"4af5":function(t,e,a){"use strict";var i=a("936d"),s=a.n(i);s.a},"7f7f":function(t,e,a){var i=a("86cc").f,s=Function.prototype,l=/^\s*function ([^ (]*)/,r="name";r in s||a("9e1e")&&i(s,r,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(t){return""}}})},"936d":function(t,e,a){},ac6a:function(t,e,a){for(var i=a("cadf"),s=a("0d58"),l=a("2aba"),r=a("7726"),o=a("32e9"),n=a("84f2"),c=a("2b4c"),p=c("iterator"),h=c("toStringTag"),u=n.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=s(f),m=0;m<d.length;m++){var b,g=d[m],w=f[g],v=r[g],y=v&&v.prototype;if(y&&(y[p]||o(y,p,u),y[h]||o(y,h,g),n[g]=u,w))for(b in i)y[b]||l(y,b,i[b],!0)}},ddb8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"container customized"},[t.listLoading?t._e():a("div",{staticClass:"box padding-modified header statisticsSupervision"}),a("div",{staticClass:"box padding-modified body"},[a("el-row",{staticClass:"W-100"},[a("el-col",{attrs:{span:14}},[a("div",{staticClass:"disability-chart chart-container padding-10 large"},[a("el-row",{staticClass:"w-100 flex-center margin-top-10 margin-bottom-10"},[a("el-col",{staticClass:"margin-left-10",attrs:{span:5}},[t.is_ie?a("h1",{staticStyle:{"font-size":"20px margin-top:5px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[t._v("监管")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[t._v("记录统计")])]):a("h1",{staticClass:"gradient-colored",staticStyle:{"font-size":"20px"}},[t._v("监管记录统计")])]),a("el-col",{staticClass:"margin-left-20 flex-center margin-top-reverse-5-IE",attrs:{span:7}},[a("div",{staticClass:"select_label no-margin-left white-colored"},[t._v("开始日期")]),a("el-date-picker",{staticClass:"chart-input",staticStyle:{width:"300px"},attrs:{type:"date",size:"small",placeholder:"选择日期"},model:{value:t.createTimeFrom,callback:function(e){t.createTimeFrom=e},expression:"createTimeFrom"}})],1),a("el-col",{staticClass:"margin-left-20 flex-center margin-top-reverse-5-IE",attrs:{span:7}},[a("div",{staticClass:"select_label no-margin-left white-colored"},[t._v("结束日期")]),a("el-date-picker",{staticClass:"chart-input",staticStyle:{width:"300px"},attrs:{type:"date",size:"small",placeholder:"选择日期"},model:{value:t.createTimeTo,callback:function(e){t.createTimeTo=e},expression:"createTimeTo"}})],1),a("el-col",{staticClass:"margin-left-20 margin-top-reverse-5-IE",attrs:{span:3}},[a("el-button",{staticClass:"no-effect",attrs:{type:"primary",plain:""},on:{click:function(e){return t.getData()}}},[t._v("开始统计")])],1)],1),a("el-row",[a("el-container",[a("el-table",{staticClass:"fixed-height chart-table",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"townName",label:"乡镇名称",width:"120","class-name":"white-colored"}}),a("el-table-column",{attrs:{prop:"townCnt",label:"监管记录数量","class-name":"blue-colored"}}),a("el-table-column",{attrs:{prop:"townCnt2",label:"整改记录数量","class-name":"blue-colored"}}),a("el-table-column",{attrs:{prop:"rate",label:"不合格数量","class-name":"blue-colored"}}),a("el-table-column",{attrs:{prop:"progress",label:"不合格占比"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("div",{staticClass:"sub-title"},[a("h3",{staticClass:"blue-colored"},[t._v(t._s(i.progress)+"%")])]),a("el-progress",{attrs:{percentage:i.progress,"stroke-width":10,status:t.getColor(i.progress),"show-text":!1}})]}}])})],1)],1)],1),a("el-row",[a("el-container",[a("el-table",{staticClass:"border-hide chart-table",staticStyle:{width:"100%"},attrs:{data:t.totalData,"show-header":!1,"row-class-name":"success-row"}},[a("el-table-column",{attrs:{prop:"townName",width:"120","class-name":"white-colored"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("b",[t._v(t._s(i.townName))])]}}])}),a("el-table-column",{attrs:{prop:"townCnt","class-name":"blue-colored italic-font large-font"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("b",[t._v(t._s(i.townCnt))])]}}])}),a("el-table-column",{attrs:{prop:"townCnt2","class-name":"blue-colored italic-font large-font"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("b",[t._v(t._s(i.townCnt2))])]}}])}),a("el-table-column",{attrs:{prop:"rate","class-name":"blue-colored italic-font large-font"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("b",[t._v(t._s(i.rate))])]}}])}),a("el-table-column",{attrs:{prop:"progress"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-progress",{attrs:{percentage:i.progress,"stroke-width":10,status:t.getColor(i.progress),"show-text":!1}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"合格率",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("div",{staticClass:"sub-title"},[a("h3",{staticClass:"large-font blue-colored italic-font"},[t._v(t._s(i.progress)+"%")])])]}}])})],1)],1)],1)],1)]),a("el-col",{staticClass:"position-relative",attrs:{span:10}},[t.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[t._v("各乡镇监管")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[t._v("记录上传数据的比例分布")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[t._v("各乡镇监管记录上传数据的比例分布")]),a("div",{ref:"chartpie",staticClass:"disability-chart chart-container margin-left-10 large"},[a("figure",[a("chart",{ref:"pie",attrs:{options:t.pie,"init-options":t.initOptions,autoresize:""}})],1)])])],1),a("el-row",{staticClass:"W-100"},[a("el-col",[a("div",{staticClass:"w-100 flex-box disability-chart chart-container"},[t.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[t._v("认证")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[t._v("统计")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[t._v("认证统计")]),a("div",{ref:"chartpie2",staticClass:"w-50 inline-block-IE chart-div-IE"}),a("div",{staticClass:"divider no-margin-left inline-block-IE divider-IE"}),a("div",{staticClass:"w-50 inline-block-IE chart-div-IE"},[null!==t.specialData1&&t.specialData1.length>0?a("el-row",{staticClass:"w-90 margin-left-60"},[a("el-col",{staticClass:"margin-top-10 text-left",staticStyle:{"font-size":"20px"}},[t.is_ie?a("h1",{staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[t._v("绿色优质")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[t._v("数量/占比")])]):a("h1",{staticClass:"gradient-colored",staticStyle:{"font-size":"20px"}},[t._v("绿色优质数量/占比")])])],1):t._e(),a("el-row",{staticClass:"w-90 margin-left-60"},[a("el-col",{attrs:{span:12}},[null!==t.specialData1&&t.specialData1.length>0?a("el-table",{staticClass:"fixed-height chart-table margin-top-10",staticStyle:{width:"100%",height:"293px"},attrs:{data:t.specialData1,"show-header":!1}},[a("el-table-column",{attrs:{prop:"townName","class-name":"no-border-bottom white-colored text-right"}}),a("el-table-column",{attrs:{prop:"progress",width:"200","class-name":"no-border-bottom blue-colored"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("div",[a("h3",[t._v(t._s(i.cntSpecial))])]),a("el-progress",{attrs:{percentage:i.progress,"stroke-width":10,status:t.getColor(i.progress),"show-text":!1}})]}}],null,!1,3858058275)}),a("el-table-column",{attrs:{prop:"label","class-name":"no-border-bottom blue-colored"}})],1):t._e()],1),a("el-col",{attrs:{span:12}},[null!==t.specialData2&&t.specialData2.length>0?a("el-table",{staticClass:"fixed-height margin-top-10 chart-table",staticStyle:{width:"100%",height:"293px"},attrs:{data:t.specialData2,"show-header":!1}},[a("el-table-column",{attrs:{prop:"townName","class-name":"no-border-bottom text-right white-colored"}}),a("el-table-column",{attrs:{prop:"progress",width:"200","class-name":"no-border-bottom blue-colored"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("div",[a("h3",[t._v(t._s(i.cntSpecial))])]),a("el-progress",{attrs:{percentage:i.progress,"stroke-width":10,status:t.getColor(i.progress),"show-text":!1}})]}}],null,!1,3858058275)}),a("el-table-column",{attrs:{prop:"label","class-name":"no-border-bottom blue-colored"}})],1):t._e()],1)],1),a("el-row",{staticClass:"w-90 margin-left-60"},[a("el-col",{attrs:{span:24}},[null!==t.totalData&&t.totalData.length>0?a("el-table",{staticClass:"chart-table border-hide",staticStyle:{width:"100%"},attrs:{data:t.totalData,"show-header":!1}},[a("el-table-column",{attrs:{prop:"townName",align:"center",width:"120","class-name":"white-colored"}}),a("el-table-column",{attrs:{prop:"specialProgress","class-name":"blue-colored"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("div",[a("h3",[t._v(t._s(i.cntSpecial))])]),a("el-progress",{attrs:{percentage:i.specialProgress,"stroke-width":10,status:t.getColor(i.specialProgress),"show-text":!1}})]}}],null,!1,571547043)}),a("el-table-column",{attrs:{prop:"specialLabel",width:"120","class-name":"blue-colored"}})],1):t._e()],1)],1)],1)])])],1)],1)])},s=[],l=(a("55dd"),a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),r=a("55a1"),o=(a("0010"),a("71c9")),n=a("c497"),c=a("5a54"),p=(a("c037"),a("007d"),function(){return a.e("chunk-2129e83e").then(a.bind(null,"9ca8"))});o["h"](c["a"]);var h={name:"statisticsSupervision",components:{chart:p},data:function(){return{pie:{},initOptions:{renderer:"canvas"},createTimeFrom:"",createTimeTo:"",listLoading:!1,visionData:null,visionData1:null,rectificationData:null,rectificationData1:null,tableData:null,tableData1:null,townlist:null,totalData:null,specialData1:[],specialData2:[],colorList:["#229efe","#20beff","#21e3ff","#21ffda","#1fffa6","#61f779","#96f65f","#c9fb64","#c9fb64","#fbd661","#f1be51","#f68a63","#f17263","#ed6082","#ee63ca","#7366f4"],is_ie:null}},mounted:function(){this.isIE(),this.getData()},methods:{getData:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,this.tableData=[],this.tableData1=[],this.rectificationData=[],this.rectificationData1=[],this.visionData=[],this.visionData1=[],this.townlist=[],this.townlist1=[],this.totalData=[],this.qualityData=[],this.specialData1=[],this.specialData2=[],t.next=15,Object(r["a"])().get("/api/supervision_record/statis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo,sortBy:"cnt"}).then((function(t){e.visionData=t.data,e.getTown()})).catch((function(t){console.error(t)}));case 15:Object(r["a"])().get("/api/supervision_record/statis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo,sortBy:"cnt"}).then((function(t){e.visionData1=t.data,e.getTown1()})).catch((function(t){console.error(t)}));case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTown:function(){var t=this;Object(r["a"])().get("/api/town/all",{}).then((function(e){t.townlist=e,t.getRectification()})).catch((function(t){console.error(t)}))},getTown1:function(){var t=this;Object(r["a"])().get("/api/town/all",{}).then((function(e){t.townlist1=e,t.getRectification1()})).catch((function(t){console.error(t)}))},getRectification:function(){var t=this;Object(r["a"])().get("/api/rectification_record/getStatis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo}).then((function(e){t.rectificationData=e.data;var a=0,i=0,s=0,l=0;t.visionData.forEach((function(e){for(var r=e[0],o=e[1],n=e[3],c="",p=0,h=0;h<t.townlist.length;h++)if(t.townlist[h].id===n){c=t.townlist[h].name;break}for(var u=0;u<t.rectificationData.length;u++)if(n===t.rectificationData[u][1]){p=t.rectificationData[u][0];break}a+=r,s+=p,i+=r-o,l+=e[2],t.tableData.push({townName:c,townCnt:r,townCnt2:p,cntSpecial:e[2],rate:r-o,progress:parseInt(100*(r-o)/r),chatName:c,specialLabel:e[2]+"/"+parseInt(100*e[2]/r)+"%",specialProgress:parseInt(100*e[2]/r)})})),t.tableData.length>0&&(t.totalData.push({townName:"合计",townCnt:a,townCnt2:s,rate:i,progress:parseInt(i/a*100),specialLabel:l+"/"+parseInt(100*l/a)+"%",specialProgress:parseInt(100*l/a),cntSpecial:l}),t.makeQualityData())}))},getRectification1:function(){var t=this;Object(r["a"])().get("/api/rectification_record/getStatis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo}).then((function(e){t.rectificationData1=e.data;t.visionData1.forEach((function(e){for(var a=e[0],i=e[1],s=e[3],l="",r=0,o=0;o<t.townlist1.length;o++)if(t.townlist1[o].id===s){l=t.townlist1[o].name;break}for(var n=0;n<t.rectificationData1.length;n++)if(s===t.rectificationData1[n][1]){r=t.rectificationData1[n][0];break}a,r,a-i,e[2],t.tableData1.push({townName:l,townCnt:a,townCnt2:r,rate:a-i,progress:parseInt(100*(a-i)/a),chatName:l,specialLabel:e[2]+"/"+parseInt(100*e[2]/a)+"%",specialProgress:parseInt(100*e[2]/a)})})),t.tableData1.length>0&&(t.makePieChat1(),t.makePieChat2()),t.listLoading=!1}))},getColor:function(t){return 100===t?"success":"warning"},makePieChat1:function(){this.tableData1.sort((function(t,e){return e.townCnt-t.townCnt}));var t=[];this.tableData1.map((function(e){t.push({value:e.townCnt,name:e.chatName.length>10?e.chatName.substring(0,7)+"...":e.chatName})})),this.pie={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"各乡镇监管记录上传数据的",type:"pie",radius:"50%",center:["54%","50%"],data:t,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:2,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{fontSize:14,color:"#FFF",formatter:"{d}%:{b}"}}],color:this.colorList};var e=-1,a=this.$refs.pie,i=this.pie.series[0].data.length;setInterval((function(){a.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:e}),e=(e+1)%i,a.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e}),a.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:e})}),1e3)},makePieChat2:function(){var t=this;Object(r["a"])().get("/api/quality_standard/statis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo,sortBy:"cnt"}).then((function(e){e.data.forEach((function(e){for(var a="",i=0;i<t.townlist.length;i++)if(t.townlist[i].id===e[1]){a=t.townlist[i].name;break}t.qualityData.push({townName:a,townCnt:e[0],qualityLabel:a})}));var a=o["f"](t.$refs.chartpie2,n["g"]);a.data=t.qualityData,a.responsive.enabled=!0;var i=a.series.push(new n["h"]),s=a.titles.create();s.text="认证统计",s.fontSize=5,s.marginBottom=10,s.fill=o["e"]("#012f8a"),i.dataFields.value="townCnt",i.dataFields.category="qualityLabel",i.ticks.template.strokeWidth=1,i.ticks.template.strokeOpacity=.7,i.ticks.template.fill=o["e"]("#012f8a"),i.ticks.template.fillOpacity=1,i.labels.template.truncate=!0,i.labels.template.fontSize=15,i.labels.template.maxWidth=180,i.labels.template.fill="white",i.labels.template.text="[bold '#20beff']{value.percent.formatNumber('#.0')}%[/] {category}",a.innerRadius=o["g"](40),i.slices.template.fillOpacity=1;var l=new o["a"];l.list=t.colorList.map((function(t){return new o["e"](t)})),i.colors=l;var r=i.slices.template.states.getKey("hover");r.properties.scale=1,r.properties.fillOpacity=.5}))},makeQualityData:function(){for(var t=0;t<this.tableData.length;t+=2)this.specialData1.push({townName:this.tableData[t].townName,progress:this.tableData[t].specialProgress,label:this.tableData[t].specialLabel,townCnt:this.tableData[t].townCnt,cntSpecial:this.tableData[t].cntSpecial}),t!==this.tableData.length-1&&this.specialData2.push({townName:this.tableData[t+1].townName,progress:this.tableData[t+1].specialProgress,label:this.tableData[t+1].specialLabel,townCnt:this.tableData[t+1].townCnt,cntSpecial:this.tableData[t+1].cntSpecial})},isIE:function(){var t=navigator.userAgent;this.is_ie=t.indexOf("MSIE ")>-1||t.indexOf("Trident/")>-1}}},u=h,f=(a("4af5"),a("2877")),d=Object(f["a"])(u,i,s,!1,null,"007424c8",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-92b24b60.5b1e0ee4.js.map