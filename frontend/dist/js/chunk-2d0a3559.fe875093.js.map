{"version":3,"sources":["webpack:///./src/components/supervisionGrid/manageSupervisionGrid/manageSupervisionGrid.vue?ac22","webpack:///src/components/supervisionGrid/manageSupervisionGrid/manageSupervisionGrid.vue","webpack:///./src/components/supervisionGrid/manageSupervisionGrid/manageSupervisionGrid.vue?143a","webpack:///./src/components/supervisionGrid/manageSupervisionGrid/manageSupervisionGrid.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","$event","$router","go","openDialog","handleClose","header","ref","dynamicValidateForm","required","message","trigger","model","value","callback","$$v","$set","expression","_e","_l","rowData","index","key","changeCheckStatus","checked","type","_n","addFormRow","deleteSelectedRows","staticStyle","onSubmit","confirm_dialogVisible","slot","updateSelectedRows","i","_s","supervisorType","showDialog","tableData","directives","name","rawName","functionName","headerName","webMaster","staticRenderFns","data","page","pageIndex","pageSize","rowDatas","selectedTownId","total","listLoading","webMasterData","selectedRows","deletedRows","showWebMaster","selectedSupervisupervisorType","created","$route","params","id","getData","methods","push","title","age","phoneNumber","$$hashKey","splice","rowIndex","length","sort","checkId","$refs","formName","validate","valid","$confirm","component"],"mappings":"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","file":"js/chunk-2d0a3559.fe875093.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"title\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_vm._v(\"监管网格\")]),_c('el-breadcrumb-item',{staticClass:\"actived\"},[_vm._v(\"管理\")])],1)],1),_c('div',{staticClass:\"box no-padding-bottom\"},[_c('div',{staticClass:\"container no-padding-bottom\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1)]),_c('el-dialog',{attrs:{\"visible\":_vm.openDialog,\"width\":\"60%\",\"before-close\":_vm.handleClose,\"title\":_vm.header},on:{\"update:visible\":function($event){_vm.openDialog=$event}}},[_c('el-form',{ref:\"dynamicValidateForm\",attrs:{\"model\":_vm.dynamicValidateForm,\"label-width\":\"100px\"}},[(_vm.showWebMaster)?_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"prop\":\"webMaster\",\"label\":\"站长：\",\"rules\":{ required: true, message: '请插入', trigger: 'change' }}},[_c('el-input',{model:{value:(_vm.dynamicValidateForm.webMaster),callback:function ($$v) {_vm.$set(_vm.dynamicValidateForm, \"webMaster\", $$v)},expression:\"dynamicValidateForm.webMaster\"}})],1)],1)],1):_vm._e(),_vm._l((_vm.dynamicValidateForm.rowDatas),function(rowData,index){return _c('el-row',{key:index},[_c('el-col',{attrs:{\"span\":1}},[_c('el-form-item',{staticClass:\"margin-left-20\"},[_c('el-checkbox',{staticClass:\"form-checkbox\",attrs:{\"true-label\":\"1\",\"false-label\":\"0\"},on:{\"change\":function($event){return _vm.changeCheckStatus(index)}},model:{value:(_vm.checked[index]),callback:function ($$v) {_vm.$set(_vm.checked, index, $$v)},expression:\"checked[index]\"}})],1)],1),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{attrs:{\"label\":\"职能：\",\"prop\":'rowDatas.'+index+'.title',\"rules\":{ required: true, message: '请插入', trigger: 'blur' }}},[_c('el-input',{model:{value:(rowData.title),callback:function ($$v) {_vm.$set(rowData, \"title\", $$v)},expression:\"rowData.title\"}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"姓名:\",\"prop\":'rowDatas.'+index+'.name',\"rules\":{ required: true, message: '请插入', trigger: 'blur' }}},[_c('el-input',{model:{value:(rowData.name),callback:function ($$v) {_vm.$set(rowData, \"name\", $$v)},expression:\"rowData.name\"}})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"年龄:\",\"prop\":'rowDatas.'+index+'.age',\"rules\":{ type: 'number',message: '插入号码'}}},[_c('el-input',{model:{value:(rowData.age),callback:function ($$v) {_vm.$set(rowData, \"age\", _vm._n($$v))},expression:\"rowData.age\"}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"手机号:\",\"prop\":'rowDatas.'+index+'.phoneNumber'}},[_c('el-input',{model:{value:(rowData.phoneNumber),callback:function ($$v) {_vm.$set(rowData, \"phoneNumber\", $$v)},expression:\"rowData.phoneNumber\"}})],1)],1)],1)}),_c('el-row',[_c('el-col',{attrs:{\"span\":15}})],1),_c('el-form-item',{staticClass:\"left-margin flex-box w-100 no-margin-IE\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.addFormRow()}}},[_vm._v(\"添加\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.deleteSelectedRows()}}},[_vm._v(\"删除\")]),_c('el-button',{staticClass:\"margin-right-40\",staticStyle:{\"float\":\"right\"},attrs:{\"size\":\"small\",\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.onSubmit('dynamicValidateForm')}}},[_vm._v(\"保存\")])],1)],2)],1),_c('el-dialog',{attrs:{\"visible\":_vm.confirm_dialogVisible,\"width\":\"30%\",\"modal\":\"\"},on:{\"update:visible\":function($event){_vm.confirm_dialogVisible=$event}}},[_c('span',[_c('i',{staticClass:\"el-icon-warning\"},[_vm._v(\" 继续？请再次检查\")])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.confirm_dialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.updateSelectedRows()}}},[_vm._v(\"确认\")])],1)]),_c('div',{staticClass:\"box\"},[_c('el-row',_vm._l((4),function(i){return _c('el-col',{key:i,attrs:{\"span\":6}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"iptBox margin-bottom-10\"},[_c('div',{staticClass:\"w-50 inline-block-IE\"},[_c('p',[_vm._v(_vm._s(_vm.supervisorType[i-1]))])]),_c('div',{staticClass:\"w-50 inline-block-IE text-right\",staticStyle:{\"margin-left\":\"auto\"}},[_c('el-button',{staticClass:\"margin-left-60-IE\",attrs:{\"size\":\"small\",\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.showDialog(_vm.tableData['group'+i],i)}}},[_vm._v(\"修改\")])],1)]),_c('el-container',[(i!==2)?_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData['group'+i],\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":_vm.functionName[i-1]}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":_vm.headerName[i-1]}})],1):(i===2)?_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData['group'+i],\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":'站长：'+ _vm.dynamicValidateForm.webMaster}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":_vm.functionName[i-1]}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":_vm.headerName[i-1]}})],1)],1):_vm._e()],1)],1)])}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"title\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>监管网格</el-breadcrumb-item>\r\n        <el-breadcrumb-item class=\"actived\">管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"box no-padding-bottom\">\r\n      <div class=\"container no-padding-bottom\">\r\n        <el-button size=\"small\" type=\"primary\" plain v-on:click=\"$router.go(-1)\">返回</el-button>\r\n      </div>\r\n    </div>\r\n    <el-dialog :visible.sync=\"openDialog\" width=\"60%\" :before-close=\"handleClose\" :title=\"header\">\r\n      <!-- <el-row>\r\n        <el-col :span=\"3\" class=\"margin-bottom-30 margin-left-30\">{{header}}</el-col>\r\n      </el-row>-->\r\n      <el-form ref=\"dynamicValidateForm\" :model=\"dynamicValidateForm\" label-width=\"100px\">\r\n        <el-row v-if=\"showWebMaster\">\r\n          <el-col :span=\"5\">\r\n            <el-form-item\r\n              prop=\"webMaster\"\r\n              label=\"站长：\"\r\n              :rules=\"{ required: true, message: '请插入', trigger: 'change' }\"\r\n            >\r\n              <el-input v-model=\"dynamicValidateForm.webMaster\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row v-for=\"(rowData, index) in dynamicValidateForm.rowDatas\" :key=\"index\">\r\n          <el-col :span=\"1\">\r\n            <el-form-item class=\"margin-left-20\">\r\n              <el-checkbox\r\n                @change=\"changeCheckStatus(index)\"\r\n                true-label=\"1\"\r\n                false-label=\"0\"\r\n                class=\"form-checkbox\"\r\n                v-model=\"checked[index]\"\r\n              ></el-checkbox>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item\r\n              label=\"职能：\"\r\n              :prop=\"'rowDatas.'+index+'.title'\"\r\n              :rules=\"{ required: true, message: '请插入', trigger: 'blur' }\"\r\n            >\r\n              <el-input v-model=\"rowData.title\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-form-item\r\n              label=\"姓名:\"\r\n              :prop=\"'rowDatas.'+index+'.name'\"\r\n              :rules=\"{ required: true, message: '请插入', trigger: 'blur' }\"\r\n            >\r\n              <el-input v-model=\"rowData.name\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <el-form-item\r\n              label=\"年龄:\"\r\n              :prop=\"'rowDatas.'+index+'.age'\"\r\n              :rules=\"{ type: 'number',message: '插入号码'}\"\r\n            >\r\n            <!-- <el-form-item\r\n              label=\"年龄:\"\r\n              :prop=\"'rowDatas.'+index+'.age'\"\r\n              :rules=\"[{required: true, message: '请插入'},\r\n                { type: 'number',message: '插入号码'}]\"\r\n            > -->\r\n              <el-input v-model.number=\"rowData.age\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-form-item\r\n              label=\"手机号:\"\r\n              :prop=\"'rowDatas.'+index+'.phoneNumber'\"\r\n            >\r\n            <!-- <el-form-item\r\n              label=\"手机号:\"\r\n              :prop=\"'rowDatas.'+index+'.phoneNumber'\"\r\n              :rules=\"{ required: true, message: '请插入', trigger: 'blur' }\"\r\n            > -->\r\n              <el-input v-model=\"rowData.phoneNumber\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"15\"></el-col>\r\n        </el-row>\r\n        <el-form-item class=\"left-margin flex-box w-100 no-margin-IE\">\r\n          <el-button size=\"small\" @click=\"addFormRow()\" type=\"primary\" plain>添加</el-button>\r\n          <el-button size=\"small\" @click=\"deleteSelectedRows()\" type=\"danger\" plain>删除</el-button>\r\n          <el-button\r\n            size=\"small\"\r\n            @click=\"onSubmit('dynamicValidateForm')\"\r\n            type=\"success\"\r\n            plain\r\n            style=\"float:right\"\r\n            class=\"margin-right-40\"\r\n          >保存</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n    <el-dialog :visible.sync=\"confirm_dialogVisible\" width=\"30%\" modal>\r\n      <span>\r\n        <i class=\"el-icon-warning\">&nbsp;继续？请再次检查</i>\r\n      </span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click=\"confirm_dialogVisible = false\" type=\"primary\" plain>取消</el-button>\r\n        <el-button size=\"small\" type=\"success\" @click=\"updateSelectedRows()\" plain>确认</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <div class=\"box\">\r\n      <el-row>\r\n        <el-col :span=\"6\" v-for=\"i in 4\" :key=\"i\">\r\n          <div class=\"container\">\r\n            <div class=\"iptBox margin-bottom-10\">\r\n              <div class=\"w-50 inline-block-IE\">\r\n                <p>{{supervisorType[i-1]}}</p>\r\n              </div>\r\n              <div style=\"margin-left:auto\" class=\"w-50 inline-block-IE text-right\">\r\n                <el-button\r\n                  size=\"small\"\r\n                  type=\"success\"\r\n                  plain\r\n                  class=\"margin-left-60-IE\"\r\n                  @click=\"showDialog(tableData['group'+i],i)\"\r\n                >修改</el-button>\r\n              </div>\r\n            </div>\r\n            <el-container>\r\n              <el-table\r\n                :data=\"tableData['group'+i]\"\r\n                style=\"width: 100%\"\r\n                v-loading=\"listLoading\"\r\n                highlight-current-row\r\n                v-if=\"i!==2\"\r\n              >\r\n                <el-table-column prop=\"title\" :label=\"functionName[i-1]\"></el-table-column>\r\n                <el-table-column prop=\"name\" :label=\"headerName[i-1]\"></el-table-column>\r\n              </el-table>\r\n              <el-table\r\n                :data=\"tableData['group'+i]\"\r\n                style=\"width: 100%\"\r\n                v-loading=\"listLoading\"\r\n                highlight-current-row\r\n                v-else-if=\"i===2\"\r\n              >\r\n                <el-table-column prop=\"title\" :label=\"'站长：'+ dynamicValidateForm.webMaster\">\r\n                  <el-table-column prop=\"title\" :label=\"functionName[i-1]\"></el-table-column>\r\n                  <el-table-column prop=\"name\" :label=\"headerName[i-1]\"></el-table-column>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-container>\r\n\r\n            <!-- <div class=\"pageBox\">\r\n              <pagination\r\n                v-show=\"total > 0\"\r\n                :total=\"total\"\r\n                :page.sync=\"page.pageIndex\"\r\n                :limit.sync=\"page.pageSize\"\r\n                @pagination=\"getData\"\r\n              />\r\n            </div>-->\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Request from \"@/services/api/request.js\";\r\nimport Pagination from \"@/components/common/pagination\";\r\nimport Auth from \"@/services/authentication/auth.js\";\r\nexport default {\r\n  name: \"manageSupervisionGrid\",\r\n  // components: { Pagination },\r\n  data() {\r\n    return {\r\n      page: {\r\n        pageIndex: 1,\r\n        pageSize: 50\r\n      },\r\n      dynamicValidateForm: {\r\n        rowDatas: [\r\n          {\r\n            id: null,\r\n            title: \"\",\r\n            name: \"\",\r\n            age: null,\r\n            phoneNumber: \"\"\r\n          }\r\n        ],\r\n        webMaster: \"\"\r\n      },\r\n      openDialog: false,\r\n      checked: [],\r\n      selectedTownId: -1,\r\n      total: 0,\r\n      tableData: {},\r\n      listLoading: false,\r\n      supervisorType: [\"分管副镇长\", \"农服办\", \"站所\", \"村级协管\"],\r\n      functionName: [\"职能\", \"职能\", \"站所\", \"村\"],\r\n      headerName: [\"姓名\", \"姓名\", \"人员\", \"协管员\"],\r\n      webMasterData: null,\r\n      selectedRows: [],\r\n      deletedRows: [],\r\n      showWebMaster: false,\r\n      confirm_dialogVisible: false,\r\n      selectedSupervisupervisorType: null,\r\n      header: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.selectedTownId = this.$route.params.id;\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      this.listLoading = true;\r\n      Request()\r\n        .get(\"/api/town/get/\" + this.selectedTownId)\r\n        .then(response => {\r\n          let rawData = response;\r\n          // for (let i = 1; i < 5; i++) {\r\n          //   let row = rawData.filter(el => el.supervisorType === i);\r\n          //   if (row) {\r\n          //     if (i === 2) {\r\n          //       // let tmp = row.find(x => x.function === \"站长\");\r\n          //       let tmp = row.find(x => x.function === \"站长\");\r\n          //       if (tmp) {\r\n          //         this.webMasterData = tmp;\r\n          //         this.dynamicValidateForm.webMaster = tmp.name;\r\n          //       } else {\r\n          //         this.webMasterData = \"\";\r\n          //         this.dynamicValidateForm.webMaster = \"\";\r\n          //       }\r\n          //       let index = row.indexOf(tmp);\r\n          //       if (index > -1) row.splice(index, 1);\r\n          //     }\r\n          //     this.tableData[\"group\" + i] = row;\r\n          //   } else this.tableData[\"group\" + i] = [];\r\n          // }\r\n          var regex = new RegExp(/(?<=\"level1\":)(.*)(?=,\"level2leader\")/g),\r\n            results = regex.exec(rawData.superviseSystem);\r\n          const group1 = results ? results[1] : \"[]\";\r\n          var regex1 = new RegExp(/(?<=\"level2leader\":)(.*)(?=,\"level2\")/g),\r\n            results1 = regex1.exec(rawData.superviseSystem);\r\n          const tmplevel2leader = results1 ? results1[1] : {};\r\n          var regex2 = new RegExp(/(?<=\"level2\":)(.*)(?=,\"level3\")/g),\r\n            results2 = regex2.exec(rawData.superviseSystem);\r\n          const group2 = results2 ? results2[1] : \"[]\";\r\n          var regex3 = new RegExp(/(?<=\"level3\":)(.*)(?=,\"level4\")/g),\r\n            results3 = regex3.exec(rawData.superviseSystem);\r\n          const group3 = results3 ? results3[1] : \"[]\";\r\n          var regex4 = new RegExp(/(?<=\"level4\":)(.*)(?=})/g),\r\n            results4 = regex4.exec(rawData.superviseSystem);\r\n          const group4 = results4 ? results4[1] : \"[]\";\r\n          rawData[\"level2leader\"] = JSON.parse(tmplevel2leader);\r\n          if (rawData[\"level2leader\"][\"name\"]) {\r\n            this.webMasterData = rawData[\"level2leader\"];\r\n            this.dynamicValidateForm.webMaster =\r\n              rawData[\"level2leader\"][\"name\"];\r\n          } else {\r\n            this.webMasterData = \"\";\r\n            this.dynamicValidateForm.webMaster = \"\";\r\n          }\r\n          rawData[\"group1\"] = JSON.parse(group1);\r\n          rawData[\"group2\"] = JSON.parse(group2);\r\n          rawData[\"group3\"] = JSON.parse(group3);\r\n          rawData[\"group4\"] = JSON.parse(group4);\r\n          this.tableData = rawData;\r\n          setTimeout(() => {\r\n            this.listLoading = false;\r\n          }, 0.5 * 1000);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    addFormRow() {\r\n      this.dynamicValidateForm.rowDatas.push({\r\n        id: null,\r\n        title: \"\",\r\n        name: \"\",\r\n        age: null,\r\n        phoneNumber: \"\",\r\n        $$hashKey: \"\"\r\n      });\r\n    },\r\n    showDialog(data, supervisorType) {\r\n      if (supervisorType === 2) this.showWebMaster = true;\r\n      else this.showWebMaster = false;\r\n      this.selectedSupervisupervisorType = supervisorType;\r\n      this.dynamicValidateForm.rowDatas = data;\r\n      this.openDialog = true;\r\n      this.header = this.supervisorType[supervisorType - 1];\r\n    },\r\n    changeCheckStatus(rowIndex) {\r\n      let index = this.selectedRows.indexOf(rowIndex);\r\n      if (index > -1) this.selectedRows.splice(index, 1);\r\n      if (this.checked[rowIndex] == 1) {\r\n        this.selectedRows.push(rowIndex);\r\n      }\r\n    },\r\n    deleteSelectedRows() {\r\n      if (this.selectedRows.length) {\r\n        this.selectedRows = this.selectedRows.sort((a, b) => (a > b ? -1 : 1));\r\n        for (let index in this.selectedRows) {\r\n          let checkId = this.dynamicValidateForm.rowDatas[\r\n            this.selectedRows[index]\r\n          ].id;\r\n          if (checkId) this.deletedRows.push(checkId);\r\n          this.checked[this.selectedRows[index]] = false;\r\n          this.dynamicValidateForm.rowDatas.splice(this.selectedRows[index], 1);\r\n        }\r\n        this.selectedRows = [];\r\n      }\r\n    },\r\n    onSubmit(formName) {\r\n      // console.log(this.dynamicValidateForm.rowDatas);\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.confirm_dialogVisible = true;\r\n        }\r\n      });\r\n    },\r\n    updateSelectedRows() {\r\n      this.confirm_dialogVisible = false;\r\n      this.openDialog = false;\r\n        this.listLoading = true;\r\n        let updateSuperData = {};\r\n        console.log(this.dynamicValidateForm.rowDatas);\r\n        for (let i = 1; i < 5; i++) {\r\n          if (this.selectedSupervisupervisorType == i)\r\n            updateSuperData[\"level\" + i] = this.dynamicValidateForm.rowDatas;\r\n          else updateSuperData[\"level\" + i] = this.tableData[\"group\" + i];\r\n          if (i == 1)\r\n            updateSuperData[\"level2leader\"] = {\r\n              name: this.dynamicValidateForm.webMaster\r\n            };\r\n        }\r\n        // console.log(updateSuperData);\r\n        // updateSuperData[\"level1\"] = this.dynamicValidateForm.rowDatas;\r\n        // updateSuperData[\"level2leader\"] = this.dynamicValidateForm.webMaster;\r\n        // updateSuperData[\"level2\"] = this.tableData.group2;\r\n        // updateSuperData[\"level3\"] = this.tableData.group3;\r\n        // updateSuperData[\"level4\"] = this.tableData.group4;\r\n\r\n        Request()\r\n          .put(\"/api/town/update/\" + this.selectedTownId, {\r\n            divisionCode: this.tableData.divisionCode,\r\n            id: this.selectedTownId,\r\n            name: this.tableData.name,\r\n            superviseSystem: JSON.stringify(updateSuperData)\r\n          })\r\n          .then(response => {\r\n            setTimeout(() => {\r\n              this.listLoading = false;\r\n            }, 0.5 * 1000);\r\n            this.getData();\r\n          });\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm(\"您确定要关闭此对话框吗？\")\r\n        .then(_ => {\r\n          this.getData();\r\n          this.deletedRows = [];\r\n          done();\r\n        })\r\n        .catch(_ => {});\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manageSupervisionGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manageSupervisionGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manageSupervisionGrid.vue?vue&type=template&id=1c794b49&\"\nimport script from \"./manageSupervisionGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./manageSupervisionGrid.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}