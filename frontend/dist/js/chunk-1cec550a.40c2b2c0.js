(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cec550a","chunk-6051483f","chunk-2d0e2754"],{"062e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},i=[];a("c5f6");Math.easeInOutQuad=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(t,e,a){var n=l(),i=t-n,s=20,c=0;e="undefined"===typeof e?500:e;var d=function t(){c+=s;var l=Math.easeInOutQuad(c,n,i,e);o(l),c<e?r(t):a&&"function"===typeof a&&a()};d()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("update:limit",t),this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&s(0,800)},handleCurrentChange:function(t){this.$emit("update:page",t),this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},d=c,u=(a("8367"),a("2877")),f=Object(u["a"])(d,n,i,!1,null,null,null);e["default"]=f.exports},"0a49":function(t,e,a){var n=a("9b43"),i=a("626a"),r=a("4bf8"),o=a("9def"),l=a("cd1c");t.exports=function(t,e){var a=1==t,s=2==t,c=3==t,d=4==t,u=6==t,f=5==t||u,p=e||l;return function(e,l,h){for(var g,m,v=r(e),b=i(v),y=n(l,h,3),w=o(b.length),x=0,C=a?p(e,w):s?p(e,0):void 0;w>x;x++)if((f||x in b)&&(g=b[x],m=y(g,x,v),t))if(a)C[x]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:C.push(g)}else if(d)return!1;return u?-1:c||d?d:C}}},"0aca":function(t,e,a){},1169:function(t,e,a){var n=a("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},7514:function(t,e,a){"use strict";var n=a("5ca1"),i=a("0a49")(5),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(r)},"7f7f":function(t,e,a){var n=a("86cc").f,i=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in i||a("9e1e")&&n(i,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},8367:function(t,e,a){"use strict";var n=a("0aca"),i=a.n(n);i.a},aa02:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"container customized"},[t.listLoading?t._e():a("div",{staticClass:"box padding-modified header statisticsCredit"}),a("div",{staticClass:"box padding-modified body"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:14}},[t.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[t._v("诚信等级")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[t._v("企业数量汇总")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[t._v("诚信等级企业数量汇总")]),a("div",{ref:"chartdiv1",staticClass:"disability-chart chart-container maring-right-10"}),a("div",{staticClass:"white-colored",staticStyle:{position:"absolute",top:"45px",left:"38%"}},[t._v("\n          合计:\n          "),a("span",{staticClass:"blue-colored",staticStyle:{"margin-left":"20px"}},[t._v("A级 ")]),a("span",{staticClass:"blue-colored",staticStyle:{"font-weight":"bold","font-style":"italic","font-size":"32px","line-height":"0.9em","vertical-align":"bottom"}},[t._v(t._s(t.totalA))]),a("span",{staticClass:"blue-colored",staticStyle:{"margin-left":"20px"}},[t._v("B级 ")]),a("span",{staticClass:"blue-colored",staticStyle:{"font-weight":"bold","font-style":"italic","font-size":"32px","line-height":"0.9em","vertical-align":"bottom"}},[t._v(t._s(t.totalB))]),a("span",{staticClass:"blue-colored",staticStyle:{"margin-left":"20px"}},[t._v("C级 ")]),a("span",{staticClass:"blue-colored",staticStyle:{"font-weight":"bold","font-style":"italic","font-size":"32px","line-height":"0.9em","vertical-align":"bottom"}},[t._v(t._s(t.totalC))])])]),a("el-col",{staticClass:"position-relative",attrs:{span:10}},[t.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[t._v("农残监测统计")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[t._v("级上传数据的比例分布")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[t._v("各站点诚信等级上传数据的比例分布")]),a("div",{ref:"chartdiv2",staticClass:"disability-chart chart-container margin-left-10",staticStyle:{"padding-left":"15px"}},[a("figure",[a("chart",{ref:"pie",attrs:{options:t.pie,"init-options":t.initOptions,autoresize:""}})],1)])])],1),a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:14}},[t.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[t._v("各站点")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[t._v("上传数据统计")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[t._v("各站点上传数据统计")]),a("div",{ref:"chartdiv3",staticClass:"disability-chart chart-container maring-right-10"})]),a("el-col",{attrs:{span:10}},[a("div",{ref:"chartdiv4",staticClass:"disability-chart chart-container margin-left-10"},[a("el-row",{staticStyle:{display:"relative","font-size":"20px","font-weight":"bold",color:"#000000","margin-bottom":"15px"}},[t.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[t._v("红")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[t._v("黑名单")])]):a("h1",{staticClass:"gradient-colored chart-title",staticStyle:{"font-size":"20px"}},[t._v("红黑名单")])]),a("el-row",{staticStyle:{margin:"50px 10px 30px 15px","border-bottom":"solid 1px #3787ac"}},[a("div",{staticClass:"white-colored",staticStyle:{"font-size":"15px","font-weight":"bold"}},[t._v("红名单")]),a("div",{staticStyle:{margin:"20px 0 20px 20px","line-height":"3em"}},t._l(t.redData,(function(e){return a("span",{key:e.id,staticClass:"blue-colored",staticStyle:{"margin-right":"40px"},attrs:{value:e.id}},[a("b",[t._v(t._s(e))])])})),0)]),a("el-row",{staticStyle:{margin:"30px 0 30px 15px"}},[a("div",{staticClass:"white-colored",staticStyle:{"font-size":"15px","font-weight":"bold"}},[t._v("黑名单")]),a("div",{staticStyle:{margin:"20px 0 20px 20px","line-height":"3em"}},t._l(t.blackData,(function(e){return a("span",{key:e.id,staticClass:"blue-colored",staticStyle:{"margin-right":"40px"},attrs:{value:e.id}},[a("b",[t._v(t._s(e))])])})),0)])],1)])],1)],1)])},i=[],r=(a("55dd"),a("7f7f"),a("7514"),a("96cf"),a("3b8d")),o=a("55a1"),l=(a("062e"),a("0010"),a("71c9")),s=a("c497"),c=a("5a54"),d=(a("bc3a"),a("c037"),a("007d"),function(){return a.e("chunk-2129e83e").then(a.bind(null,"9ca8"))});l["h"](c["a"]);var u={name:"statisticsCredit",components:{chart:d},data:function(){return{page:{pageIndex:1,pageSize:50},listLoading:!1,totalLoading:!0,toYear:null,toMonth:null,maxCnt:45,progressColor:"",leftTopData:[],leftDownData:[],rightTopData:[],redData:[],blackData:[],township:[],companyProduction:[],totalA:0,totalB:0,totalC:0,colorList:["#229efe","#20beff","#21e3ff","#21ffda","#1fffa6","#61f779","#96f65f","#c9fb64","#c9fb64","#fbd661","#f1be51","#f68a63","#f17263","#ed6082","#ee63ca","#7366f4"],is_ie:null,pie:{},initOptions:{renderer:"canvas"}}},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isIE(),t.next=3,this.getTown();case 3:this.getCompanyProduction();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getTown:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,Object(o["a"])().get("/api/town/all").then((function(t){e.township=e.township.concat(t),e.getLeftTopData(),e.getRightTopData(),e.getLeftDownData()})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createGrid:function(t,e){var a=e.axisRanges.create();a.value=t,a.label.text=this.formatNumber(t)},createGrid1:function(t,e){var a=e.axisRanges.create();a.value=t,a.label.text=t},formatNumber:function(t){return t/1e3+"K"},getLeftTopData:function(){var t=this;Object(o["a"])().get("/api/company_production/getTownCreditStatis",{sortBy:"town_id"}).then((function(e){t.leftTopData=e.data,setTimeout((function(){}),500),t.makeChartLeftTop(),setTimeout((function(){t.totalLoading=!1}),500)})).catch((function(t){console.log(t)}))},getRightTopData:function(){var t=this;Object(o["a"])().get("/api/company_credit_grade/getCreditStatis",{sortBy:"cnt"}).then((function(e){t.leftTopData=e.data,setTimeout((function(){}),500),t.makeChartRightTop()})).catch((function(t){console.log(t)}))},getLeftDownData:function(){var t=this;Object(o["a"])().get("/api/company_credit_grade/getCreditStatis",{sortBy:"townId"}).then((function(e){t.leftDownData=e.data,setTimeout((function(){}),500),t.makeChartLeftDown()})).catch((function(t){console.log(t)}))},getRedData:function(){var t=this;Object(o["a"])().get("/api/company_credit_grade/all",{approvalStatus:2,nowGrade:"A",sortBy:"creditGradeId"}).then((function(e){setTimeout((function(){}),500);t.redData=e.data.map((function(e){return t.filterCompnay(e.creditCode)}))})).catch((function(t){console.log(t)}))},getBlackData:function(){var t=this;Object(o["a"])().get("/api/company_credit_grade/all",{approvalStatus:2,nowGrade:"C",sortBy:"creditGradeId"}).then((function(e){setTimeout((function(){}),500);t.blackData=e.data.map((function(e){return t.filterCompnay(e.creditCode)}))})).catch((function(t){console.log(t)}))},getCompanyProduction:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])().get("/api/company_production/name").then((function(t){e.companyProduction=t,e.getRedData(),e.getBlackData()})).catch((function(t){console.log(t)}));case 2:setTimeout((function(){e.listLoading=!1}),500);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),filterCompnay:function(t){var e=this.companyProduction.find((function(e){return e.creditCode===t}));return e?e.companyName:""},filterTownName:function(t){var e=this.township.find((function(e){return e.id===t}));return e?e.name:""},makeChartLeftTop:function(){var t=this,e=l["f"](this.$refs.chartdiv1,s["j"]),a=[];this.leftTopData.map((function(e){a.push({townId:t.filterTownName(e[4]),"A级":e[1],"B级":e[2],"C级":e[3]}),t.totalA+=e[1],t.totalB+=e[2],t.totalC+=e[3]})),e.data=a,e.responsive.enabled=!0;var n=e.xAxes.push(new s["a"]),i=e.titles.create();i.text="诚信等级企业数量汇总",i.fontSize=5,i.marginBottom=40,i.fill=l["e"]("#012f8a"),n.dataFields.category="townId",n.renderer.grid.template.location=0,n.renderer.grid.template.disabled=!0,n.renderer.minGridDistance=20,n.renderer.labels.template.horizontalCenter="right",n.renderer.labels.template.fill="white",n.renderer.line.strokeOpacity=1,n.renderer.line.strokeWidth=2,n.renderer.labels.template.truncate=!0,n.renderer.labels.template.maxWidth=150,n.renderer.labels.template.fontSize=15,n.renderer.line.stroke=l["e"]("#3787ac");var r=e.yAxes.push(new s["i"]);r.min=0,r.renderer.labels.template.fill="white",r.renderer.grid.template.stroke=l["e"]("#fff"),r.renderer.line.strokeOpacity=1,r.renderer.line.strokeWidth=2,r.renderer.line.stroke=l["e"]("#3787ac");var o=e.series.push(new s["c"]);o.dataFields.valueY="A级",o.dataFields.categoryX="townId",o.name="A级",o.tooltipText="{name}: [bold]{valueY}[/]",o.stroke=l["e"]("red").lighten(-.5);var c=new l["c"];c.addColor(l["e"]("#db4f5a")),c.addColor(l["e"]("#e0c2f8")),c.rotation=90,o.fill=c;var d=o.bullets.push(new s["d"]);d.label.text="{A级}",d.label.rotation=-45,d.label.fill=l["e"]("#20beff"),d.label.dy=-10;var u=e.series.push(new s["c"]);u.dataFields.valueY="B级",u.dataFields.categoryX="townId",u.name="B级",u.tooltipText="{name}: [bold]{valueY}[/]",u.stroke=l["e"]("yellow").lighten(-.5);var f=new l["c"];f.addColor(l["e"]("#f7b918")),f.addColor(l["e"]("#f7ffb2")),f.rotation=90,u.fill=f;var p=u.bullets.push(new s["d"]);p.label.text="{B级}",p.label.rotation=-45,p.label.fill=l["e"]("#20beff"),p.label.dy=-10;var h=e.series.push(new s["c"]);h.dataFields.valueY="C级",h.dataFields.categoryX="townId",h.name="C级",h.tooltipText="{name}: [bold]{valueY}[/]",h.stroke=l["e"]("green").lighten(-.5);var g=new l["c"];g.addColor(l["e"]("#55ea38")),g.addColor(l["e"]("#c1feb9")),g.rotation=90,h.fill=g;var m=h.bullets.push(new s["d"]);m.label.text="{C级}",m.label.fill=l["e"]("#20beff"),m.label.rotation=-45,m.label.dy=-10,e.cursor=new s["k"],e.legend=new s["e"],e.legend.position="top",e.legend.labels.template.fill="white",e.legend.contentAlign="left",e.legend.marginTop=-20;var v=e.legend.createChild(l["b"]);v.text="诚信等级:",v.fontSize=15,v.marginRight=10,v.marginLeft=40,this.is_ie?v.paddingTop=10:v.paddingTop=15,v.fill="white";var b=o.columns.template;b.strokeOpacity=0},makeChartRightTop:function(){var t=this;this.leftTopData.sort((function(t,e){return e.cnt-t.cnt}));var e=[];this.leftTopData.map((function(a){e.push({value:a[0],name:t.filterTownName(a[1])})})),this.pie={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"各站点农残检测上传数据统计",type:"pie",radius:"40%",center:["54%","50%"],data:e,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:2,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{fontSize:16,color:"#FFF",formatter:"{d}%: {b}"}}}],color:this.colorList};var a=-1,n=this.$refs.pie,i=this.pie.series[0].data.length;setInterval((function(){n.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:a}),a=(a+1)%i,n.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:a}),n.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:a})}),1e3)},makeChartLeftDown:function(){var t=this,e=l["f"](this.$refs.chartdiv3,s["j"]),a=[];this.leftDownData.map((function(e){a.push({townId:t.filterTownName(e[1]),cnt:e[0]})})),e.data=a,e.responsive.enabled=!0;var n=e.xAxes.push(new s["a"]),i=e.titles.create();i.text="各站点上传数据统计",i.fontSize=5,i.marginBottom=30,i.fill=l["e"]("#012f8a"),n.dataFields.category="townId",n.renderer.grid.template.disabled=!0,n.renderer.labels.template.fill="white",n.renderer.labels.template.truncate=!0,n.renderer.labels.template.maxWidth=150,n.renderer.labels.template.fontSize=15,n.renderer.labels.template.rotation=-45,n.renderer.grid.template.location=0,n.renderer.line.strokeOpacity=1,n.renderer.line.strokeWidth=2,n.renderer.line.stroke=l["e"]("#3787ac"),n.renderer.labels.template.horizontalCenter="right";var r=e.yAxes.push(new s["i"]);r.min=0,r.renderer.minGridDistance=40,r.renderer.labels.template.fill="white",r.renderer.grid.template.stroke=l["e"]("#fff"),r.renderer.line.strokeOpacity=1,r.renderer.line.strokeWidth=2,r.renderer.line.stroke=l["e"]("#3787ac");var o=e.series.push(new s["c"]);o.dataFields.valueY="cnt",o.dataFields.categoryX="townId",o.name="cnt",o.tooltipText="{name}: [bold]{valueY}[/]";var c=new l["c"];c.addColor(l["e"]("#00d5f7")),c.addColor(l["e"]("#4784ee")),c.rotation=90,o.fill=c;var d=o.bullets.push(new s["d"]);d.label.text="{cnt}",d.label.fill=l["e"]("#20beff"),d.label.rotation=-45,d.label.dy=-10,e.cursor=new s["k"];var u=o.columns.template;u.strokeOpacity=0},getPercent:function(t,e,a){return t&&e?(2===a&&(this.progressColor=parseInt(t/e*100)<100?"warning":"success"),parseInt(t/e*100)):0},isIE:function(){var t=navigator.userAgent;this.is_ie=t.indexOf("MSIE ")>-1||t.indexOf("Trident/")>-1}}},f=u,p=a("2877"),h=Object(p["a"])(f,n,i,!1,null,null,null);e["default"]=h.exports},aa77:function(t,e,a){var n=a("5ca1"),i=a("be13"),r=a("79e5"),o=a("fdef"),l="["+o+"]",s="​",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),u=function(t,e,a){var i={},l=r((function(){return!!o[t]()||s[t]()!=s})),c=i[t]=l?e(f):o[t];a&&(i[a]=c),n(n.P+n.F*l,"String",i)},f=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(d,"")),t};t.exports=u},c5f6:function(t,e,a){"use strict";var n=a("7726"),i=a("69a8"),r=a("2d95"),o=a("5dbc"),l=a("6a99"),s=a("79e5"),c=a("9093").f,d=a("11e9").f,u=a("86cc").f,f=a("aa77").trim,p="Number",h=n[p],g=h,m=h.prototype,v=r(a("2aeb")(m))==p,b="trim"in String.prototype,y=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():f(e,3);var a,n,i,r=e.charCodeAt(0);if(43===r||45===r){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var o,s=e.slice(2),c=0,d=s.length;c<d;c++)if(o=s.charCodeAt(c),o<48||o>i)return NaN;return parseInt(s,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof h&&(v?s((function(){m.valueOf.call(a)})):r(a)!=p)?o(new g(y(e)),a,h):y(e)};for(var w,x=a("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;x.length>C;C++)i(g,w=x[C])&&!i(h,w)&&u(h,w,d(g,w));h.prototype=m,m.constructor=h,a("2aba")(n,p,h)}},cd1c:function(t,e,a){var n=a("e853");t.exports=function(t,e){return new(n(t))(e)}},e853:function(t,e,a){var n=a("d3f4"),i=a("1169"),r=a("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-1cec550a.40c2b2c0.js.map