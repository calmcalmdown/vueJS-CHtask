{"version":3,"sources":["webpack:///./src/components/specialCategory/specialCategory.vue?1e03","webpack:///src/components/specialCategory/specialCategory.vue","webpack:///./src/components/specialCategory/specialCategory.vue?9a47","webpack:///./src/components/specialCategory/specialCategory.vue?6c5b","webpack:///./src/components/specialCategory/specialCategory.vue?d202"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","expression","options","length","on","$event","getYear","model","callback","$$v","year","_l","item","key","_s","tableData","staticStyle","rowIndex","scopedSlots","_u","fn","ref","row","_f","createTime","filterTownship","townId","getCompanyName","companyId","detectTableData","detectTime","sample","resultDxDesc","isShowAddButton","_e","trainTableData","updateSelectedRows","showCheckbox","isShowCheckbox","$router","push","path","changeCheckStatus","id","checked","$set","getTownName","trainingFundsProfiles","downloadFile","staticRenderFns","data","loggedinUserType","total","trainTotal","detectTotal","listLoading","companyList","companyName","township","townName","supervisionRecordTimeFrom","supervisionRecordTimeTo","detectTimeFrom","detectTimeTo","createTimeFrom","createTimeTo","specialFlag","selectedRows","created","getList","getDetectList","getTrainList","getTown","methods","town","filterCompanyName","company","url","method","responseType","window","navigator","msSaveOrOpenBlob","newBlob","downloadFileName","replace","link","href","setAttribute","document","body","appendChild","click","remove","isIE","ua","indexOf","index","splice","$confirm","component"],"mappings":"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","file":"js/chunk-69598d54.43bff67f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"title\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_vm._v(\"专项：绿色优质农产品生产基地\")])],1)],1),_c('div',{staticClass:\"box\"},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}]},[_c('div',{staticClass:\"row year-select-panel\"},[_c('el-form-item',{attrs:{\"label\":\"年度\"}},[_c('el-select',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"disabled\":!(_vm.options.length > 0)},on:{\"change\":function($event){return _vm.getYear()}},model:{value:(_vm.year),callback:function ($$v) {_vm.year=$$v},expression:\"year\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.value,\"value\":item.value}})}),1)],1)],1),_c('div',{staticClass:\"cate-content-panel\"},[_c('div',{staticClass:\"cate-item-panel inline-block-IE\"},[_c('el-form-item',{attrs:{\"label\":\"巡查\"}},[_vm._v(\"(\"+_vm._s(_vm.tableData.length)+\")\")]),_c('el-container',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"row-class-name\":_vm.rowIndex,\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"formatDate\")(row.createTime)))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"township\",\"label\":\"乡镇\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                  \"+_vm._s(_vm.filterTownship(row.townId))+\"\\n                \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"inspector\",\"label\":\"检查人\"}}),_c('el-table-column',{attrs:{\"prop\":\"unitinspec\",\"label\":\"检查单位\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                  \"+_vm._s(_vm.getCompanyName(row.companyId))+\"\\n                \")]}}])})],1)],1)],1),_c('div',{staticClass:\"cate-item-panel inline-block-IE\"},[_c('el-form-item',{attrs:{\"label\":\"检测\"}},[_vm._v(\"(\"+_vm._s(_vm.detectTableData.length)+\")\")]),_c('el-container',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.detectTableData,\"row-class-name\":_vm.rowIndex,\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"formatDate\")(row.detectTime)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"项目\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.item))]}}])}),_c('el-table-column',{attrs:{\"label\":\"样品\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.sample))]}}])}),_c('el-table-column',{attrs:{\"label\":\"结果\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.resultDxDesc))]}}])})],1)],1)],1),_c('div',{staticClass:\"cate-item-panel inline-block-IE\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('el-form-item',{staticClass:\"margin-bottom-reverse-40\",attrs:{\"label\":\"培训记录\"}}),_c('div',{staticClass:\"inline-block-IE align-right-IE\"},[(!_vm.isShowAddButton)?_c('el-button',{staticClass:\"margin-bottom-22\",attrs:{\"size\":\"small\",\"type\":\"danger\",\"plain\":\"\",\"disabled\":!(_vm.trainTableData.length > 0)},on:{\"click\":function($event){return _vm.updateSelectedRows()}}},[_vm._v(\"删除\")]):_vm._e(),(_vm.trainTableData.length > 0)?_c('el-checkbox',{staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"20px\"},attrs:{\"true-label\":\"1\",\"false-label\":\"0\"},on:{\"change\":_vm.showCheckbox},model:{value:(_vm.isShowCheckbox),callback:function ($$v) {_vm.isShowCheckbox=$$v},expression:\"isShowCheckbox\"}}):_vm._e()],1),(_vm.isShowAddButton)?_c('el-button',{staticClass:\"inline-block-IE float-right-IE\",staticStyle:{\"height\":\"40px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.$router.push({\n                  path: \"/trainingFunds\"\n                })}}},[_vm._v(\"添加附件\")]):_vm._e()],1),_c('el-container',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.trainTableData,\"row-class-name\":_vm.rowIndex,\"highlight-current-row\":\"\"}},[(_vm.isShowCheckbox != 0)?_c('el-table-column',{attrs:{\"label\":\"\",\"width\":\"35\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                var row = ref.row;\nreturn [_c('el-checkbox',{staticStyle:{\"margin-left\":\"auto\"},attrs:{\"true-label\":\"1\",\"false-label\":\"0\"},on:{\"change\":function($event){return _vm.changeCheckStatus(row.id)}},model:{value:(_vm.checked[row.id]),callback:function ($$v) {_vm.$set(_vm.checked, row.id, $$v)},expression:\"checked[row.id]\"}})]}}],null,false,574067976)}):_vm._e(),_c('el-table-column',{attrs:{\"label\":\"日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                var row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"formatDate\")(row.createTime)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"乡镇\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                var row = ref.row;\nreturn [_vm._v(\"\\n                  \"+_vm._s(_vm.getTownName(row.companyId))+\"\\n                \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"文件\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                var row = ref.row;\nreturn [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"plain\":\"\",\"disabled\":!row.trainingFundsProfiles},on:{\"click\":function($event){return _vm.downloadFile(row.trainingFundsProfiles)}}},[_vm._v(\"下载附件\")])]}}])})],1)],1)],1)])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"title\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>专项：绿色优质农产品生产基地</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"box\">\r\n      <el-form v-loading=\"listLoading\">\r\n        <div class=\"row year-select-panel\">\r\n          <el-form-item label=\"年度\">\r\n            <el-select\r\n              v-model=\"year\"\r\n              v-on:change=\"getYear()\"\r\n              v-loading=\"listLoading\"\r\n              :disabled=\"!(options.length > 0)\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in options\"\r\n                :key=\"item.value\"\r\n                :label=\"item.value\"\r\n                :value=\"item.value\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"cate-content-panel\">\r\n          <div class=\"cate-item-panel inline-block-IE\">\r\n            <el-form-item label=\"巡查\">({{ tableData.length }})</el-form-item>\r\n            <el-container>\r\n              <el-table\r\n                style=\"width: 100%\"\r\n                :data=\"tableData\"\r\n                :row-class-name=\"rowIndex\"\r\n                v-loading=\"listLoading\"\r\n                highlight-current-row\r\n              >\r\n                <el-table-column prop=\"createTime\" label=\"日期\">\r\n                  <template slot-scope=\"{ row }\">{{\r\n                    row.createTime | formatDate\r\n                  }}</template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"township\" label=\"乡镇\">\r\n                  <template slot-scope=\"{ row }\">\r\n                    {{ filterTownship(row.townId) }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"inspector\"\r\n                  label=\"检查人\"\r\n                ></el-table-column>\r\n                <el-table-column prop=\"unitinspec\" label=\"检查单位\">\r\n                  <template slot-scope=\"{ row }\">\r\n                    {{ getCompanyName(row.companyId) }}\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-container>\r\n          </div>\r\n          <div class=\"cate-item-panel inline-block-IE\">\r\n            <el-form-item label=\"检测\"\r\n              >({{ detectTableData.length }})</el-form-item\r\n            >\r\n            <el-container>\r\n              <el-table\r\n                style=\"width: 100%\"\r\n                :data=\"detectTableData\"\r\n                :row-class-name=\"rowIndex\"\r\n                v-loading=\"listLoading\"\r\n                highlight-current-row\r\n              >\r\n                <el-table-column label=\"日期\">\r\n                  <template slot-scope=\"{ row }\">{{\r\n                    row.detectTime | formatDate\r\n                  }}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"项目\">\r\n                  <template slot-scope=\"{ row }\">{{ row.item }}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"样品\">\r\n                  <template slot-scope=\"{ row }\">{{ row.sample }}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"结果\">\r\n                  <template slot-scope=\"{ row }\">{{\r\n                    row.resultDxDesc\r\n                  }}</template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-container>\r\n          </div>\r\n          <div class=\"cate-item-panel inline-block-IE\">\r\n            <div style=\"display: flex; justify-content: space-between;\">\r\n              <el-form-item\r\n                label=\"培训记录\"\r\n                class=\"margin-bottom-reverse-40\"\r\n              ></el-form-item>\r\n              <div class=\"inline-block-IE align-right-IE\">\r\n                <el-button\r\n                  size=\"small\"\r\n                  type=\"danger\"\r\n                  class=\"margin-bottom-22\"\r\n                  plain\r\n                  v-if=\"!isShowAddButton\"\r\n                  @click=\"updateSelectedRows()\"\r\n                  :disabled=\"!(trainTableData.length > 0)\"\r\n                  >删除</el-button\r\n                >\r\n                <el-checkbox\r\n                  v-model=\"isShowCheckbox\"\r\n                  true-label=\"1\"\r\n                  false-label=\"0\"\r\n                  @change=\"showCheckbox\"\r\n                  v-if=\"trainTableData.length > 0\"\r\n                  style=\"margin-top: 10px; margin-left: 20px;\"\r\n                />\r\n              </div>\r\n              <el-button\r\n                size=\"small\"\r\n                class=\"inline-block-IE float-right-IE\"\r\n                type=\"primary\"\r\n                style=\"height:40px\"\r\n                plain\r\n                v-if=\"isShowAddButton\"\r\n                @click=\"\r\n                  $router.push({\r\n                    path: `/trainingFunds`\r\n                  })\r\n                \"\r\n                >添加附件</el-button\r\n              >\r\n            </div>\r\n            <el-container>\r\n              <el-table\r\n                style=\"width: 100%\"\r\n                :data=\"trainTableData\"\r\n                :row-class-name=\"rowIndex\"\r\n                highlight-current-row\r\n              >\r\n                <el-table-column label width=\"35\" v-if=\"isShowCheckbox != 0\">\r\n                  <template slot-scope=\"{ row }\">\r\n                    <el-checkbox\r\n                      style=\"margin-left:auto\"\r\n                      @change=\"changeCheckStatus(row.id)\"\r\n                      true-label=\"1\"\r\n                      false-label=\"0\"\r\n                      v-model=\"checked[row.id]\"\r\n                    ></el-checkbox>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"日期\">\r\n                  <template slot-scope=\"{ row }\">{{\r\n                    row.createTime | formatDate\r\n                  }}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"乡镇\">\r\n                  <template slot-scope=\"{ row }\">\r\n                    {{ getTownName(row.companyId) }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"文件\">\r\n                  <template slot-scope=\"{ row }\">\r\n                    <el-button\r\n                      size=\"small\"\r\n                      type=\"success\"\r\n                      plain\r\n                      :disabled=\"!row.trainingFundsProfiles\"\r\n                      @click=\"downloadFile(row.trainingFundsProfiles)\"\r\n                      >下载附件</el-button\r\n                    >\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-container>\r\n          </div>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Request from \"../../services/api/request.js\";\r\nimport { Urls } from \"../../services/constants\";\r\nimport axios from \"axios\";\r\nimport Storage from \"store\";\r\nimport Auth from \"@/services/authentication/auth.js\";\r\nexport default {\r\n  name: \"specialCategory\",\r\n  data() {\r\n    return {\r\n      loggedinUserType: null,\r\n      total: 0,\r\n      trainTotal: 0,\r\n      detectTotal: 0,\r\n      tableData: [],\r\n      trainTableData: [],\r\n      detectTableData: [],\r\n      listLoading: true,\r\n      companyList: [],\r\n      companyId: -1,\r\n      companyName: \"\",\r\n      township: [{ id: -1, name: \"全部\" }],\r\n      townName: \"\",\r\n      year: \"全部\",\r\n      supervisionRecordTimeFrom: \"\",\r\n      supervisionRecordTimeTo: \"\",\r\n      detectTimeFrom: \"\",\r\n      detectTimeTo: \"\",\r\n      createTimeFrom: \"\",\r\n      createTimeTo: \"\",\r\n      specialFlag: -1,\r\n      options: [\r\n        { value: \"全部\" },\r\n        { value: \"2018\" },\r\n        { value: \"2019\" },\r\n        { value: \"2020\" },\r\n        { value: \"2021\" },\r\n        { value: \"2022\" },\r\n        { value: \"2023\" }\r\n      ],\r\n      isShowCheckbox: 0,\r\n      selectedRows: [],\r\n      checked: [],\r\n      isShowAddButton: null\r\n    };\r\n  },\r\n  created() {\r\n    this.companyId = 0;\r\n    this.specialFlag = 1;\r\n    this.supervisionRecordTimeFrom = \"\";\r\n    this.supervisionRecordTimeTo = \"\";\r\n    this.detectTimeFrom = \"\";\r\n    this.detectTimeTo = \"\";\r\n    this.getList();\r\n    this.getDetectList();\r\n    this.getTrainList();\r\n    this.getTown();\r\n    this.isShowAddButton = Storage.get(\"authList\").find(\r\n      x => x.privilegeCode == \"addTrainingFunds\"\r\n    )\r\n      ? true\r\n      : false;\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true;\r\n      Request()\r\n        .get(\"/api/supervision_record/all\", {\r\n          companyId: this.companyId,\r\n          specialFlag: this.specialFlag,\r\n          supervisionRecordTimeFrom: this.supervisionRecordTimeFrom,\r\n          supervisionRecordTimeTo: this.supervisionRecordTimeTo,\r\n          sortBy: \"id\"\r\n        })\r\n        .then(response => {\r\n          this.tableData = response.data;\r\n          this.total = response.total;\r\n          setTimeout(() => {\r\n            this.listLoading = false;\r\n          }, 0.5 * 1000);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getDetectList() {\r\n      this.listLoading = true;\r\n      Request()\r\n        .get(\"/api/disability_check/all\", {\r\n          specialFlag: this.specialFlag,\r\n          detectTimeFrom: this.detectTimeFrom,\r\n          detectTimeTo: this.detectTimeTo,\r\n          sortBy: \"id\"\r\n        })\r\n        .then(response => {\r\n          this.detectTableData = response.data;\r\n          this.detectTotal = response.total;\r\n          setTimeout(() => {\r\n            this.listLoading = false;\r\n          }, 0.5 * 1000);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getTrainList() {\r\n      Request()\r\n        .get(\"/api/training_funds/all\", {\r\n          specialFlag: this.specialFlag,\r\n          createTimeFrom: this.createTimeFrom,\r\n          createTimeTo: this.createTimeTo,\r\n          sortBy: \"id\"\r\n        })\r\n        .then(response => {\r\n          this.trainTableData = response.data;\r\n          this.trainTotal = response.total;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getYear() {\r\n      if(this.year!==\"全部\"){\r\n        this.supervisionRecordTimeFrom =\r\n          this.year + \"-\" + \"01\" + \"-\" + \"01\" + \" \" + \"00:00:00\";\r\n        this.supervisionRecordTimeTo =\r\n          this.year + \"-\" + \"12\" + \"-\" + \"31\" + \" \" + \"00:00:00\";\r\n        this.detectTimeFrom =\r\n          this.year + \"-\" + \"01\" + \"-\" + \"01\" + \" \" + \"00:00:00\";\r\n        this.detectTimeTo =\r\n          this.year + \"-\" + \"12\" + \"-\" + \"31\" + \" \" + \"00:00:00\";\r\n        this.createTimeFrom =\r\n          this.year + \"-\" + \"01\" + \"-\" + \"01\" + \" \" + \"00:00:00\";\r\n        this.createTimeTo =\r\n          this.year + \"-\" + \"12\" + \"-\" + \"31\" + \" \" + \"00:00:00\";\r\n      }\r\n      this.tableData = [];\r\n      this.detectTableData = [];\r\n      this.total = [];\r\n      this.detectTotal = [];\r\n      this.getList();\r\n      this.getDetectList();\r\n    },\r\n    getTown() {\r\n      Request()\r\n        .get(\"/api/town/all\")\r\n        .then(response => {\r\n          this.township = this.township.concat(response);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getCompanyName(id) {\r\n      Request()\r\n        .get(\"/api/company_production/name\", {\r\n          companyId: id\r\n        })\r\n        .then(response => {\r\n          this.companyName = response[0].companyName;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      return this.companyName;\r\n    },\r\n    getTownName(id) {\r\n      Request()\r\n        .get(\"/api/company_production/name\", {\r\n          companyId: id\r\n        })\r\n        .then(response => {\r\n          this.townName = this.filterTownship(response[0].townId);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      return this.townName;\r\n    },\r\n    filterTownship(townId) {\r\n      let town = this.township.find(x => x.id === townId);\r\n      if (town) {\r\n        return town.name;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n    filterCompanyName(companyId) {\r\n      let company = this.township.find(x => x.id === companyId);\r\n      if (company) {\r\n        return company.companyName;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n    rowIndex({ row, rowIndex }) {\r\n      row.rowIndex = rowIndex;\r\n    },\r\n    downloadFile(downloadFileName) {\r\n      axios({\r\n        url: Urls.DOWNLOAD_URL() + downloadFileName,\r\n        method: \"GET\",\r\n        responseType: \"blob\"\r\n      }).then(response => {\r\n        if(!this.isIE()){\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.setAttribute(\r\n            \"download\",\r\n            downloadFileName.replace(\"/uploads/\", \"\")\r\n          );\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          link.remove();\r\n        }else{\r\n          const newBlob = new Blob([response.data], {type: 'application/octet-stream'});\r\n          if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n            window.navigator.msSaveOrOpenBlob(newBlob, downloadFileName.replace(\"/uploads/\", \"\"));\r\n            return;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    isIE() {\r\n      let ua = navigator.userAgent;\r\n      /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n      return ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n    },\r\n    changeCheckStatus(id) {\r\n      let index = this.selectedRows.indexOf(id);\r\n      if (index > -1) this.selectedRows.splice(index, 1);\r\n      if (this.checked[id]) {\r\n        this.selectedRows.push(id);\r\n      }\r\n    },\r\n    updateSelectedRows() {\r\n      this.$confirm(\"确认删除该记录吗?\", \"提示\", { type: \"warning\" }).then(\r\n        () => {\r\n          this.listLoading = true;\r\n          for (let index in this.selectedRows) {\r\n            let specialFlag = 0;\r\n            Request()\r\n              .put(\r\n                \"/api/training_funds/update_special_flag/\" +\r\n                  this.selectedRows[index] +\r\n                  \"/\" +\r\n                  specialFlag\r\n              )\r\n              .then(response => {\r\n                this.selectedRows = [];\r\n                this.checked = [];\r\n                this.isShowCheckbox = 0;\r\n                this.getTrainList();\r\n                setTimeout(() => {\r\n                  this.listLoading = false;\r\n                }, 0.5 * 1000);\r\n              })\r\n              .catch(error => {\r\n                console.log(error);\r\n              });\r\n          }\r\n        }\r\n      );\r\n    },\r\n    showCheckbox() {\r\n      if (this.isShowCheckbox == 1) {\r\n        this.selectedRows = [];\r\n        this.checked = [];\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.year-select-panel {\r\n  width: 100%;\r\n  margin-top: 2rem;\r\n}\r\n.cate-content-panel {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.cate-item-panel {\r\n  width: 100%;\r\n  margin: 0.2rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./specialCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./specialCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./specialCategory.vue?vue&type=template&id=34369a6c&\"\nimport script from \"./specialCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./specialCategory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./specialCategory.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./specialCategory.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./specialCategory.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}