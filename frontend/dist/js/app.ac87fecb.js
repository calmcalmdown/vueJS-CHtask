(function(e){function t(t){for(var n,r,c=t[0],l=t[1],s=t[2],d=0,u=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);h&&h(t);while(u.length)u.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={app:0},i={app:0},o=[];function c(e){return l.p+"js/"+({canvg:"canvg",xlsx:"xlsx",pdfmake:"pdfmake"}[e]||e)+"."+{canvg:"6f395599","chunk-00501439":"eee815d2","chunk-03bb5d8c":"6bc9c741","chunk-062acfa6":"1add4ccc","chunk-08661eb6":"97063192","chunk-0884d831":"22108fe0","chunk-0cd43a64":"df854e09","chunk-0eec536d":"f9315628","chunk-1279e957":"81c35ed0","chunk-14d37995":"c66b36db","chunk-14d9c179":"730bbe81","chunk-1583652c":"67e7e8ec","chunk-1741a52e":"b74ed48b","chunk-205ff1aa":"b8073eaf","chunk-21836398":"083ba913","chunk-2300a837":"27501e98","chunk-2782e6c8":"c01cbbae","chunk-2d0a3559":"fe875093","chunk-2d0ae527":"2ee2d9dc","chunk-2d0af7b1":"c5291d5e","chunk-2d0b9671":"d4f55cf3","chunk-2d0b9de5":"0f0b3ef3","chunk-2d0b9df5":"58e0e78f","chunk-2d0bd1f9":"7c343231","chunk-2d0bd7b2":"9800fa66","chunk-2d0bd94d":"7943b432","chunk-2d0bdb6a":"a8b57f29","chunk-2d0bdb94":"d857ff21","chunk-2d0c1d1b":"e41be781","chunk-2d0c53bb":"6fb386de","chunk-2d0c7705":"c49a7780","chunk-2d0c954a":"eadf6499","chunk-2d0cb723":"8c8e079f","chunk-2d0cbeb1":"4aa71b38","chunk-2d0ccf1c":"bccc977f","chunk-2d0ccfe7":"e00c7ba3","chunk-2d0cec39":"dff9d944","chunk-2d0cf9f7":"a6c903b8","chunk-2d0d383a":"743184a9","chunk-2d0d6342":"c5f67a1a","chunk-2d0d6708":"6fe6f035","chunk-2d0d7997":"0ebcb7fb","chunk-2d0da3bd":"ad0b0f95","chunk-2d0dd777":"658a8eaf","chunk-2d0dd7b3":"decc4619","chunk-2d0def21":"ad643d2a","chunk-2d0e5d5f":"bb6239fb","chunk-2d0f0a5c":"5e37ed6e","chunk-2d207aac":"95a0fe12","chunk-2d208c68":"324ae14a","chunk-2d20971c":"8680d509","chunk-2d209bad":"0f596e4a","chunk-2d20fb75":"bf390b28","chunk-2d212f95":"319c59d4","chunk-2d2134c9":"48bffcb6","chunk-2d2163a5":"5aa98a75","chunk-2d216806":"425d2b13","chunk-2d216fc7":"169db997","chunk-2d21dbbb":"0674af3b","chunk-2d21df6e":"f873f499","chunk-2d21e1aa":"e7593fc6","chunk-2d221484":"8bed37eb","chunk-2d221de1":"8528ae6f","chunk-2d221fb5":"741699ee","chunk-2d222754":"92dc0aa1","chunk-2d224c85":"e5bd8ef0","chunk-2d2255db":"97be933b","chunk-2d228951":"dac48e0c","chunk-2d229203":"503eaed4","chunk-2d22cab0":"fcb9673e","chunk-2d22dbb5":"b3a4d1a5","chunk-2d23016f":"8f498620","chunk-2d230825":"eed476ae","chunk-2d230bb9":"b5db9be0","chunk-2d2376e0":"eb655dcc","chunk-2d237982":"f51cdb16","chunk-2d2384d2":"179a344f","chunk-2d2389fa":"c4cdd0fc","chunk-30bdc57c":"12ee5a21","chunk-33fbfd55":"41de34bd","chunk-3574d41e":"ff0cd0af","chunk-3859f687":"d426b084","chunk-38ec32fc":"1c2bc40b","chunk-3dbd9c32":"5dd3d6d3","chunk-3e0261b6":"ea7feb13","chunk-3f98fda2":"2b57bd57","chunk-42c7471f":"4a6f31b4","chunk-449614b4":"24312705","chunk-45238602":"5f97eb4f","chunk-45812401":"999ddae4","chunk-466135e9":"3eae6dcd","chunk-4bf807f0":"7f10f44c","chunk-4d77dfd0":"438d60c2","chunk-50f74d0e":"e8d7254d","chunk-5276cae0":"449ac255","chunk-559c5eb1":"81d59e9e","chunk-5767597e":"835b7b33","chunk-5a345900":"56110034","chunk-5ab94975":"cfd6ffb2","chunk-5bdd67a2":"7c6af70a","chunk-2d0c4db7":"b465f0ab","chunk-68abf7c6":"b0161c07","chunk-69598d54":"43bff67f","chunk-6b4855ac":"e8003d34","chunk-6e83591c":"33586c94",xlsx:"df8d1fc2","chunk-71f5892a":"c2e07789","chunk-73a54124":"9e059d34","chunk-746f9207":"f234be48","chunk-74ad1ee4":"07fbd042","chunk-754b740b":"88e82753","chunk-761b1bb8":"f1f25f9f","chunk-77302333":"12104813","chunk-77e0448e":"a580066a","chunk-7975686c":"a7b440d6","chunk-79771d3d":"148c8791","chunk-7c6238f6":"dc832d6c","chunk-86d92854":"5ee5ddef","chunk-9105eba0":"0232eaf2","chunk-9bb1a3d4":"3a1a15e1","chunk-9fe46624":"7bb93a51","chunk-f12ead12":"073adbec",pdfmake:"a218028a","chunk-f97bf932":"e4d3e4d6"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-00501439":1,"chunk-03bb5d8c":1,"chunk-062acfa6":1,"chunk-08661eb6":1,"chunk-0884d831":1,"chunk-0cd43a64":1,"chunk-0eec536d":1,"chunk-1279e957":1,"chunk-14d37995":1,"chunk-14d9c179":1,"chunk-1583652c":1,"chunk-1741a52e":1,"chunk-205ff1aa":1,"chunk-21836398":1,"chunk-2300a837":1,"chunk-2782e6c8":1,"chunk-33fbfd55":1,"chunk-3574d41e":1,"chunk-3859f687":1,"chunk-38ec32fc":1,"chunk-3dbd9c32":1,"chunk-3e0261b6":1,"chunk-3f98fda2":1,"chunk-42c7471f":1,"chunk-449614b4":1,"chunk-45238602":1,"chunk-45812401":1,"chunk-466135e9":1,"chunk-4bf807f0":1,"chunk-50f74d0e":1,"chunk-5276cae0":1,"chunk-5767597e":1,"chunk-5a345900":1,"chunk-5ab94975":1,"chunk-68abf7c6":1,"chunk-69598d54":1,"chunk-6b4855ac":1,"chunk-71f5892a":1,"chunk-73a54124":1,"chunk-754b740b":1,"chunk-761b1bb8":1,"chunk-77e0448e":1,"chunk-7975686c":1,"chunk-79771d3d":1,"chunk-7c6238f6":1,"chunk-86d92854":1,"chunk-9105eba0":1,"chunk-9bb1a3d4":1,"chunk-9fe46624":1,"chunk-f12ead12":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({canvg:"canvg",xlsx:"xlsx",pdfmake:"pdfmake"}[e]||e)+"."+{canvg:"31d6cfe0","chunk-00501439":"76e43123","chunk-03bb5d8c":"2222ceef","chunk-062acfa6":"97ae69ad","chunk-08661eb6":"5ab289b6","chunk-0884d831":"29709185","chunk-0cd43a64":"b81035c2","chunk-0eec536d":"7b1b9228","chunk-1279e957":"dcac2f77","chunk-14d37995":"1a43e8d0","chunk-14d9c179":"9c92e192","chunk-1583652c":"d9c5b5f2","chunk-1741a52e":"ed42b6c6","chunk-205ff1aa":"32aa6541","chunk-21836398":"83e209bb","chunk-2300a837":"0e433876","chunk-2782e6c8":"bd84afa9","chunk-2d0a3559":"31d6cfe0","chunk-2d0ae527":"31d6cfe0","chunk-2d0af7b1":"31d6cfe0","chunk-2d0b9671":"31d6cfe0","chunk-2d0b9de5":"31d6cfe0","chunk-2d0b9df5":"31d6cfe0","chunk-2d0bd1f9":"31d6cfe0","chunk-2d0bd7b2":"31d6cfe0","chunk-2d0bd94d":"31d6cfe0","chunk-2d0bdb6a":"31d6cfe0","chunk-2d0bdb94":"31d6cfe0","chunk-2d0c1d1b":"31d6cfe0","chunk-2d0c53bb":"31d6cfe0","chunk-2d0c7705":"31d6cfe0","chunk-2d0c954a":"31d6cfe0","chunk-2d0cb723":"31d6cfe0","chunk-2d0cbeb1":"31d6cfe0","chunk-2d0ccf1c":"31d6cfe0","chunk-2d0ccfe7":"31d6cfe0","chunk-2d0cec39":"31d6cfe0","chunk-2d0cf9f7":"31d6cfe0","chunk-2d0d383a":"31d6cfe0","chunk-2d0d6342":"31d6cfe0","chunk-2d0d6708":"31d6cfe0","chunk-2d0d7997":"31d6cfe0","chunk-2d0da3bd":"31d6cfe0","chunk-2d0dd777":"31d6cfe0","chunk-2d0dd7b3":"31d6cfe0","chunk-2d0def21":"31d6cfe0","chunk-2d0e5d5f":"31d6cfe0","chunk-2d0f0a5c":"31d6cfe0","chunk-2d207aac":"31d6cfe0","chunk-2d208c68":"31d6cfe0","chunk-2d20971c":"31d6cfe0","chunk-2d209bad":"31d6cfe0","chunk-2d20fb75":"31d6cfe0","chunk-2d212f95":"31d6cfe0","chunk-2d2134c9":"31d6cfe0","chunk-2d2163a5":"31d6cfe0","chunk-2d216806":"31d6cfe0","chunk-2d216fc7":"31d6cfe0","chunk-2d21dbbb":"31d6cfe0","chunk-2d21df6e":"31d6cfe0","chunk-2d21e1aa":"31d6cfe0","chunk-2d221484":"31d6cfe0","chunk-2d221de1":"31d6cfe0","chunk-2d221fb5":"31d6cfe0","chunk-2d222754":"31d6cfe0","chunk-2d224c85":"31d6cfe0","chunk-2d2255db":"31d6cfe0","chunk-2d228951":"31d6cfe0","chunk-2d229203":"31d6cfe0","chunk-2d22cab0":"31d6cfe0","chunk-2d22dbb5":"31d6cfe0","chunk-2d23016f":"31d6cfe0","chunk-2d230825":"31d6cfe0","chunk-2d230bb9":"31d6cfe0","chunk-2d2376e0":"31d6cfe0","chunk-2d237982":"31d6cfe0","chunk-2d2384d2":"31d6cfe0","chunk-2d2389fa":"31d6cfe0","chunk-30bdc57c":"31d6cfe0","chunk-33fbfd55":"f9c466ab","chunk-3574d41e":"3cab1ca5","chunk-3859f687":"ed42b6c6","chunk-38ec32fc":"f911304c","chunk-3dbd9c32":"beea2077","chunk-3e0261b6":"1c4b85a3","chunk-3f98fda2":"5ab289b6","chunk-42c7471f":"1d4b58c9","chunk-449614b4":"dbf99d2b","chunk-45238602":"b1fd304a","chunk-45812401":"cfec1339","chunk-466135e9":"c59f9fb2","chunk-4bf807f0":"8f8ce20e","chunk-4d77dfd0":"31d6cfe0","chunk-50f74d0e":"97ae69ad","chunk-5276cae0":"00de3a92","chunk-559c5eb1":"31d6cfe0","chunk-5767597e":"cf368b12","chunk-5a345900":"bfaefc67","chunk-5ab94975":"0e433876","chunk-5bdd67a2":"31d6cfe0","chunk-2d0c4db7":"31d6cfe0","chunk-68abf7c6":"0e433876","chunk-69598d54":"a1bf4b12","chunk-6b4855ac":"f7b76d25","chunk-6e83591c":"31d6cfe0",xlsx:"31d6cfe0","chunk-71f5892a":"765dbaad","chunk-73a54124":"0e433876","chunk-746f9207":"31d6cfe0","chunk-74ad1ee4":"31d6cfe0","chunk-754b740b":"3184ad73","chunk-761b1bb8":"86b14e8f","chunk-77302333":"31d6cfe0","chunk-77e0448e":"97ae69ad","chunk-7975686c":"dcfe3752","chunk-79771d3d":"fa53581e","chunk-7c6238f6":"629949b5","chunk-86d92854":"489ae363","chunk-9105eba0":"6dc57fe0","chunk-9bb1a3d4":"0b3c63cc","chunk-9fe46624":"d22355a8","chunk-f12ead12":"6b6c95e3",pdfmake:"31d6cfe0","chunk-f97bf932":"31d6cfe0"}[e]+".css",i=l.p+n,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===n||d===i))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){s=u[c],d=s.getAttribute("data-href");if(d===n||d===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var n=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete r[e],h.parentNode.removeChild(h),a(o)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=i[e]=[t,a]}));t.push(n[2]=o);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=c(e);var u=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(h);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",u.name="ChunkLoadError",u.type=n,u.request=r,a[1](u)}i[e]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var h=d;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0010":function(e,t,a){"use strict";a("a481"),a("3b2b");var n=a("d225"),r=a("b0b4"),i=a("2ef0"),o=a("8ded"),c=a.n(o),l=a("55a1"),s=a("308d"),d=a("6bb5"),u=a("4e2b"),h=(a("28a5"),a("6762"),a("2fdb"),function(){function e(){Object(n["a"])(this,e),this.attrs={}}return Object(r["a"])(e,[{key:"fill",value:function(e){for(var t in e)this.fillables.includes(t.split(".")[0])&&this.setAttr(t,e[t]);return this}},{key:"setAttr",value:function(e,t){return i["set"](this.attrs,e,t),this}},{key:"getAttr",value:function(e){return i["get"](this.attrs,e)}},{key:"toJSON",value:function(){var e={attrs:this.attrs,tmp:{}};for(var t in this)"attrs"!=t&&(e["tmp"][t]=this[t]);return e["__serializedtype"]="model",e["__serializedclass"]=this.className,e}}],[{key:"create",value:function(e){}}]),e}()),f=function(e){function t(){return Object(n["a"])(this,t),Object(s["a"])(this,Object(d["a"])(t).call(this))}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"fillables",get:function(){return["id","userId","userType","contactName","contactPerson","contactWay","createTime","createUserId","creditCode","updateTime","updateUserId","townId","companyId"]}}]),Object(r["a"])(t,[{key:"name",get:function(){var e=this.getAttr("first_name"),t=this.getAttr("last_name");return e&&t?this.getAttr("first_name")+" "+this.getAttr("last_name"):"Dear User"}}],[{key:"create",value:function(e){var a=new t;return a["id"]=e["id"],a["userId"]=e["userId"],a["userType"]=e["userType"],a["contactName"]=e["contactName"],a["contactPerson"]=e["contactPerson"],a["townId"]=e["townId"],a["createTime"]=e["createTime"],a["createUserId"]=e["createUserId"],a}}]),t}(h),p=a("61dc"),m=a("bc3a"),b=a.n(m),g=function(){function e(){Object(n["a"])(this,e)}return Object(r["a"])(e,[{key:"setToken",value:function(){b.a.defaults.headers.common["Authorization"]=Object(p["a"])().accessToken}},{key:"getParameterByName",value:function(e,t){t||(t=window.location.href);var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=a.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},{key:"check",value:function(){var e=this;if((!this.getParameterByName("timestamp")||!this.getParameterByName("accessToken")||!this.getParameterByName("sign"))&&!Object(p["a"])().accessToken)return!1;var t=a("8d81"),n=(t(this.getParameterByName("timestamp")+this.getParameterByName("accessToken")+"zhsnqualitysupervision"),this.getParameterByName("accessToken")?this.getParameterByName("accessToken").replace("%20"," "):Object(p["a"])().accessToken);return Object(l["a"])().post("/api/user/getAuthByAliToken",{aliToken:n}).then((function(e){return c.a.set("authData",JSON.parse(e.authListInfo).result[0].roleCode),c.a.set("authList",JSON.parse(e.authListInfo).result[0].privilegeList),window.history.replaceState({},document.title,"/"),c.a.set("userData",JSON.parse(e.userInfo).result),n&&(Object(p["a"])().accessToken=n),Promise.resolve(e)}),(function(t){return e.clearSavedData(),console.log(t),window.history.replaceState({},document.title,"/"),n&&(Object(p["a"])().accessToken=""),Promise.reject(t)}))}},{key:"user",value:function(){return c.a.get("userData")?c.a.get("userData"):null}},{key:"createUserFrom",value:function(e){var t=c.a.get("isRemember");t?c.a.set("userName",e["userId"]):e["userID"]==c.a.get("userName")&&(c.a.remove("userName"),c.a.remove("password")),Object(p["a"])().accessToken=e["token"],this.setToken(),this.loggedInUser=f.create({id:e["id"],userId:e["userId"],userType:e["userType"],contactName:e["contactName"],contactPerson:e["contactPerson"],contactWay:e["contactWay"],createTime:e["createTime"],createUserId:e["createUserId"],creditCode:e["creditCode"],updateTime:e["updateTime"],updateUserId:e["updateUserId"],townId:e["townId"],companyId:e["companyId"]}),c.a.set("userData",JSON.stringify(this.loggedInUser))}},{key:"clearSavedData",value:function(){c.a.remove("password")}},{key:"signup",value:function(e){var t=this;return Object(l["a"])().post("auth/signup",e,{},!0).then((function(a){return t.createUserFrom(i["merge"](a["data"],e)),Promise.resolve(a)}),(function(e){return Promise.reject(e)}))}},{key:"verifyHost",value:function(e){var t=this;return Object(l["a"])().post("auth/verify-host",e,{},!0).then((function(a){return t.createUserFrom(i["merge"](a["data"],e)),Promise.resolve(a)}),(function(e){return Promise.reject(e)}))}},{key:"login",value:function(e){var t=this;return c.a.set("isRemember",e.isRemember),c.a.set("password",e.password),Object(l["a"])().post("/api/user/login",{password:e.password,username:e.username},{},!0).then((function(e){return t.createUserFrom(e),Promise.resolve(e)}),(function(e){return t.clearSavedData(),Promise.reject(e)}))}},{key:"resetPassword",value:function(e){return Object(l["a"])().post("auth/reset_password",{username:e}).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}},{key:"logout",value:function(){this.check()&&(this.loggedInUser=null,Object(p["a"])().removeAccessToken(),Object(p["a"])().removeAuthToken())}}],[{key:"d",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}();t["a"]=function(){return g.d()}},"034f":function(e,t,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},"0487":function(e,t,a){},"062e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,a){var n=c(),r=e-n,l=20,s=0;t="undefined"===typeof t?500:t;var d=function e(){s+=l;var c=Math.easeInOutQuad(s,n,r,t);o(c),s<t?i(e):a&&"function"===typeof a&&a()};d()}var s={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("update:limit",e),this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&l(0,800)},handleCurrentChange:function(e){this.$emit("update:page",e),this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},d=s,u=(a("8367"),a("2877")),h=Object(u["a"])(d,n,r,!1,null,null,null);t["default"]=h.exports},"0aca":function(e,t,a){},"2fa0":function(e,t,a){"use strict";var n=a("5d39"),r=a.n(n);r.a},"3fc5":function(e,t,a){"use strict";var n=a("6b45"),r=a.n(n);r.a},"42a5":function(e,t,a){"use strict";a("d225"),a("b0b4"),a("2b0e")},"55a1":function(e,t,a){"use strict";var n=a("d225"),r=a("b0b4"),i=a("bc3a"),o=a.n(i),c=a("d1a0"),l=(a("42a5"),a("61dc")),s=(a("eae4"),o.a),d=function(){function e(){Object(n["a"])(this,e)}return Object(r["a"])(e,[{key:"baseUrl",value:function(e){return-1==e.indexOf("/agriculture")&&-1==e.indexOf("/userAuthList")&&-1==e.indexOf("/sendMsg")?c["b"].API_BASE_URL()+e:c["b"].API_AUTH_URL()+e}},{key:"request",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={};return"get"==e.toLowerCase()&&(i["params"]=a,this.authToken&&(i["params"]=Object.assign(i["params"],this.authToken))),"post"==e.toLowerCase()&&(i=n,this.authToken&&(i=Object.assign(i,this.authToken))),"put"==e.toLowerCase()&&(i=n,this.authToken&&(i=Object.assign(i,this.authToken))),"delete"==e.toLowerCase()&&(i["params"]=a,this.authToken&&(i["params"]=Object.assign(i["params"],this.authToken))),this.makeRequest(e,t,i,!1,r)}},{key:"makeRequest",value:function(e,t,a){arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return-1==t.indexOf("/api/user/getAuthByAliToken")&&(s.defaults.headers.common["Authorization"]=Object(l["a"])().accessToken),-1==t.indexOf("/userAuthList")&&-1==t.indexOf("/sendMsg")||(s.defaults.headers.common["accessToken"]=Object(l["a"])().authToken),s[e](this.baseUrl(t),a).then((function(e){var t=e.data;return Promise.resolve(t)}),(function(e){return Promise.reject({status:"error",message:"错误的用户名或密码!",data:{error:e}})}))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("get",e,t)}},{key:"post",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.request("post",e,a,t,n)}},{key:"put",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("put",e,a,t)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("delete",e,t)}}],[{key:"d",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}();t["a"]=function(){return d.d()}},"56d7":function(e,t,a){"use strict";a.r(t);a("0fae");var n=a("9e2f"),r=a.n(n),i=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view",{key:e.$route.fullPath})],1)},c=[],l=a("8ded"),s=a.n(l),d={name:"App",data:function(){return{msg:"hello everyBody!"}}},u=d,h=(a("034f"),a("2877")),f=Object(h["a"])(u,o,c,!1,null,null,null),p=f.exports,m=a("8c4f"),b=a("eae4"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.lineChartLoading,expression:"lineChartLoading"}],staticClass:"container customized"},[e.lineChartLoading?e._e():a("div",{staticClass:"box padding-modified header statisticFarmerHeader"}),a("div",{staticClass:"box padding-modified body"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:14}},[a("div",{staticClass:"disability-chart chart-container padding-10 large"},[a("el-row",{staticClass:"w-100 flex-center margin-bottom-10"},[a("el-col",{staticClass:"margin-left-10 text-left",attrs:{span:12}},[e.is_ie?a("h1",{staticStyle:{"font-size":"20px","margin-top":"5px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("农残")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("监测统计")])]):a("h1",{staticClass:"gradient-colored",staticStyle:{"font-size":"20px"}},[e._v("农残监测统计")])]),a("el-col",{staticClass:"margin-left-auto flex-center",attrs:{span:4}},[a("div",{staticClass:"white-colored inline-block-IE"},[e._v("按年")]),a("el-date-picker",{staticClass:"w-60 margin-left-10 chart-input",attrs:{size:"small",type:"year"},model:{value:e.toYear,callback:function(t){e.toYear=t},expression:"toYear"}})],1),a("el-col",{staticClass:"margin-left-20 flex-center",attrs:{span:3}},[a("div",{staticClass:"white-colored inline-block-IE"},[e._v("按月")]),a("el-select",{staticClass:"w-60 margin-left-10 chart-input",attrs:{size:"small"},model:{value:e.toMonth,callback:function(t){e.toMonth=t},expression:"toMonth"}},e._l(12,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-col",{staticClass:"margin-left-20",attrs:{span:3}},[a("el-button",{staticClass:"no-effect margin-top-reverse-5-IE",attrs:{type:"primary",plain:""},on:{click:function(t){return e.refreshScreen()}}},[e._v("开始统计")])],1)],1),a("el-container",[a("el-table",{staticClass:"fixed-height chart-table",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"detect_unit",label:"站点","class-name":"white-colored"}}),a("el-table-column",{attrs:{prop:"cnt",label:"检测数量"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"sub-title"},[a("h3",{staticClass:"blue-colored"},[e._v(e._s(n.cnt))])]),a("el-progress",{attrs:{percentage:e.getPercent(n.cnt,e.maxCnt,1),"stroke-width":10,"show-text":!1}})]}}])}),a("el-table-column",{attrs:{prop:"cnt_ok",label:"合格","class-name":"padding-left-20 blue-colored",width:"100"}}),a("el-table-column",{attrs:{prop:"cnt_ok",label:"不合格",width:"100","class-name":"blue-colored"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.cnt-a.cnt_ok))]}}])}),a("el-table-column",{attrs:{prop:"cnt",label:"合格率","class-name":"padding-right-20"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"sub-title"},[a("h3",{staticClass:"blue-colored"},[e._v(e._s(parseInt(n.cnt_ok/n.cnt*100))+"%")])]),a("el-progress",{attrs:{percentage:parseInt(n.cnt_ok/n.cnt*100),"stroke-width":10,status:e.getColor(parseInt(n.cnt_ok/n.cnt*100)),"show-text":!1}})]}}])})],1)],1),e.summaryData?a("el-table",{staticClass:"border-hide chart-table",attrs:{data:e.summaryData,"show-header":!1,"row-class-name":"success-row"}},[a("el-table-column",{attrs:{prop:"name",label:"站点","class-name":"white-colored"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("b",[e._v(e._s(n.name))])]}}],null,!1,3932238797)}),a("el-table-column",{attrs:{label:"检测数量",prop:"rowTotalSum","class-name":"blue-colored text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("h1",{staticClass:"large-font italic-font"},[e._v(e._s(n.rowTotalSum))])]}}],null,!1,2622334035)}),a("el-table-column",{attrs:{prop:"rowOkSum",label:"合格","class-name":"padding-left-20 blue-colored text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("h1",{staticClass:"large-font italic-font"},[e._v(e._s(n.rowOkSum))])]}}],null,!1,3798595381)}),a("el-table-column",{attrs:{label:"不合格",prop:"rowOkSum","class-name":"blue-colored text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("h1",{staticClass:"large-font italic-font"},[e._v(e._s(n.rowTotalSum-n.rowOkSum))])]}}],null,!1,53862207)}),a("el-table-column",{attrs:{prop:"rowTotalSum",label:"不合"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.rowTotalSum?a("el-progress",{attrs:{percentage:e.getPercent(n.rowOkSum,n.rowTotalSum,1),"stroke-width":10,status:e.getColor(parseInt(n.rowOkSum/n.rowTotalSum*100)),"show-text":!1}}):e._e()]}}],null,!1,2728699168)}),a("el-table-column",{attrs:{prop:"name",label:"合格率",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"sub-title"},[a("h3",{staticClass:"large-font blue-colored italic-font"},[e._v(e._s(e.getPercent(n.rowOkSum,n.rowTotalSum,2))+"%")])])]}}],null,!1,1727436588)})],1):e._e()],1)]),a("el-col",{staticClass:"position-relative",attrs:{span:10}},[e.is_ie?a("h1",{staticClass:"margin-left-10 chart-title",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("各站点农残")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("检测上传数据统计")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("各站点农残检测上传数据统计")]),a("div",{ref:"chartdiv1",staticClass:"disability-chart chart-container margin-left-10 large"},[a("figure",[a("chart",{ref:"pie",attrs:{options:e.pie,"init-options":e.initOptions,autoresize:""}})],1)])])],1),a("el-row",{staticClass:"w-100"},[a("el-col",[a("div",{staticClass:"w-100 flex-box disability-chart chart-container"},[e.is_ie?a("h1",{staticClass:"margin-left-10 chart-title",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("各站点农残检测")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("上传数据的比例分布")])]):a("h1",{staticClass:"gradient-colored chart-title",staticStyle:{"font-size":"20px"}},[e._v("各站点农残检测上传数据的比例分布")]),a("div",{ref:"chartdiv",staticClass:"w-50 inline-block-IE chart-div-IE"}),a("div",{staticClass:"divider inline-block-IE divider-IE"}),a("div",{ref:"chartdiv2",staticClass:"w-50 inline-block-IE chart-div-IE"})])])],1)],1)])},k=[],v=(a("55dd"),a("ac6a"),a("5df3"),a("7514"),a("96cf"),a("3b8d")),y=a("55a1"),w=(a("062e"),a("0010")),C=(a("c037"),a("007d"),function(){return a.e("chunk-9105eba0").then(a.bind(null,"9ca8"))}),_={name:"statisticsFarmers",components:{chart:C},data:function(){return{page:{pageIndex:1,pageSize:50},tableData:[],pie:{},tableDataByCnt:[],summaryData:[],listLoading:!1,lineChartLoading:!1,lineChartData:[],toYear:null,toMonth:null,maxCnt:null,initOptions:{renderer:"canvas"},progressColor:"warning",colorList:["#229efe","#20beff","#21e3ff","#21ffda","#1fffa6","#61f779","#96f65f","#c9fb64","#c9fb64","#fbd661","#f1be51","#f68a63","#f17263","#ed6082","#ee63ca","#7366f4"],is_ie:null}},created:function(){this.toMonth=(new Date).getMonth()+1,this.toYear=new Date},mounted:function(){this.isIE(),this.getData(),this.makeLineChart()},methods:{refreshScreen:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.lineChartLoading=!0,e.next=3,this.getData();case 3:this.makeLineChart(),this.lineChartLoading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createGrid:function(e,t){var a=t.axisRanges.create();a.value=e,a.label.text=this.formatNumber(e)},formatNumber:function(e){return e/1e3+"K"},getData:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,t=this.toYear&&this.toMonth?new Date(this.toYear.getFullYear(),this.toMonth,0):new Date,e.next=4,Object(y["a"])().get("/api/disability_check/statis",{detectTimeTo:t,sortBy:"detect_unit"}).then((function(e){a.listLoading=!1,a.tableData=[],a.maxCnt=null;var t=e.data,n=0,r=0;for(var i in t)t[i][1]>a.maxCnt&&(a.maxCnt=t[i][1]),a.tableData.push({detect_unit:t[i][0],cnt:parseInt(t[i][1]),cnt_ok:parseInt(t[i][2])}),n+=parseInt(t[i][1]),r+=parseInt(t[i][2]);a.summaryData=[],a.summaryData.rowTotalSum!==n&&a.summaryData.rowOkSum!==r&&a.summaryData.push({name:"合计",rowTotalSum:n,rowOkSum:r}),a.makePieChart()})).catch((function(e){console.log(e)}));case 4:return e.next=6,Object(y["a"])().get("/api/disability_check/statis",{detectTimeTo:t,sortBy:"cnt"}).then((function(e){a.listLoading=!1,a.tableDataByCnt=[];var t=e.data;for(var n in t)a.tableDataByCnt.push({detect_unit:t[n][0],cnt:t[n][1],cnt_ok:t[n][2]});a.makeXYChart()})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getLineChartData:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.lineChartData=[],this.lineChartLoading=!0,t=new Date,t.setMonth(t.getMonth()-11),t.getFullYear(),t.getMonth(),a=new Date(this.toYear.getFullYear(),this.toMonth,0),console.log(a),e.next=10,Object(y["a"])().get("/api/disability_check/statis/monthlysum",{detectTimeTo:a}).then((function(e){for(var a=e.data,r=function(e){t=new Date,t.setMonth(t.getMonth()-e);var r=t.getFullYear()+"-"+(t.getMonth()+1),i=a.find((function(e){return e[2]===r}));i?n.lineChartData.push({month:r,totalCnt:i[0]}):n.lineChartData.push({month:r,totalCnt:0})},i=11;i>=0;i--)r(i)})).catch((function(e){console.log(e)}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),makeXYChart:function(){var e=this;Promise.all([Promise.resolve().then(a.bind(null,"71c9")),Promise.resolve().then(a.bind(null,"c497")),Promise.resolve().then(a.bind(null,"5a54"))]).then((function(t){var a=t[0],n=t[1],r=t[2].default;a.useTheme(r);var i=a.create(e.$refs.chartdiv,n.XYChart);i.data=e.tableDataByCnt,i.marginTop=20;var o=i.xAxes.push(new n.CategoryAxis),c=i.titles.create();c.text="tmp",c.fontSize=5,c.marginBottom=40,c.fill=a.color("#012f8a"),o.dataFields.category="detect_unit",o.renderer.grid.template.location=0,o.renderer.minGridDistance=20,o.renderer.grid.template.disabled=!0,o.renderer.labels.template.fill="white",o.renderer.labels.template.rotation=-45,o.renderer.labels.template.truncate=!0,o.renderer.labels.template.maxWidth=150,o.renderer.labels.template.fontSize=12,o.renderer.labels.template.horizontalCenter="right",o.renderer.line.strokeOpacity=1,o.renderer.line.strokeWidth=2,o.renderer.line.stroke=a.color("#3787ac");var l=i.yAxes.push(new n.ValueAxis);l.min=0,l.renderer.labels.template.fill="white",l.renderer.grid.template.stroke=a.color("#fff"),l.renderer.line.strokeOpacity=1,l.renderer.line.strokeWidth=2,l.renderer.line.stroke=a.color("#3787ac");var s=i.series.push(new n.ColumnSeries);s.dataFields.valueY="cnt",s.dataFields.categoryX="detect_unit",s.name="cnt",s.columns.template.tooltipText="{categoryX}: [bold]{valueY}[/]",s.columns.template.fillOpacity=1;var d=new a.LinearGradient;d.addColor(a.color("#08d3fc")),d.addColor(a.color("#4687eb")),d.rotation=90,s.fill=d;var u=s.bullets.push(new n.LabelBullet);u.label.text="{cnt}",u.label.fill=a.color("#20beff"),u.label.rotation=0,u.label.truncate=!1,u.label.dy=-7,u.label.fontSize=10;var h=s.columns.template;h.strokeOpacity=0})).catch((function(e){console.error("Error when creating chart",e)}))},makePieChart:function(){this.tableData.sort((function(e,t){return t.cnt-e.cnt}));var e=[];this.tableData.map((function(t){e.push({value:t.cnt,name:t.detect_unit.length>10?t.detect_unit.substring(0,7)+"...":t.detect_unit})})),this.pie={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"各站点农残检测上传数据统计",type:"pie",radius:"40%",center:["54%","50%"],data:e,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:2,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{fontSize:16,color:"#FFF",formatter:"{d}%: {b}"}}}],color:this.colorList};var t=-1,a=this.$refs.pie,n=this.pie.series[0].data.length;setInterval((function(){a.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:t}),t=(t+1)%n,a.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t}),a.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t})}),1e3)},makeLineChart:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getLineChartData();case 2:Promise.all([Promise.resolve().then(a.bind(null,"71c9")),Promise.resolve().then(a.bind(null,"c497")),Promise.resolve().then(a.bind(null,"5a54"))]).then((function(e){var a=e[0],n=e[1],r=e[2].default;a.useTheme(r);var i=a.create(t.$refs.chartdiv2,n.XYChart);i.data=t.lineChartData;var o=i.titles.create();o.text="tmp",o.fontSize=5,o.marginBottom=40,o.fill=a.color("#012f8a");var c=i.createChild(a.Label);c.text="最近12个月每月上传数据统计",c.fontSize=16,c.fill="white",c.fontWeight="bold",c.align="center";var l=i.xAxes.push(new n.CategoryAxis);l.renderer.grid.template.location=0,l.renderer.ticks.template.disabled=!0,l.renderer.line.strokeOpacity=1,l.renderer.line.strokeWidth=2,l.renderer.line.stroke=a.color("#3787ac"),l.renderer.grid.template.disabled=!0,l.renderer.labels.template.fill="white",l.renderer.minGridDistance=40,l.dataFields.category="month",l.startLocation=.4,l.endLocation=.6;var s=i.yAxes.push(new n.ValueAxis);s.tooltip.disabled=!0,s.renderer.line.strokeOpacity=1,s.renderer.line.strokeWidth=2,s.renderer.line.stroke=a.color("#3787ac"),s.renderer.labels.template.fill="white",s.renderer.grid.template.stroke=a.color("#fff"),s.renderer.ticks.template.disabled=!0,s.min=0;var d=i.series.push(new n.LineSeries);d.dataFields.categoryX="month",d.dataFields.valueY="totalCnt",d.tooltipText="数量: {valueY.value}",d.fillOpacity=.2,d.stroke=a.color("#20beff"),d.strokeWidth=3,d.fill=a.color("#90bff2");var u=d.bullets.push(new n.CircleBullet);u.circle.radius=3,u.circle.stroke=a.color("#20beff"),u.circle.fill=a.color("#20beff"),u.circle.strokeWidth=3;var h=d.bullets.push(new n.LabelBullet);h.label.text="{totalCnt}",h.label.fill=a.color("#20beff"),h.label.dy=-20,i.cursor=new n.XYCursor,i.scrollbarX=new a.Scrollbar,i.scrollbarX.parent=i.bottomAxesContainer,t.chart=i,t.lineChartLoading=!1})).catch((function(e){console.error("Error when creating chart",e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.chart&&this.chart.dispose()},getPercent:function(e,t,a){return e&&t?(2===a&&(this.progressColor=parseInt(e/t*100)<100?"warning":"success"),parseInt(e/t*100)):0},getColor:function(e){return 100===e?"success":"warning"},isIE:function(){var e=navigator.userAgent;this.is_ie=e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}}},x=_,S=(a("3fc5"),Object(h["a"])(x,g,k,!1,null,"5f6830e8",null)),T=S.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"container customized"},[e.listLoading?e._e():a("div",{staticClass:"box padding-modified header statisticsCredit"}),a("div",{staticClass:"box padding-modified body"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:14}},[e.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("诚信等级")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("企业数量汇总")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("诚信等级企业数量汇总")]),a("div",{ref:"chartdiv1",staticClass:"disability-chart chart-container maring-right-10"}),a("div",{staticClass:"white-colored",staticStyle:{position:"absolute",top:"45px",left:"38%"}},[e._v("\n          合计:\n          "),a("span",{staticClass:"blue-colored",staticStyle:{"margin-left":"20px"}},[e._v("A级 ")]),a("span",{staticClass:"blue-colored",staticStyle:{"font-weight":"bold","font-style":"italic","font-size":"32px","line-height":"0.9em","vertical-align":"bottom"}},[e._v(e._s(e.totalA))]),a("span",{staticClass:"blue-colored",staticStyle:{"margin-left":"20px"}},[e._v("B级 ")]),a("span",{staticClass:"blue-colored",staticStyle:{"font-weight":"bold","font-style":"italic","font-size":"32px","line-height":"0.9em","vertical-align":"bottom"}},[e._v(e._s(e.totalB))]),a("span",{staticClass:"blue-colored",staticStyle:{"margin-left":"20px"}},[e._v("C级 ")]),a("span",{staticClass:"blue-colored",staticStyle:{"font-weight":"bold","font-style":"italic","font-size":"32px","line-height":"0.9em","vertical-align":"bottom"}},[e._v(e._s(e.totalC))])])]),a("el-col",{staticClass:"position-relative",attrs:{span:10}},[e.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("农残监测统计")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("级上传数据的比例分布")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("各站点诚信等级上传数据的比例分布")]),a("div",{ref:"chartdiv2",staticClass:"disability-chart chart-container margin-left-10",staticStyle:{"padding-left":"15px"}},[a("figure",[a("chart",{ref:"pie",attrs:{options:e.pie,"init-options":e.initOptions,autoresize:""}})],1)])])],1),a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:14}},[e.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("各站点")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("上传数据统计")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("各站点上传数据统计")]),a("div",{ref:"chartdiv3",staticClass:"disability-chart chart-container maring-right-10"})]),a("el-col",{attrs:{span:10}},[a("div",{ref:"chartdiv4",staticClass:"disability-chart chart-container margin-left-10"},[a("el-row",{staticStyle:{display:"relative","font-size":"20px","font-weight":"bold",color:"#000000","margin-bottom":"15px"}},[e.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("红")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("黑名单")])]):a("h1",{staticClass:"gradient-colored chart-title",staticStyle:{"font-size":"20px"}},[e._v("红黑名单")])]),a("el-row",{staticStyle:{margin:"50px 10px 30px 15px","border-bottom":"solid 1px #3787ac"}},[a("div",{staticClass:"white-colored",staticStyle:{"font-size":"15px","font-weight":"bold"}},[e._v("红名单")]),a("div",{staticStyle:{margin:"20px 0 20px 20px","line-height":"3em"}},e._l(e.redData,(function(t){return a("span",{key:t.id,staticClass:"blue-colored",staticStyle:{"margin-right":"40px"},attrs:{value:t.id}},[a("b",[e._v(e._s(t))])])})),0)]),a("el-row",{staticStyle:{margin:"30px 0 30px 15px"}},[a("div",{staticClass:"white-colored",staticStyle:{"font-size":"15px","font-weight":"bold"}},[e._v("黑名单")]),a("div",{staticStyle:{margin:"20px 0 20px 20px","line-height":"3em"}},e._l(e.blackData,(function(t){return a("span",{key:t.id,staticClass:"blue-colored",staticStyle:{"margin-right":"40px"},attrs:{value:t.id}},[a("b",[e._v(e._s(t))])])})),0)])],1)])],1)],1)])},P=[],O=(a("7f7f"),a("bc3a"),function(){return a.e("chunk-9105eba0").then(a.bind(null,"9ca8"))}),I={name:"statisticsCredit",components:{chart:O},data:function(){return{page:{pageIndex:1,pageSize:50},listLoading:!1,totalLoading:!0,toYear:null,toMonth:null,maxCnt:45,progressColor:"",leftTopData:[],leftDownData:[],rightTopData:[],redData:[],blackData:[],township:[{id:-1,name:"全部"}],companyProduction:[],totalA:0,totalB:0,totalC:0,colorList:["#229efe","#20beff","#21e3ff","#21ffda","#1fffa6","#61f779","#96f65f","#c9fb64","#c9fb64","#fbd661","#f1be51","#f68a63","#f17263","#ed6082","#ee63ca","#7366f4"],is_ie:null,pie:{},initOptions:{renderer:"canvas"}}},mounted:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isIE(),e.next=3,this.getTown();case 3:this.getCompanyProduction();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getTown:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.next=3,Object(y["a"])().get("/api/town/all").then((function(e){t.township=t.township.concat(e),t.getLeftTopData(),t.getRightTopData(),t.getLeftDownData()})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createGrid:function(e,t){var a=t.axisRanges.create();a.value=e,a.label.text=this.formatNumber(e)},createGrid1:function(e,t){var a=t.axisRanges.create();a.value=e,a.label.text=e},formatNumber:function(e){return e/1e3+"K"},getLeftTopData:function(){var e=this;Object(y["a"])().get("/api/company_production/getTownCreditStatis",{sortBy:"town_id"}).then((function(t){e.leftTopData=t.data,setTimeout((function(){}),500),e.makeChartLeftTop(),setTimeout((function(){e.totalLoading=!1}),500)})).catch((function(e){console.log(e)}))},getRightTopData:function(){var e=this;Object(y["a"])().get("/api/company_credit_grade/getCreditStatis",{sortBy:"cnt"}).then((function(t){e.leftTopData=t.data,setTimeout((function(){}),500),e.makeChartRightTop()})).catch((function(e){console.log(e)}))},getLeftDownData:function(){var e=this;Object(y["a"])().get("/api/company_credit_grade/getCreditStatis",{sortBy:"townId"}).then((function(t){e.leftDownData=t.data,setTimeout((function(){}),500),e.makeChartLeftDown()})).catch((function(e){console.log(e)}))},getRedData:function(){var e=this;Object(y["a"])().get("/api/company_credit_grade/all",{approvalStatus:2,nowGrade:"A",sortBy:"creditGradeId"}).then((function(t){setTimeout((function(){}),500);e.redData=t.data.map((function(t){return e.filterCompnay(t.creditCode)}))})).catch((function(e){console.log(e)}))},getBlackData:function(){var e=this;Object(y["a"])().get("/api/company_credit_grade/all",{approvalStatus:2,nowGrade:"C",sortBy:"creditGradeId"}).then((function(t){setTimeout((function(){}),500);e.blackData=t.data.map((function(t){return e.filterCompnay(t.creditCode)}))})).catch((function(e){console.log(e)}))},getCompanyProduction:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["a"])().get("/api/company_production/name").then((function(e){t.companyProduction=e,t.getRedData(),t.getBlackData()})).catch((function(e){console.log(e)}));case 2:setTimeout((function(){t.listLoading=!1}),500);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.creditCode===e}));return t?t.companyName:""},filterTownName:function(e){var t=this.township.find((function(t){return t.id===e}));return t?t.name:""},makeChartLeftTop:function(){var e=this;Promise.all([Promise.resolve().then(a.bind(null,"71c9")),Promise.resolve().then(a.bind(null,"c497")),Promise.resolve().then(a.bind(null,"5a54"))]).then((function(t){var a=t[0],n=t[1],r=t[2].default;a.useTheme(r);var i=a.create(e.$refs.chartdiv1,n.XYChart),o=[];e.leftTopData.map((function(t){o.push({townId:e.filterTownName(t[4]),"A级":t[1],"B级":t[2],"C级":t[3]}),e.totalA+=t[1],e.totalB+=t[2],e.totalC+=t[3]})),i.data=o,i.responsive.enabled=!0;var c=i.xAxes.push(new n.CategoryAxis),l=i.titles.create();l.text="诚信等级企业数量汇总",l.fontSize=5,l.marginBottom=40,l.fill=a.color("#012f8a"),c.dataFields.category="townId",c.renderer.grid.template.location=0,c.renderer.grid.template.disabled=!0,c.renderer.minGridDistance=20,c.renderer.labels.template.horizontalCenter="right",c.renderer.labels.template.fill="white",c.renderer.line.strokeOpacity=1,c.renderer.line.strokeWidth=2,c.renderer.labels.template.truncate=!0,c.renderer.labels.template.maxWidth=150,c.renderer.labels.template.fontSize=15,c.renderer.line.stroke=a.color("#3787ac");var s=i.yAxes.push(new n.ValueAxis);s.min=0,s.renderer.labels.template.fill="white",s.renderer.grid.template.stroke=a.color("#fff"),s.renderer.line.strokeOpacity=1,s.renderer.line.strokeWidth=2,s.renderer.line.stroke=a.color("#3787ac");var d=i.series.push(new n.ColumnSeries);d.dataFields.valueY="A级",d.dataFields.categoryX="townId",d.name="A级",d.tooltipText="{name}: [bold]{valueY}[/]",d.stroke=a.color("red").lighten(-.5);var u=new a.LinearGradient;u.addColor(a.color("#db4f5a")),u.addColor(a.color("#e0c2f8")),u.rotation=90,d.fill=u;var h=d.bullets.push(new n.LabelBullet);h.label.text="{A级}",h.label.rotation=-45,h.label.fill=a.color("#20beff"),h.label.dy=-10;var f=i.series.push(new n.ColumnSeries);f.dataFields.valueY="B级",f.dataFields.categoryX="townId",f.name="B级",f.tooltipText="{name}: [bold]{valueY}[/]",f.stroke=a.color("yellow").lighten(-.5);var p=new a.LinearGradient;p.addColor(a.color("#f7b918")),p.addColor(a.color("#f7ffb2")),p.rotation=90,f.fill=p;var m=f.bullets.push(new n.LabelBullet);m.label.text="{B级}",m.label.rotation=-45,m.label.fill=a.color("#20beff"),m.label.dy=-10;var b=i.series.push(new n.ColumnSeries);b.dataFields.valueY="C级",b.dataFields.categoryX="townId",b.name="C级",b.tooltipText="{name}: [bold]{valueY}[/]",b.stroke=a.color("green").lighten(-.5);var g=new a.LinearGradient;g.addColor(a.color("#55ea38")),g.addColor(a.color("#c1feb9")),g.rotation=90,b.fill=g;var k=b.bullets.push(new n.LabelBullet);k.label.text="{C级}",k.label.fill=a.color("#20beff"),k.label.rotation=-45,k.label.dy=-10,i.cursor=new n.XYCursor,i.legend=new n.Legend,i.legend.position="top",i.legend.labels.template.fill="white",i.legend.contentAlign="left",i.legend.marginTop=-20;var v=i.legend.createChild(a.Label);v.text="诚信等级:",v.fontSize=15,v.marginRight=10,v.marginLeft=40,e.is_ie?v.paddingTop=10:v.paddingTop=15,v.fill="white";var y=d.columns.template;y.strokeOpacity=0})).catch((function(e){console.error("Error when creating chart",e)}))},makeChartRightTop:function(){var e=this;this.leftTopData.sort((function(e,t){return t.cnt-e.cnt}));var t=[];this.leftTopData.map((function(a){t.push({value:a[0],name:e.filterTownName(a[1])})})),this.pie={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"各站点农残检测上传数据统计",type:"pie",radius:"40%",center:["54%","50%"],data:t,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:2,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{fontSize:16,color:"#FFF",formatter:"{d}%: {b}"}}}],color:this.colorList};var a=-1,n=this.$refs.pie,r=this.pie.series[0].data.length;setInterval((function(){n.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:a}),a=(a+1)%r,n.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:a}),n.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:a})}),1e3)},makeChartLeftDown:function(){var e=this;Promise.all([Promise.resolve().then(a.bind(null,"71c9")),Promise.resolve().then(a.bind(null,"c497")),Promise.resolve().then(a.bind(null,"5a54"))]).then((function(t){var a=t[0],n=t[1],r=t[2].default;a.useTheme(r);var i=a.create(e.$refs.chartdiv3,n.XYChart),o=[];e.leftDownData.map((function(t){o.push({townId:e.filterTownName(t[1]),cnt:t[0]})})),i.data=o,i.responsive.enabled=!0;var c=i.xAxes.push(new n.CategoryAxis),l=i.titles.create();l.text="各站点上传数据统计",l.fontSize=5,l.marginBottom=30,l.fill=a.color("#012f8a"),c.dataFields.category="townId",c.renderer.grid.template.disabled=!0,c.renderer.labels.template.fill="white",c.renderer.labels.template.truncate=!0,c.renderer.labels.template.maxWidth=150,c.renderer.labels.template.fontSize=15,c.renderer.labels.template.rotation=-45,c.renderer.grid.template.location=0,c.renderer.line.strokeOpacity=1,c.renderer.line.strokeWidth=2,c.renderer.line.stroke=a.color("#3787ac"),c.renderer.labels.template.horizontalCenter="right";var s=i.yAxes.push(new n.ValueAxis);s.min=0,s.renderer.minGridDistance=40,s.renderer.labels.template.fill="white",s.renderer.grid.template.stroke=a.color("#fff"),s.renderer.line.strokeOpacity=1,s.renderer.line.strokeWidth=2,s.renderer.line.stroke=a.color("#3787ac");var d=i.series.push(new n.ColumnSeries);d.dataFields.valueY="cnt",d.dataFields.categoryX="townId",d.name="cnt",d.tooltipText="{name}: [bold]{valueY}[/]";var u=new a.LinearGradient;u.addColor(a.color("#00d5f7")),u.addColor(a.color("#4784ee")),u.rotation=90,d.fill=u;var h=d.bullets.push(new n.LabelBullet);h.label.text="{cnt}",h.label.fill=a.color("#20beff"),h.label.rotation=0,h.label.truncate=!1,h.label.dy=-7,h.label.fontSize=10,i.cursor=new n.XYCursor;var f=d.columns.template;f.strokeOpacity=0})).catch((function(e){console.error("Error when creating chart",e)}))},getPercent:function(e,t,a){return e&&t?(2===a&&(this.progressColor=parseInt(e/t*100)<100?"warning":"success"),parseInt(e/t*100)):0},isIE:function(){var e=navigator.userAgent;this.is_ie=e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}}},L=I,j=Object(h["a"])(L,D,P,!1,null,null,null),E=j.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"container customized"},[e.listLoading?e._e():a("div",{staticClass:"box padding-modified header statisticsSupervision"}),a("div",{staticClass:"box padding-modified body"},[a("el-row",{staticClass:"W-100"},[a("el-col",{attrs:{span:14}},[a("div",{staticClass:"disability-chart chart-container padding-10 large"},[a("el-row",{staticClass:"w-100 flex-center margin-top-10 margin-bottom-10"},[a("el-col",{staticClass:"margin-left-10",attrs:{span:5}},[e.is_ie?a("h1",{staticStyle:{"font-size":"20px margin-top:5px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("监管")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("记录统计")])]):a("h1",{staticClass:"gradient-colored",staticStyle:{"font-size":"20px"}},[e._v("监管记录统计")])]),a("el-col",{staticClass:"margin-left-20 flex-center margin-top-reverse-5-IE",attrs:{span:7}},[a("div",{staticClass:"select_label no-margin-left white-colored"},[e._v("开始日期")]),a("el-date-picker",{staticClass:"chart-input",staticStyle:{width:"150px"},attrs:{type:"date",size:"small",placeholder:"选择日期"},model:{value:e.createTimeFrom,callback:function(t){e.createTimeFrom=t},expression:"createTimeFrom"}})],1),a("el-col",{staticClass:"margin-left-20 flex-center margin-top-reverse-5-IE",attrs:{span:7}},[a("div",{staticClass:"select_label no-margin-left white-colored"},[e._v("结束日期")]),a("el-date-picker",{staticClass:"chart-input",staticStyle:{width:"150px"},attrs:{type:"date",size:"small",placeholder:"选择日期"},model:{value:e.createTimeTo,callback:function(t){e.createTimeTo=t},expression:"createTimeTo"}})],1),a("el-col",{staticClass:"margin-left-20 margin-top-reverse-5-IE",attrs:{span:3}},[a("el-button",{staticClass:"no-effect",attrs:{type:"primary",plain:""},on:{click:function(t){return e.getData()}}},[e._v("开始统计")])],1)],1),a("el-row",[a("el-container",[a("el-table",{staticClass:"fixed-height chart-table",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"townName",label:"乡镇名称",width:"120","class-name":"white-colored"}}),a("el-table-column",{attrs:{prop:"townCnt",label:"监管记录数量","class-name":"blue-colored"}}),a("el-table-column",{attrs:{prop:"townCnt2",label:"整改记录数量","class-name":"blue-colored"}}),a("el-table-column",{attrs:{prop:"rate",label:"不合格数量","class-name":"blue-colored"}}),a("el-table-column",{attrs:{prop:"progress",label:"不合格占比"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"sub-title"},[a("h3",{staticClass:"blue-colored"},[e._v(e._s(n.progress)+"%")])]),a("el-progress",{attrs:{percentage:n.progress,"stroke-width":10,status:e.getColor(n.progress),"show-text":!1}})]}}])})],1)],1)],1),a("el-row",[a("el-container",[a("el-table",{staticClass:"border-hide chart-table",staticStyle:{width:"100%"},attrs:{data:e.totalData,"show-header":!1,"row-class-name":"success-row"}},[a("el-table-column",{attrs:{prop:"townName",width:"120","class-name":"white-colored"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("b",[e._v(e._s(n.townName))])]}}])}),a("el-table-column",{attrs:{prop:"townCnt","class-name":"blue-colored italic-font large-font"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("b",[e._v(e._s(n.townCnt))])]}}])}),a("el-table-column",{attrs:{prop:"townCnt2","class-name":"blue-colored italic-font large-font"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("b",[e._v(e._s(n.townCnt2))])]}}])}),a("el-table-column",{attrs:{prop:"rate","class-name":"blue-colored italic-font large-font"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("b",[e._v(e._s(n.rate))])]}}])}),a("el-table-column",{attrs:{prop:"progress"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-progress",{attrs:{percentage:n.progress,"stroke-width":10,status:e.getColor(n.progress),"show-text":!1}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"合格率",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"sub-title"},[a("h3",{staticClass:"large-font blue-colored italic-font"},[e._v(e._s(n.progress)+"%")])])]}}])})],1)],1)],1)],1)]),a("el-col",{staticClass:"position-relative",attrs:{span:10}},[e.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("各乡镇监管")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("记录上传数据的比例分布")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("各乡镇监管记录上传数据的比例分布")]),a("div",{ref:"chartpie",staticClass:"disability-chart chart-container margin-left-10 large"},[a("figure",[a("chart",{ref:"pie",attrs:{options:e.pie,"init-options":e.initOptions,autoresize:""}})],1)])])],1),a("el-row",{staticClass:"W-100"},[a("el-col",[a("div",{staticClass:"w-100 flex-box disability-chart chart-container"},[e.is_ie?a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("认证")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("统计")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("认证统计")]),a("div",{ref:"chartpie2",staticClass:"w-50 inline-block-IE chart-div-IE"}),a("div",{staticClass:"divider no-margin-left inline-block-IE divider-IE"}),a("div",{staticClass:"w-50 inline-block-IE chart-div-IE"},[null!==e.specialData1&&e.specialData1.length>0?a("el-row",{staticClass:"w-90 margin-left-60"},[a("el-col",{staticClass:"margin-top-10 text-left",staticStyle:{"font-size":"20px"}},[e.is_ie?a("h1",{staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("绿色优质")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("数量/占比")])]):a("h1",{staticClass:"gradient-colored",staticStyle:{"font-size":"20px"}},[e._v("绿色优质数量/占比")])])],1):e._e(),a("el-row",{staticClass:"w-90 margin-left-60"},[a("el-col",{attrs:{span:12}},[null!==e.specialData1&&e.specialData1.length>0?a("el-table",{staticClass:"fixed-height chart-table margin-top-10",staticStyle:{width:"100%",height:"293px"},attrs:{data:e.specialData1,"show-header":!1}},[a("el-table-column",{attrs:{prop:"townName","class-name":"no-border-bottom white-colored text-right"}}),a("el-table-column",{attrs:{prop:"progress",width:"200","class-name":"no-border-bottom blue-colored"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[a("h3",[e._v(e._s(n.cntSpecial))])]),a("el-progress",{attrs:{percentage:n.progress,"stroke-width":10,status:e.getColor(n.progress),"show-text":!1}})]}}],null,!1,3858058275)}),a("el-table-column",{attrs:{prop:"label","class-name":"no-border-bottom blue-colored"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[null!==e.specialData2&&e.specialData2.length>0?a("el-table",{staticClass:"fixed-height margin-top-10 chart-table",staticStyle:{width:"100%",height:"293px"},attrs:{data:e.specialData2,"show-header":!1}},[a("el-table-column",{attrs:{prop:"townName","class-name":"no-border-bottom text-right white-colored"}}),a("el-table-column",{attrs:{prop:"progress",width:"200","class-name":"no-border-bottom blue-colored"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[a("h3",[e._v(e._s(n.cntSpecial))])]),a("el-progress",{attrs:{percentage:n.progress,"stroke-width":10,status:e.getColor(n.progress),"show-text":!1}})]}}],null,!1,3858058275)}),a("el-table-column",{attrs:{prop:"label","class-name":"no-border-bottom blue-colored"}})],1):e._e()],1)],1),a("el-row",{staticClass:"w-90 margin-left-60"},[a("el-col",{attrs:{span:24}},[null!==e.totalData&&e.totalData.length>0?a("el-table",{staticClass:"chart-table border-hide",staticStyle:{width:"100%"},attrs:{data:e.totalData,"show-header":!1}},[a("el-table-column",{attrs:{prop:"townName",align:"center",width:"120","class-name":"white-colored"}}),a("el-table-column",{attrs:{prop:"specialProgress","class-name":"blue-colored"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[a("h3",[e._v(e._s(n.cntSpecial))])]),a("el-progress",{attrs:{percentage:n.specialProgress,"stroke-width":10,status:e.getColor(n.specialProgress),"show-text":!1}})]}}],null,!1,571547043)}),a("el-table-column",{attrs:{prop:"specialLabel",width:"120","class-name":"blue-colored"}})],1):e._e()],1)],1)],1)])])],1)],1)])},N=[],z=a("71c9"),A=a("c497"),R=a("5a54"),B=function(){return a.e("chunk-9105eba0").then(a.bind(null,"9ca8"))};z["useTheme"](R["default"]);var Y={name:"statisticsSupervision",components:{chart:B},data:function(){return{pie:{},initOptions:{renderer:"canvas"},createTimeFrom:"",createTimeTo:"",listLoading:!1,visionData:null,visionData1:null,rectificationData:null,rectificationData1:null,tableData:null,tableData1:null,townlist:null,totalData:null,specialData1:[],specialData2:[],colorList:["#229efe","#20beff","#21e3ff","#21ffda","#1fffa6","#61f779","#96f65f","#c9fb64","#c9fb64","#fbd661","#f1be51","#f68a63","#f17263","#ed6082","#ee63ca","#7366f4"],is_ie:null}},mounted:function(){this.isIE(),this.getData()},methods:{getData:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,this.tableData=[],this.tableData1=[],this.rectificationData=[],this.rectificationData1=[],this.visionData=[],this.visionData1=[],this.townlist=[],this.townlist1=[],this.totalData=[],this.qualityData=[],this.specialData1=[],this.specialData2=[],e.next=15,Object(y["a"])().get("/api/supervision_record/statis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo,sortBy:"cnt"}).then((function(e){t.visionData=e.data,t.getTown()})).catch((function(e){console.error(e)}));case 15:Object(y["a"])().get("/api/supervision_record/statis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo,sortBy:"cnt"}).then((function(e){t.visionData1=e.data,t.getTown1()})).catch((function(e){console.error(e)}));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTown:function(){var e=this;Object(y["a"])().get("/api/town/all",{}).then((function(t){e.townlist=t,e.getRectification()})).catch((function(e){console.error(e)}))},getTown1:function(){var e=this;Object(y["a"])().get("/api/town/all",{}).then((function(t){e.townlist1=t,e.getRectification1()})).catch((function(e){console.error(e)}))},getRectification:function(){var e=this;Object(y["a"])().get("/api/rectification_record/getStatis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo}).then((function(t){e.rectificationData=t.data;var a=0,n=0,r=0;e.visionData.forEach((function(t){for(var i=t[0],o=t[1],c=t[3],l="",s=0,d=0;d<e.townlist.length;d++)if(e.townlist[d].id===c){l=e.townlist[d].name;break}for(var u=0;u<e.rectificationData.length;u++)if(c===e.rectificationData[u][1]){s=e.rectificationData[u][0];break}a+=i,r+=s,n+=i-o,t[2],e.tableData.push({townName:l,townCnt:i,townCnt2:s,cntSpecial:t[2],rate:i-o,progress:parseInt(100*(i-o)/i),chatName:l})})),e.tableData.length>0&&(e.totalData.push({townName:"合计",townCnt:a,townCnt2:r,rate:n,progress:parseInt(n/a*100),specialLabel:"",specialProgress:0,cntSpecial:0}),e.makeQualityData())}))},getRectification1:function(){var e=this;Object(y["a"])().get("/api/rectification_record/getStatis",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo}).then((function(t){e.rectificationData1=t.data;e.visionData1.forEach((function(t){for(var a=t[0],n=t[1],r=t[3],i="",o=0,c=0;c<e.townlist1.length;c++)if(e.townlist1[c].id===r){i=e.townlist1[c].name;break}for(var l=0;l<e.rectificationData1.length;l++)if(r===e.rectificationData1[l][1]){o=e.rectificationData1[l][0];break}a,o,a-n,t[2],e.tableData1.push({townName:i,townCnt:a,townCnt2:o,rate:a-n,progress:parseInt(100*(a-n)/a),chatName:i,specialLabel:t[2]+"/"+parseInt(100*t[2]/a)+"%",specialProgress:parseInt(100*t[2]/a)})})),e.tableData1.length>0&&(e.makePieChat1(),e.makePieChat2()),e.listLoading=!1}))},getColor:function(e){return 100===e?"success":"warning"},makePieChat1:function(){this.tableData1.sort((function(e,t){return t.townCnt-e.townCnt}));var e=[];this.tableData1.map((function(t){e.push({value:t.townCnt,name:t.chatName.length>10?t.chatName.substring(0,7)+"...":t.chatName})})),this.pie={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"各乡镇监管记录上传数据的",type:"pie",radius:"50%",center:["54%","50%"],data:e,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:2,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{fontSize:14,color:"#FFF",formatter:"{d}%:{b}"}}],color:this.colorList};var t=-1,a=this.$refs.pie,n=this.pie.series[0].data.length;setInterval((function(){a.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:t}),t=(t+1)%n,a.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t}),a.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t})}),1e3)},makePieChat2:function(){var e=this;Object(y["a"])().get("/api/quality_standard/statisType",{createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo,certification_type:0,sortBy:"cnt"}).then((function(t){t.data.forEach((function(t){var a="";switch(t[1]){case"1":a="无公害产品";break;case"2":a="绿色食品";break;case"3":a="有机食品";break;case"4":a="绿色优质基地";break}e.qualityData.push({townName:a,townCnt:t[0],qualityLabel:a})}));var a=z["create"](e.$refs.chartpie2,A["PieChart"]);a.data=e.qualityData,a.responsive.enabled=!0;var n=a.series.push(new A["PieSeries"]),r=a.titles.create();r.text="认证统计",r.fontSize=5,r.marginBottom=10,r.fill=z["color"]("#012f8a"),n.dataFields.value="townCnt",n.dataFields.category="qualityLabel",n.ticks.template.strokeWidth=1,n.ticks.template.strokeOpacity=.7,n.ticks.template.fill=z["color"]("#012f8a"),n.ticks.template.fillOpacity=1,n.labels.template.truncate=!0,n.labels.template.fontSize=15,n.labels.template.maxWidth=180,n.labels.template.fill="white",n.labels.template.text="[bold '#20beff']{value.percent.formatNumber('#.0')}%[/] {category}",a.innerRadius=z["percent"](40),n.slices.template.fillOpacity=1;var i=new z["ColorSet"];i.list=e.colorList.map((function(e){return new z["color"](e)})),n.colors=i;var o=n.slices.template.states.getKey("hover");o.properties.scale=1,o.properties.fillOpacity=.5}))},makeQualityData:function(){var e=this;Object(y["a"])().get("/api/quality_standard/statis",{certificationType:"0",createTimeFrom:null==this.createTimeFrom?"":this.createTimeFrom,createTimeTo:null==this.createTimeTo?"":this.createTimeTo}).then((function(t){Object(y["a"])().get("/api/quality_standard/statis",{certificationType:"4",createTimeFrom:null==e.createTimeFrom?"":e.createTimeFrom,createTimeTo:null==e.createTimeTo?"":e.createTimeTo}).then((function(a){for(var n=0,r=0,i=0;i<t.data.length;i+=2){for(var o="",c="",l=0;l<e.townlist.length;l++)e.townlist[l].id===t.data[i][1]&&(o=e.townlist[l].name),e.townlist[l].id===t.data[i+1][1]&&(c=e.townlist[l].name);for(var s=0,d=0,u=0;u<a.data.length;u++)a.data[u][1]==t.data[i][1]&&(s=a.data[u][0]),a.data[u][1]==t.data[i+1][1]&&(d=a.data[u][0]);e.specialData1.push({townName:o,progress:parseInt(100*s/t.data[i][0]),label:t.data[i][0]+"/"+parseInt(100*s/t.data[i][0])+"%",townCnt:t.data[i][0],cntSpecial:s}),i!==e.tableData.length-1&&e.specialData2.push({townName:c,progress:parseInt(100*d/t.data[i+1][0]),label:t.data[i+1][0]+"/"+parseInt(100*d/t.data[i+1][0])+"%",townCnt:t.data[i+1][0],cntSpecial:d}),r+=s+d,n+=t.data[i][0]+t.data[i+1][0]}e.totalData[0].specialLabel=n+"/"+parseInt(100*r/n)+"%",e.totalData[0].specialProgress=parseInt(100*r/n),e.totalData[0].cntSpecial=r}))}))},isIE:function(){var e=navigator.userAgent;this.is_ie=e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}}},M=Y,W=(a("2fa0"),Object(h["a"])(M,F,N,!1,null,"9a8f32b0",null)),U=W.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"container customized"},[e.listLoading?e._e():a("div",{staticClass:"box padding-modified header statisticTracingRecord"}),a("div",{staticClass:"box padding-modified body"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:13}},[a("div",{staticClass:"disability-chart chart-container padding-10 large progress-customized"},[a("el-row",{staticClass:"w-100 flex-center margin-bottom-10"},[a("el-col",{staticClass:"margin-left-10 text-left",attrs:{span:12}},[e.is_ie?a("h1",{staticStyle:{"font-size":"20px","margin-top":"5px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("乡镇")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("溯源扫码统计")])]):a("h1",{staticClass:"gradient-colored",staticStyle:{"font-size":"20px"}},[e._v("乡镇溯源扫码统计")])]),a("el-col",{staticClass:"margin-left-auto flex-center",attrs:{span:4}},[a("div",{staticClass:"white-colored inline-block-IE"},[e._v("按年")]),a("el-date-picker",{staticClass:"w-60 margin-left-10 chart-input",attrs:{size:"small",type:"year"},model:{value:e.toYear,callback:function(t){e.toYear=t},expression:"toYear"}})],1),a("el-col",{staticClass:"margin-left-20 flex-center",attrs:{span:3}},[a("div",{staticClass:"white-colored inline-block-IE"},[e._v("按月")]),a("el-select",{staticClass:"w-60 margin-left-10 chart-input",attrs:{size:"small"},model:{value:e.toMonth,callback:function(t){e.toMonth=t},expression:"toMonth"}},e._l(12,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-col",{staticClass:"margin-left-20",attrs:{span:3}},[a("el-button",{staticClass:"no-effect margin-top-reverse-5-IE",attrs:{type:"primary",plain:""},on:{click:e.refresh}},[e._v("开始统计")])],1)],1),a("el-container",[a("el-table",{staticClass:"fixed-height chart-table",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",width:"150",label:"乡镇名称","class-name":"white-colored"}}),a("el-table-column",{attrs:{prop:"cnt",label:"溯源扫码数量/占比",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-progress",{attrs:{percentage:e.getPercent(n.cnt,e.maxCnt,1),"stroke-width":10,"show-text":!1}})]}}])}),a("el-table-column",{attrs:{"class-name":"blue-colored"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.cnt)+"/"+e._s(Math.floor(a.cnt/e.maxCnt))+"%")]}}])}),a("el-table-column",{attrs:{prop:"cnt1",label:"打码评价数量","class-name":"padding-left-20 blue-colored",width:"150"}})],1)],1),a("el-table",{staticClass:"border-hide chart-table",attrs:{data:e.summaryData,"show-header":!1,"row-class-name":"success-row"}},[a("el-table-column",{attrs:{prop:"name",label:"站点",width:"130","class-name":"white-colored"}},[[a("b",[e._v("合计")])]],2),a("el-table-column",{attrs:{prop:"maxCnt",label:"不合",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-progress",{attrs:{percentage:e.getPercent(n.maxCnt,n.maxCnt,1),"stroke-width":10,"show-text":!1}})]}}])}),a("el-table-column",{attrs:{prop:"maxCnt",label:"合格率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"sub-title"},[a("h3",{staticClass:"large-font blue-colored italic-font"},[e._v(e._s(n.maxCnt))])])]}}])}),a("el-table-column",{attrs:{label:"检测数量",prop:"avg_maxCnt",width:"150","class-name":"blue-colored"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("h1",{staticClass:"large-font italic-font"},[e._v(e._s(n.avg_maxCnt))])]}}])})],1)],1)]),a("el-col",{staticClass:"position-relative",attrs:{span:11}},[e.is_ie?a("h1",{staticClass:"margin-left-10 chart-title",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("企业溯")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("源扫码排行TOP10")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("企业溯源扫码排行TOP10")]),a("div",{ref:"chartdiv1",staticClass:"disability-chart chart-container margin-left-10 large progress-customized"},[e.tableData1[0]?a("el-row",{staticClass:"margin-left-10",staticStyle:{"margin-top":"60px"}},[a("el-col",{staticClass:"red-colored padding-left-10",attrs:{span:1}},[e._v("1")]),a("el-col",{staticClass:"no-progress-outer red-colored",attrs:{span:15}},[a("el-progress",{staticStyle:{"margin-bottom":"10px"},attrs:{percentage:95,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[0][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[0][0]))])])])],1):e._e(),e.tableData1[1]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"yellow-colored padding-left-10",attrs:{span:1}},[e._v("2")]),a("el-col",{staticClass:"no-progress-outer yellow-colored",attrs:{span:15}},[a("el-progress",{staticStyle:{"margin-bottom":"10px"},attrs:{percentage:90,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[1][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[1][0]))])])])],1):e._e(),e.tableData1[2]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"yellow-colored padding-left-10",attrs:{span:1}},[e._v("3")]),a("el-col",{staticClass:"no-progress-outer yellow-colored",attrs:{span:15}},[a("el-progress",{staticStyle:{"margin-bottom":"10px"},attrs:{percentage:86,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[2][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[2][0]))])])])],1):e._e(),e.tableData1[3]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"blue-colored padding-left-10",attrs:{span:1}},[e._v("4")]),a("el-col",{staticClass:"no-progress-outer",attrs:{span:15}},[a("el-progress",{staticStyle:{"margin-bottom":"10px"},attrs:{percentage:83,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[3][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[3][0]))])])])],1):e._e(),e.tableData1[4]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"blue-colored padding-left-10",attrs:{span:1}},[e._v("5")]),a("el-col",{staticClass:"no-progress-outer",attrs:{span:15}},[a("el-progress",{attrs:{percentage:80,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[4][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[4][0]))])])])],1):e._e(),e.tableData1[5]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"blue-colored padding-left-10",attrs:{span:1}},[e._v("6")]),a("el-col",{staticClass:"no-progress-outer",attrs:{span:15}},[a("el-progress",{attrs:{percentage:78,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[5][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[5][0]))])])])],1):e._e(),e.tableData1[6]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"blue-colored padding-left-10",attrs:{span:1}},[e._v("7")]),a("el-col",{staticClass:"no-progress-outer",attrs:{span:15}},[a("el-progress",{attrs:{percentage:76,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[6][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[6][0]))])])])],1):e._e(),e.tableData1[7]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"blue-colored padding-left-10",attrs:{span:1}},[e._v("8")]),a("el-col",{staticClass:"no-progress-outer",attrs:{span:15}},[a("el-progress",{attrs:{percentage:74,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[7][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[7][0]))])])])],1):e._e(),e.tableData1[8]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"blue-colored padding-left-10",attrs:{span:1}},[e._v("9")]),a("el-col",{staticClass:"no-progress-outer",attrs:{span:15}},[a("el-progress",{attrs:{percentage:72,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[8][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[8][0]))])])])],1):e._e(),e.tableData1[9]?a("el-row",{staticClass:"margin-left-10 margin-top-30"},[a("el-col",{staticClass:"blue-colored padding-left-10",attrs:{span:1}},[e._v("10")]),a("el-col",{staticClass:"no-progress-outer",attrs:{span:15}},[a("el-progress",{attrs:{percentage:70,"stroke-width":13,"show-text":!1}}),a("div",{staticClass:"white-colored"},[a("b",[e._v(e._s(e.getCompanyName(e.tableData1[9][1])))])])],1),a("el-col",{attrs:{span:3}},[a("p",{staticClass:"blue-colored italic-font"},[a("b",[e._v(e._s(e.tableData1[8][0]))])])])],1):e._e()],1)])],1),a("el-row",{staticClass:"w-100"},[a("el-col",[a("div",{staticClass:"w-100 flex-box disability-chart chart-container"},[e.is_ie?a("h1",{staticClass:"margin-left-10 chart-title",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("各乡")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("镇溯源扫码数据统计")])]):a("h1",{staticClass:"gradient-colored chart-title",staticStyle:{"font-size":"20px"}},[e._v("各乡镇溯源扫码数据统计")]),a("div",{ref:"chartdiv",staticClass:"w-100 inline-block-IE chart-div-IE"})])])],1)],1)])},G=[],X={name:"statisticsTracing",data:function(){return{page:{pageIndex:1,pageSize:50},tableData:[],tableData1:[],summaryData:[],listLoading:!1,maxCnt:0,avg_maxCnt:0,toMonth:null,toYear:null,companyList:null,townList:null,progressColor:"warning",is_ie:null}},created:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.toMonth=(new Date).getMonth()+1,this.toYear=new Date,this.listLoading=!0,e.next=5,this.getCompanyList();case 5:return e.next=7,this.getTownList();case 7:this.getData();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){this.isIE()},methods:{refresh:function(){this.tableData=[],this.tableData1=[],this.summaryData=[],this.maxCnt=0,this.avg_maxCnt=0,this.listLoading=!0,this.getData()},createGrid:function(e,t){var a=t.axisRanges.create();a.value=e,a.label.text=this.formatNumber(e)},formatNumber:function(e){return e/1e3+"K"},getCompanyList:function(){var e=this;return Object(y["a"])().get("/api/company_production/name").then((function(t){e.companyList=t})).catch((function(e){console.log(e)}))},getTownList:function(){var e=this;return Object(y["a"])().get("/api/town/all").then((function(t){e.townList=t})).catch((function(e){console.log(e)}))},getCompanyName:function(e){var t=this.companyList.find((function(t){return t.companyId===e}));return t?t.companyName:""},getData:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.toMonth&&this.toYear?new Date(this.toYear.getFullYear(),this.toMonth,0):new Date,e.next=3,Object(y["a"])().get("/api/tracing/getTracingTownStatis",{tracingTimeTo:t}).then((function(e){var t=e.data,n=0,r=0,i=function(e){var i=a.townList.find((function(a){return a.id==t[e][2]}));n+=t[e][0],r+=1e4*t[e][1],a.tableData.push({name:i.name,cnt:t[e][0],cnt1:t[e][1]})};for(var o in t)i(o);a.maxCnt=n,a.summaryData.push({maxCnt:n,avg_maxCnt:r/1e4}),a.makeXYChart()})).catch((function(e){console.log(e)}));case 3:Object(y["a"])().get("/api/tracing/getTracingCompanyStatis",{tracingTimeTo:t}).then((function(e){a.tableData1=e.data,a.tableData1.length>0&&(a.tableData1=a.tableData1.slice(0,10)),setTimeout((function(){a.listLoading=!1}),500)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),makeXYChart:function(){var e=this;Promise.all([Promise.resolve().then(a.bind(null,"71c9")),Promise.resolve().then(a.bind(null,"c497")),a.e("chunk-746f9207").then(a.bind(null,"2cbe1")),Promise.resolve().then(a.bind(null,"5a54"))]).then((function(t){var a=t[0],n=t[1],r=t[2].default,i=t[3].default;a.useTheme(r),a.useTheme(i);var o=a.create(e.$refs.chartdiv,n.XYChart);o.data=e.tableData,o.marginTop=20;var c=o.xAxes.push(new n.CategoryAxis),l=o.titles.create();l.text="tmp",l.fontSize=5,l.marginBottom=40,l.fill=a.color("#012f8a"),c.dataFields.category="name",c.renderer.grid.template.location=0,c.renderer.minGridDistance=10,c.renderer.grid.template.disabled=!0,c.renderer.labels.template.fill="white",c.renderer.labels.template.rotation=-45,c.renderer.labels.template.truncate=!0,c.renderer.labels.template.maxWidth=150,c.renderer.labels.template.fontSize=15,c.renderer.labels.template.horizontalCenter="right",c.renderer.line.strokeOpacity=1,c.renderer.line.strokeWidth=2,c.renderer.line.stroke=a.color("#3787ac");var s=o.yAxes.push(new n.ValueAxis);s.min=0,s.renderer.labels.template.fill="white",s.renderer.grid.template.stroke=a.color("#fff"),s.renderer.line.strokeOpacity=1,s.renderer.line.strokeWidth=2,s.renderer.line.stroke=a.color("#3787ac");var d=o.series.push(new n.ColumnSeries);d.dataFields.valueY="cnt",d.dataFields.categoryX="name",d.name="cnt",d.columns.template.tooltipText="{categoryX}: [bold]{valueY}[/]",d.columns.template.fillOpacity=1;var u=new a.LinearGradient;u.addColor(a.color("#08d3fc")),u.addColor(a.color("#4687eb")),u.rotation=90,d.fill=u;var h=d.bullets.push(new n.LabelBullet);h.label.text="{cnt}",h.label.fill=a.color("#20beff"),h.label.rotation=0,h.label.truncate=!1,h.label.dy=-7,h.label.fontSize=15;var f=d.columns.template;f.strokeOpacity=0})).catch((function(e){console.error("Error when creating chart",e)}))},beforeDestroy:function(){this.chart&&this.chart.dispose()},getPercent:function(e,t,a){return e&&t?(2===a&&(this.progressColor=parseInt(e/t*100)<100?"warning":"success"),parseInt(e/t*100)):0},isIE:function(){var e=navigator.userAgent;this.is_ie=e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}}},$=X,q=Object(h["a"])($,K,G,!1,null,null,null),H=q.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"container customized"},[e.listLoading?e._e():a("div",{staticClass:"box padding-modified header statisticsTracingCompany"}),a("div",{staticClass:"box padding-modified body"},[a("el-row",{staticClass:"W-100"},[a("el-col",{staticClass:"position-relative",attrs:{span:12}},[e.is_ie?a("h1",{staticClass:"margin-left-10 chart-title",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("乡镇溯")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("源企业统计")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("乡镇溯源企业统计")]),a("div",{ref:"chartpie1",staticClass:"disability-chart chart-container"})]),a("el-col",{staticClass:"position-relative",attrs:{span:12}},[e.is_ie?a("h1",{staticClass:"margin-left-10 chart-title",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("各乡镇监管")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("记录上传数据的比例分布")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("各乡镇监管记录上传数据的比例分布")]),a("div",{ref:"chartpie2",staticClass:"disability-chart chart-container margin-left-10"},[a("figure",[a("chart",{ref:"pie",attrs:{options:e.pie,"init-options":e.initOptions,autoresize:""}})],1)])])],1),a("el-row",{staticClass:"W-100 position-relative"},[a("el-col",[e.is_ie?a("h1",{staticClass:"margin-left-10 chart-title",staticStyle:{"font-size":"20px"}},[a("span",{staticStyle:{color:"#255ee3",opacity:"0.8"}},[e._v("各乡镇溯源")]),a("span",{staticStyle:{color:"#20beff",opacity:"0.7"}},[e._v("记录上传数据统计")])]):a("h1",{staticClass:"gradient-colored chart-title margin-left-10",staticStyle:{"font-size":"20px"}},[e._v("各乡镇溯源记录上传数据统计")]),a("div",{ref:"chartstick",staticClass:"w-100 flex-box disability-chart chart-container"})])],1)],1)])},J=[],Q=function(){return a.e("chunk-9105eba0").then(a.bind(null,"9ca8"))},Z={name:"statisticsTracingCompany",components:{chart:Q},data:function(){return{listLoading:!0,tableData:null,tableDataByCnt:null,companyStatics:null,companyStatics1:null,townList:null,colorList:["#229efe","#20beff","#21e3ff","#21ffda","#1fffa6","#61f779","#96f65f","#c9fb64","#c9fb64","#fbd661","#f1be51","#f68a63","#f17263","#ed6082","#ee63ca","#7366f4"],is_ie:null,pie:{},initOptions:{renderer:"canvas"}}},created:function(){this.isIE(),this.getData()},methods:{getData:function(){var e=this;this.tableData=[],this.tableDataByCnt=[],this.companyStatics=[],this.townList=[],Object(y["a"])().get("/api/tracing/getCompanyStatis",{tracingTimeFrom:"",tracingTimeTo:"",sortBy:"cnt_company"}).then((function(t){e.companyStatics=t.data,e.getTownlist()})).catch((function(e){console.error(e)}))},getTownlist:function(){var e=this;Object(y["a"])().get("/api/town/all",{}).then((function(t){e.townList=t,e.getTableData()})).catch((function(e){console.error(e)}))},getTableData:function(){var e=this;this.companyStatics.forEach((function(t){for(var a=t[1],n="",r=0;r<e.townList.length;r++)if(e.townList[r].id===a){n=e.townList[r].name;break}e.tableData.push({townName:n,companyCnt:t[0],pie1Label:n,pie2Label:n})})),this.makePieChat1(),this.makePieChat2()},getTableData1:function(){var e=this;this.companyStatics1.forEach((function(t){for(var a=t[4],n="",r=0;r<e.townList.length;r++)if(e.townList[r].id===a){n=e.townList[r].name;break}e.tableDataByCnt.push({townName:n,companyCnt:t[0],pie1Label:n,pie2Label:n})})),this.listLoading=!1},makePieChat1:function(){var e=this;Promise.all([Promise.resolve().then(a.bind(null,"71c9")),Promise.resolve().then(a.bind(null,"c497")),Promise.resolve().then(a.bind(null,"5a54"))]).then((function(t){var a=t[0],n=t[1],r=t[2].default;a.useTheme(r);var i=a.create(e.$refs.chartpie1,n.PieChart);Object(y["a"])().get("/api/company_production/getTownCreditStatis",{createTimeFrom:"",createTimeTo:"",sortBy:"town_id"}).then((function(t){e.companyStatics1=t.data,e.getTableData1(),i.data=e.tableDataByCnt,e.makeStickChat()})).catch((function(e){console.error(e)})),i.responsive.enabled=!0;var o=i.series.push(new n.PieSeries),c=i.titles.create();c.text="乡镇溯源企业统计",c.fontSize=5,c.marginBottom=40,c.marginTop=10,c.fill=a.color("#012f8a"),o.dataFields.value="companyCnt",o.dataFields.category="pie1Label",o.labels.template.fill="white",o.labels.template.truncate=!0,o.labels.template.maxWidth=150,o.labels.template.fontSize=15,o.labels.template.text="[bold '#20beff']{value.percent.formatNumber('#.0')}%[/] {category}",i.innerRadius=a.percent(40),o.slices.template.fillOpacity=1,o.ticks.template.fill=a.color("#FFF"),o.ticks.template.strokeWidth=1,o.ticks.template.strokeOpacity=.7,o.ticks.template.fillOpacity=1;var l=new a.ColorSet;l.list=e.colorList.map((function(e){return new a.color(e)})),o.colors=l;var s=o.slices.template.states.getKey("hover");s.properties.scale=1,s.properties.fillOpacity=.5})).catch((function(e){console.error("Error when creating chart",e)}))},makePieChat2:function(){this.tableData.sort((function(e,t){return t.cnt-e.cnt}));var e=[];this.tableData.map((function(t){e.push({value:t.companyCnt,name:t.townName})})),this.pie={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"各站点农残检测上传数据统计",type:"pie",radius:"40%",center:["54%","50%"],data:e,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:2,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{fontSize:16,color:"#FFF",formatter:"{d}%: {b}"}}}],color:this.colorList};var t=-1,a=this.$refs.pie,n=this.pie.series[0].data.length;setInterval((function(){a.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:t}),t=(t+1)%n,a.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t}),a.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t})}),1e3)},makeStickChat:function(){var e=this;Promise.all([Promise.resolve().then(a.bind(null,"71c9")),Promise.resolve().then(a.bind(null,"c497")),Promise.resolve().then(a.bind(null,"5a54"))]).then((function(t){var a=t[0],n=t[1],r=t[2].default;a.useTheme(r);var i=a.create(e.$refs.chartstick,n.XYChart);i.data=e.tableDataByCnt;var o=i.xAxes.push(new n.CategoryAxis),c=i.titles.create();c.text="各乡镇溯源记录上传数据统计",c.fontSize=5,c.marginBottom=40,c.fill=a.color("#012f8a"),o.dataFields.category="townName",o.renderer.minGridDistance=20,o.renderer.grid.template.disabled=!0,o.renderer.labels.template.fill="white",o.renderer.labels.template.rotation=-45,o.renderer.labels.template.truncate=!0,o.renderer.labels.template.maxWidth=150,o.renderer.labels.template.fontSize=15,o.renderer.labels.template.horizontalCenter="right",o.renderer.line.strokeOpacity=1,o.renderer.line.strokeWidth=2,o.renderer.line.stroke=a.color("#3787ac");var l=i.yAxes.push(new n.ValueAxis);l.min=0,l.renderer.labels.template.fill="white",l.renderer.grid.template.stroke=a.color("#fff"),l.renderer.line.strokeOpacity=1,l.renderer.line.strokeWidth=2,l.renderer.line.stroke=a.color("#3787ac");var s=i.series.push(new n.ColumnSeries);s.dataFields.valueY="companyCnt",s.dataFields.categoryX="townName",s.name="companyCnt",s.columns.template.tooltipText="{categoryX}: [bold]{valueY}[/]",s.columns.template.fillOpacity=1;var d=new a.LinearGradient;d.addColor(a.color("#08d3fc")),d.addColor(a.color("#4687eb")),d.rotation=90,s.fill=d;var u=s.bullets.push(new n.LabelBullet);u.label.text="{companyCnt}",u.label.fill=a.color("#20beff"),u.label.truncate=!0,u.label.maxWidth=150,u.label.fontSize=15,u.label.truncate=!1,u.label.dy=-10;var h=s.columns.template;h.strokeWidth=2,h.strokeOpacity=0})).catch((function(e){console.error("Error when creating chart",e)}))},createGrid:function(e,t){var a=t.axisRanges.create();a.value=e,a.label.text=this.formatNumber(e)},formatNumber:function(e){return e/1e3+"K"},isIE:function(){var e=navigator.userAgent;this.is_ie=e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}}},ee=Z,te=Object(h["a"])(ee,V,J,!1,null,null,null),ae=te.exports,ne=function(){return a.e("chunk-5a345900").then(a.bind(null,"9a42"))},re=function(){return a.e("chunk-2d237982").then(a.bind(null,"fc7f"))},ie=function(){return a.e("chunk-2d0cb723").then(a.bind(null,"4a66"))},oe=function(){return a.e("chunk-2d0bdb6a").then(a.bind(null,"2cbe"))},ce=function(){return a.e("chunk-6b4855ac").then(a.bind(null,"82c5"))},le=function(){return a.e("chunk-1741a52e").then(a.bind(null,"671a"))},se=function(){return a.e("chunk-3859f687").then(a.bind(null,"a002"))},de=function(){return a.e("chunk-14d9c179").then(a.bind(null,"5092"))},ue=function(){return a.e("chunk-2d209bad").then(a.bind(null,"a9fe"))},he=function(){return a.e("chunk-2d20971c").then(a.bind(null,"a8a0"))},fe=function(){return a.e("chunk-2d212f95").then(a.bind(null,"ab64"))},pe=function(){return a.e("chunk-5276cae0").then(a.bind(null,"f8e4"))},me=function(){return a.e("chunk-2d0c53bb").then(a.bind(null,"3de9"))},be=function(){return a.e("chunk-2d230825").then(a.bind(null,"ed1a"))},ge=function(){return a.e("chunk-2d2384d2").then(a.bind(null,"ff95"))},ke=function(){return a.e("chunk-2d0d383a").then(a.bind(null,"5ca7"))},ve=function(){return a.e("chunk-2d0bd7b2").then(a.bind(null,"2bd0"))},ye=function(){return a.e("chunk-2d0ccfe7").then(a.bind(null,"4ffe"))},we=function(){return a.e("chunk-2d0cec39").then(a.bind(null,"619a"))},Ce=function(){return a.e("chunk-2d0b9671").then(a.bind(null,"3394"))},_e=function(){return a.e("chunk-2d0c1d1b").then(a.bind(null,"4856"))},xe=function(){return a.e("chunk-2d0dd777").then(a.bind(null,"8207"))},Se=function(){return a.e("chunk-2d2134c9").then(a.bind(null,"aba3"))},Te=function(){return a.e("chunk-2d0b9de5").then(a.bind(null,"357d"))},De=function(){return a.e("chunk-2d0da3bd").then(a.bind(null,"6b72"))},Pe=function(){return a.e("chunk-2d0d6342").then(a.bind(null,"720a"))},Oe=function(){return a.e("chunk-42c7471f").then(a.bind(null,"ab07"))},Ie=function(){return a.e("chunk-2d0c7705").then(a.bind(null,"512e"))},Le=function(){return a.e("chunk-2d0c954a").then(a.bind(null,"594d"))},je=function(){return a.e("chunk-74ad1ee4").then(a.bind(null,"82257"))},Ee=function(){return a.e("chunk-2d0dd7b3").then(a.bind(null,"8225"))},Fe=function(){return a.e("chunk-2d22cab0").then(a.bind(null,"f3e2"))},Ne=function(){return a.e("chunk-2d207aac").then(a.bind(null,"a205"))},ze=function(){return a.e("chunk-2d0b9df5").then(a.bind(null,"3596"))},Ae=function(){return a.e("chunk-69598d54").then(a.bind(null,"3307"))},Re=function(){return a.e("chunk-2d228951").then(a.bind(null,"da97"))},Be=function(){return a.e("chunk-0eec536d").then(a.bind(null,"9519"))},Ye=function(){return a.e("chunk-21836398").then(a.bind(null,"d3d4"))},Me=function(){return a.e("chunk-00501439").then(a.bind(null,"20aa"))},We=function(){return a.e("chunk-2300a837").then(a.bind(null,"bda5"))},Ue=function(){return a.e("chunk-73a54124").then(a.bind(null,"3aca"))},Ke=function(){return a.e("chunk-68abf7c6").then(a.bind(null,"d03b"))},Ge=function(){return a.e("chunk-5ab94975").then(a.bind(null,"01bd"))},Xe=function(){return a.e("chunk-4bf807f0").then(a.bind(null,"8507"))},$e=function(){return a.e("chunk-449614b4").then(a.bind(null,"bbc73"))},qe=function(){return a.e("chunk-f12ead12").then(a.bind(null,"2ffe"))},He=function(){return a.e("chunk-0884d831").then(a.bind(null,"2764"))},Ve=function(){return a.e("chunk-2d0d7997").then(a.bind(null,"7800"))},Je=function(){return a.e("chunk-2d0a3559").then(a.bind(null,"0278"))},Qe=function(){return a.e("chunk-7c6238f6").then(a.bind(null,"da42"))},Ze=function(){return a.e("chunk-9bb1a3d4").then(a.bind(null,"0696"))},et=function(){return a.e("chunk-45238602").then(a.bind(null,"9e2d"))},tt=function(){return a.e("chunk-45812401").then(a.bind(null,"a44a"))},at=function(){return a.e("chunk-1279e957").then(a.bind(null,"939c"))},nt=function(){return a.e("chunk-2d222754").then(a.bind(null,"cf61"))},rt=function(){return a.e("chunk-2d208c68").then(a.bind(null,"a5db"))},it=function(){return a.e("chunk-03bb5d8c").then(a.bind(null,"4b89"))},ot=function(){return a.e("chunk-2d221fb5").then(a.bind(null,"cd53"))},ct=function(){return a.e("chunk-77302333").then(a.bind(null,"dcb39"))},lt=function(){return a.e("chunk-9fe46624").then(a.bind(null,"dd47"))},st=function(){return a.e("chunk-2d216fc7").then(a.bind(null,"c598"))},dt=function(){return a.e("chunk-2d0def21").then(a.bind(null,"888c"))},ut=function(){return a.e("chunk-5767597e").then(a.bind(null,"329a"))},ht=function(){return a.e("chunk-2d21e1aa").then(a.bind(null,"d3af"))},ft=function(){return a.e("chunk-2d20fb75").then(a.bind(null,"b58d"))},pt=function(){return a.e("chunk-2d0cf9f7").then(a.bind(null,"6502"))},mt=function(){return a.e("chunk-2d2376e0").then(a.bind(null,"faa0"))},bt=function(){return a.e("chunk-4d77dfd0").then(a.bind(null,"d8bf"))},gt=function(){return a.e("chunk-2d0f0a5c").then(a.bind(null,"9cea"))},kt=function(){return a.e("chunk-2d22dbb5").then(a.bind(null,"f96b"))},vt=function(){return a.e("chunk-2d221de1").then(a.bind(null,"cbd0"))},yt=function(){return a.e("chunk-466135e9").then(a.bind(null,"72f9"))},wt=function(){return a.e("chunk-3574d41e").then(a.bind(null,"be3d"))},Ct=function(){return a.e("chunk-2d0d6708").then(a.bind(null,"730f"))},_t=function(){return a.e("chunk-3e0261b6").then(a.bind(null,"ee1a5"))},xt=function(){return a.e("chunk-559c5eb1").then(a.bind(null,"041d"))},St=function(){return a.e("chunk-30bdc57c").then(a.bind(null,"5920"))},Tt=function(){return a.e("chunk-38ec32fc").then(a.bind(null,"f6ff"))},Dt=function(){return a.e("chunk-2d229203").then(a.bind(null,"dbb1"))},Pt=function(){return a.e("chunk-2d21dbbb").then(a.bind(null,"d30f"))},Ot=function(){return a.e("chunk-2d0bd1f9").then(a.bind(null,"2b3f"))},It=function(){return a.e("chunk-2d0e5d5f").then(a.bind(null,"95d1"))},Lt=function(){return a.e("chunk-3dbd9c32").then(a.bind(null,"9f2d"))},jt=function(){return a.e("chunk-761b1bb8").then(a.bind(null,"adab"))},Et=function(){return a.e("chunk-2d21df6e").then(a.bind(null,"d419"))},Ft=function(){return a.e("chunk-1583652c").then(a.bind(null,"2574"))},Nt=function(){return a.e("chunk-0cd43a64").then(a.bind(null,"de43"))},zt=function(){return a.e("chunk-14d37995").then(a.bind(null,"f323"))},At=function(){return a.e("chunk-71f5892a").then(a.bind(null,"bd5f"))},Rt=function(){return a.e("chunk-205ff1aa").then(a.bind(null,"b8eb"))},Bt=function(){return a.e("chunk-33fbfd55").then(a.bind(null,"6a45"))},Yt=function(){return a.e("chunk-2d0ccf1c").then(a.bind(null,"4fa5"))},Mt=function(){return a.e("chunk-86d92854").then(a.bind(null,"7ecf"))},Wt=function(){return a.e("chunk-754b740b").then(a.bind(null,"c998"))},Ut=function(){return a.e("chunk-7975686c").then(a.bind(null,"c18b"))},Kt=function(){return a.e("chunk-2d23016f").then(a.bind(null,"eb95"))},Gt=function(){return a.e("chunk-2d0cbeb1").then(a.bind(null,"4c5a"))},Xt=function(){return a.e("chunk-2d2163a5").then(a.bind(null,"c222"))},$t=function(){return a.e("chunk-3f98fda2").then(a.bind(null,"e4d1"))},qt=function(){return a.e("chunk-2d2255db").then(a.bind(null,"e3a8"))},Ht=function(){return a.e("chunk-2d0bdb94").then(a.bind(null,"2ce2"))},Vt=function(){return a.e("chunk-2d0bd94d").then(a.bind(null,"2d38"))},Jt=function(){return a.e("chunk-2d0af7b1").then(a.bind(null,"0f05"))},Qt=function(){return a.e("chunk-2d0ae527").then(a.bind(null,"0a22"))},Zt=function(){return Promise.all([a.e("chunk-5bdd67a2"),a.e("chunk-2d0c4db7")]).then(a.bind(null,"3d2b"))},ea=function(){return a.e("chunk-79771d3d").then(a.bind(null,"24b2"))},ta=function(){return a.e("chunk-2d224c85").then(a.bind(null,"e235"))},aa=function(){return a.e("chunk-2d221484").then(a.bind(null,"ca4d"))},na=function(){return a.e("chunk-08661eb6").then(a.bind(null,"38fc"))},ra=function(){return a.e("chunk-2d230bb9").then(a.bind(null,"ee14"))},ia=function(){return a.e("chunk-2d216806").then(a.bind(null,"c377"))},oa=function(){return a.e("chunk-2782e6c8").then(a.bind(null,"5b5d"))},ca=function(){return a.e("chunk-062acfa6").then(a.bind(null,"f9a4"))},la=function(){return a.e("chunk-50f74d0e").then(a.bind(null,"42b6"))},sa=function(){return a.e("chunk-77e0448e").then(a.bind(null,"b039"))},da=function(){return a.e("chunk-2d2389fa").then(a.bind(null,"ffbf"))};s.a.set("creditMode",window.location.href.indexOf("creditMode")),i["default"].use(m["a"]);var ua=window.location.href.indexOf("creditMode")<0?new m["a"]({routes:[{path:"/",name:"home",component:ne,redirect:"productionSubject",beforeEnter:function(e,t,a){Object(w["a"])().check()?Object(w["a"])().check().then((function(e){a()}),(function(e){console.log(e),b["a"].error("Token 错误")})):b["a"].error("确认 accessToken, sign, timestamp!!!")},children:[{path:"/sampleCheckMain",name:"sampleCheckMain",component:Nt},{path:"/sampleCheck/addSampleCheck",name:"addSampleCheck",component:zt},{path:"/sampleCheck/addSampleCheckResult",name:"addSampleCheckResult",component:At},{path:"/sampleCheck/detailsSampleCheck/:id",name:"detailsSampleCheck",component:Rt},{path:"/sampleCheck/detailsSampleCheckResult/:id",name:"detailsSampleCheckResult",component:Bt},{path:"/tracingLabelManagement",name:"tracingLabelManagement",component:Yt},{path:"/companyBusiness",name:"companyBusiness",component:Lt},{path:"/companyBusiness/productBusiness/:id",name:"productBusiness",component:jt},{path:"/companyBusiness/productBusiness/create/:id",name:"addProductBusiness",component:Et},{path:"/companyBusiness/detailsCompanyBusiness/:id",name:"detailsCompanyBusiness",component:Ft},{path:"/productionSubject",name:"productionSubject",component:Xe},{path:"/productionSubject/addRegulatoryObject",name:"addRegulatoryObject",component:$e},{path:"/productionSubject/editRegulatoryObject/:id",name:"editRegulatoryObject",component:qe},{path:"/productionSubject/detailsRegulatoryObject/:id",name:"detailsRegulatoryObject",component:He},{path:"/productionSubject/warehouseEnv/:id",name:"warehouseEnv",component:Qe},{path:"/productionSubject/warehouseEnv/detailsWarehouse/:id",name:"detailsWarehouse",component:Ze},{path:"/productionSubject/warehouseEnv/viewWarehouse/:id",name:"viewWarehouse",component:et},{path:"/productionSubject/warehouseEnv/addWarehouse/:id",name:"addWarehouse",component:tt},{path:"/productionSubject/mainProduct/:id",name:"mainProduct",component:at},{path:"/productionSubject/mainProduct/create/:id",name:"addMainProduct",component:nt},{path:"/productionSubject/mainProduct/edit/:id",name:"editMainProduct",component:rt},{path:"/productionSubject/mainProduct/thirdPartySamplingRecord/:id",name:"thirdPartySamplingRecord",component:it},{path:"/productionSubject/mainProduct/thirdPartySampling/create/:id",name:"addThirdPartySampling",component:ot},{path:"/productionSubject/mainProduct/thirdPartySampling/edit/:id",name:"editThirdPartySampling",component:ct},{path:"/productionSubject/mainProduct/productBatch/:id",name:"productBatch",component:lt},{path:"/productionSubject/mainProduct/productBatch/:id/create",name:"addProductBatch",component:st},{path:"/productionSubject/mainProduct/productBatch/:id/edit/:id1",name:"editProductBatch",component:dt},{path:"/productionSubject/mainProduct/inventoryDynamics/:id",name:"inventoryDynamics",component:ut},{path:"/productionSubject/mainProduct/inventoryDynamics/addInventoryDynamics/:id",name:"addInventoryDynamics",component:mt},{path:"/productionSubject/mainProduct/inventoryDynamics/editInventoryDynamics/:id",name:"editInventoryDynamics",component:bt},{path:"/productionSubject/mainProduct/processDefinition/:id",name:"processDefinition",component:yt},{path:"/productionSubject/mainProduct/processDefinition/addProcessDefinition/:id",name:"addProcessDefinition",component:wt},{path:"/productionSubject/mainProduct/processDefinition/editProcessDefinition/:id",name:"editProcessDefinition",component:Ct},{path:"/productionSubject/mainProduct/productProperty/:id",name:"productProperty",component:_t},{path:"/productionSubject/mainProduct/productProperty/addProductProperty/:id",name:"addProductProperty",component:xt},{path:"/productionSubject/mainProduct/productProperty/editProductProperty/:id",name:"editProductProperty",component:St},{path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/:id",name:"customProductProperty",component:Tt},{path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/addCustomProductProperty/:id",name:"addCustomProductProperty",component:Dt},{path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/editCustomProductProperty/:id",name:"editCustomProductProperty",component:Pt},{path:"/productionSubject/threeProduct",name:"threeProduct",component:Ot},{path:"/productionSubject/threeProduct/addThreeProduct",name:"addThreeProduct",component:It},{path:"/threeProductsCertification",name:"threeProductsCertification",component:re},{path:"/threeProductsCertification/create",name:"addThreeProducts",component:ie},{path:"/threeProductsCertification/:id",name:"detailsThreeProducts",component:oe},{path:"/regulatoryRecord",name:"regulatoryRecord",component:ce},{path:"/regulatoryRecord/create",name:"addRegulatoryRecord",component:le},{path:"/regulatoryRecord/edit/:id",name:"rectificationRecord",component:se},{path:"/regulatoryRecord/:id",name:"detailsRegulatoryRecord",component:de},{path:"/commonWords",name:"commonWords",component:ue},{path:"/management",name:"management",component:he},{path:"/businessProducts",name:"businessProducts",component:fe},{path:"/companyDetails",name:"companyDetails",component:pe},{path:"/disabilityCheck",name:"disabilityCheck",component:be},{path:"/productionRecord",name:"productionRecord",component:Kt},{path:"/productionRecord/create",name:"addProductionRecord",component:Gt},{path:"/productionRecord/editProductionRecord/:id",name:"editProductionRecord",component:Xt},{path:"/notice",name:"notice",component:$t},{path:"/notice/view/:id",name:"detailsNotice",component:qt},{path:"/notice/create",name:"createNotice",component:Ht},{path:"/notice/smsNotice/:id",name:"smsNotice",component:Jt},{path:"/notice/detailSms",name:"detailSms",component:Qt},{path:"/aquatic",name:"aquaticStatistics",component:Zt},{path:"/notice/edit/:id",name:"editNotice",component:Vt},{path:"/jobDefinition",name:"jobDefinition",component:Mt},{path:"/jobDefinition/create",name:"addJobDefinition",component:Wt},{path:"/jobDefinition/:id",name:"editJobDefinition",component:Ut},{path:"/productVariety/:id",name:"productVariety",component:ht},{path:"/productVariety/create/:id",name:"addProductVariety",component:ft},{path:"/productVariety/edit/:id",name:"editProductVariety",component:pt},{path:"/statisticsFarmers",name:"statisticsFarmers",component:T},{path:"/greenProducts",name:"greenProducts",component:ea},{path:"/internalMessage",name:"internalMessage",component:ta},{path:"/internalMessage/add",name:"addInternalMessage",component:aa},{path:"/inputManagement",name:"inputManagement",component:oa},{path:"/inputManagement/addPurchase",name:"addInputPurchase",component:ca},{path:"/inputManagement/addUse",name:"addInputUse",component:la},{path:"/inputManagement/view/:id",name:"viewInputManagement",component:sa},{path:"/workTask",name:"workTask",component:ge},{path:"/workTask/create",name:"addWorkTask",component:ke},{path:"/workTask/edit/:id",name:"editWorkTask",component:ve},{path:"/workTask/report/create",name:"addWorkTaskReport",component:ye},{path:"/workTask/report/detail/:id",name:"detailWorkTaskReport",component:we},{path:"/trainingFunds",name:"trainingFunds",component:na},{path:"/trainingFunds/add",name:"addTrainingFunds",component:ra},{path:"/trainingFunds/view/:id",name:"viewTrainingFunds",component:ia},{path:"/seed",name:"seed",component:Ce},{path:"/seed/upload",name:"uploadSeed",component:_e},{path:"/seed/detail/:id",name:"detailSeed",component:xe},{path:"/userManagement",name:"userManagement",component:Se},{path:"/userManagement/create",name:"registerUser",component:Te},{path:"/userManagement/edit/:id",name:"editUser",component:De},{path:"/userManagement/changePwd/:id",name:"changePassword",component:Pe},{path:"/productionStandard",name:"productionStandard",component:Oe},{path:"/productionStandard/create",name:"addProductionStandard",component:Ie},{path:"/productionStandard/detail/:id",name:"detailProductionStandard",component:Le},{path:"/productionStandard/edit/:id",name:"editProductionStandard",component:je},{path:"/productionGrade/:id",name:"definitionLevel",component:gt},{path:"/productionGrade/create/:id",name:"addDefinitionLevel",component:kt},{path:"/productionGrade/edit/:id",name:"editDefinitionLevel",component:vt},{path:"/shareFiles",name:"shareFiles",component:Ee},{path:"/shareFiles/create",name:"addShareFiles",component:Fe},{path:"/shareFiles/edit/:id",name:"editShareFiles",component:Ne},{path:"/shareFiles/detail/:id",name:"detailShareFiles",component:ze},{path:"/specialCategory",name:"specialCategory",component:Ae},{path:"/supervisionGrid",name:"supervisionGrid",component:Ve},{path:"/supervisionGrid/manage/:id",name:"manageSupervisionGrid",component:Je},{path:"/uploadSituation",name:"uploadSituation",component:da},{path:"/statisticsCredit",name:"statisticsCredit",component:E},{path:"/statisticsSupervision",name:"statisticsSupervision",component:U},{path:"/statisticsTracing",name:"statisticsTracing",component:H},{path:"/statisticsTracingCompany",name:"statisticsTracingCompany",component:ae}]},{path:"*",redirect:"/",hidden:!0}]}):new m["a"]({routes:[{path:"/",name:"home",component:ne,redirect:"corporateCreditFile",beforeEnter:function(e,t,a){Object(w["a"])().check()?Object(w["a"])().check().then((function(e){a()}),(function(e){console.log(e),b["a"].error("Token 错误")})):b["a"].error("确认 accessToken, sign, timestamp!!!")},children:[{path:"/creditRating",name:"creditRating",component:Re},{path:"/creditRating/:id",name:"detailsRating",component:Ye},{path:"/creditRating/edit/:id",name:"editRating",component:Be},{path:"/corporateCreditFile",name:"corporateCreditFile",component:Me},{path:"/corporateCreditFile/adminLicenseInfo/",name:"adminLicenseInfo",component:Ue},{path:"/corporateCreditFile/adminPenaltyInfo/",name:"adminPenaltyInfo",component:We},{path:"/corporateCreditFile/ratingInfo",name:"ratingInfo",component:Ge},{path:"/corporateCreditFile/threeProduction/",name:"threeProduction",component:Ke},{path:"/redBlackList",name:"redBlackList",component:me}]},{path:"*",redirect:"/",hidden:!0}]}),ha=ua,fa=a("c1df"),pa=a.n(fa);i["default"].filter("formatDate",(function(e){if(e)return pa()(String(e)).format("YYYY-MM-DD")})),i["default"].filter("formatDateTime",(function(e){if(e)return pa()(String(e)).format("YYYY-MM-DD HH:mm:ss")}));a("0487"),a("b329");i["default"].use(r.a),i["default"].config.productionTip=!1,new i["default"]({el:"#app",router:ha,render:function(e){return e(p)}})},"5d39":function(e,t,a){},"61dc":function(e,t,a){"use strict";var n=a("d225"),r=a("b0b4"),i=a("8ded"),o=a.n(i),c=a("d1a0"),l=function(){function e(){Object(n["a"])(this,e)}return Object(r["a"])(e,[{key:"removeAccessToken",value:function(){o.a.remove(c["a"].ACCESS_TOKEN_KEY)}},{key:"removeAuthToken",value:function(){o.a.remove(c["a"].AUTH_TOKEN_KEY)}},{key:"removeRefreshToken",value:function(){o.a.remove(c["a"].REFRESH_TOKEN_KEY)}},{key:"accessToken",get:function(){return o.a.get(c["a"].ACCESS_TOKEN_KEY)},set:function(e){o.a.set(c["a"].ACCESS_TOKEN_KEY,e)}},{key:"authToken",get:function(){return o.a.get(c["a"].AUTH_TOKEN_KEY)},set:function(e){o.a.set(c["a"].AUTH_TOKEN_KEY,e)}},{key:"refreshToken",get:function(){return o.a.get(c["a"].REFRESH_TOKEN_KEY)},set:function(e){o.a.set(c["a"].REFRESH_TOKEN_KEY,e)}}],[{key:"d",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}();t["a"]=function(){return l.d()}},"64a9":function(e,t,a){},"6b45":function(e,t,a){},8367:function(e,t,a){"use strict";var n=a("0aca"),r=a.n(n);r.a},b329:function(e,t,a){},d1a0:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));var n="production",r={API_AUTH_URL:function(){return Object({NODE_ENV:"production",VUE_APP_API:"http://118.31.54.197:8040/agricultural_product_monitor",VUE_APP_DOWNLOAD:"http://118.31.54.197:8040/agricultural_product_monitor/api",BASE_URL:"/"}).VUE_APP_AUTH_API},API_BASE_URL:function(){return"local"==n?"http://118.31.54.197:8040/agricultural_product_monitor":"production"==n?"http://118.31.54.197:8040/agricultural_product_monitor":"NOTHING"},DOWNLOAD_URL:function(){return"http://118.31.54.197:8040/agricultural_product_monitor/api"}},i={AUTH_TOKEN_KEY:"auth_token",ACCESS_TOKEN_KEY:"access_token",REFRESH_TOKEN_KEY:"refresh_token"}},eae4:function(e,t,a){"use strict";var n=a("d225"),r=a("b0b4"),i=a("5c07"),o=(a("1310"),a("958a"),function(){function e(){Object(n["a"])(this,e)}return Object(r["a"])(e,null,[{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;i["notify"](e,"success",t/1e3)}},{key:"error",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];i["alert"]("错误",e,(function(){})).set("label","取 消")}},{key:"message",value:function(e){i["alert"]("注意",e,(function(){}))}},{key:"auth",value:function(){i["alert"]("需要登录","请登录，登录后将显示停车场的详细信息。",(function(){}))}}]),e}());t["a"]=o}});
//# sourceMappingURL=app.ac87fecb.js.map