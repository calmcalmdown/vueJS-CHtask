(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2384d2"],{ff95:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("任务发布")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"select_label no-margin-left"},[e._v("开始日期")]),a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"开始日期"},on:{change:e.getList},model:{value:e.releaseTimeFrom,callback:function(t){e.releaseTimeFrom=t},expression:"releaseTimeFrom"}})],1),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"select_label no-margin-left"},[e._v("结束日期")]),a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"结束日期"},on:{change:e.getList},model:{value:e.releaseTimeTo,callback:function(t){e.releaseTimeTo=t},expression:"releaseTimeTo"}})],1),a("el-col",{attrs:{span:3}},[e.isShowAddButton?a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.$router.push("/workTask/create")}}},[e._v("添加工作任务")]):e._e()],1)],1)],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"100"}}),a("el-table-column",{attrs:{prop:"releaseTime",label:"发布时间","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e._f("formatDate")(a.releaseTime))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"releasePerson",label:"发布者"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e.isShowAddButton?a("el-button",{attrs:{size:"small",type:"warning",plain:""},on:{click:function(t){return e.$router.push({path:"/workTask/edit/"+i.id})}}},[e._v("修改")]):e._e(),e.isShowEditButton?a("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/workTask/report/create",query:{id:i.id}})}}},[e._v("查看任务")]):e._e(),e.isShowAddButton?a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/workTask/report/detail/"+i.id})}}},[e._v("查看任务进度")]):e._e()]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},s=[],n=(a("7514"),a("8ded")),o=a.n(n),l=a("062e"),r=a("55a1"),c=(a("0010"),{name:"workTask",components:{Pagination:l["default"]},data:function(){return{releaseTimeFrom:"",releaseTimeTo:"",page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,isShowAddButton:null,isShowEditButton:null,tableData:[]}},created:function(){this.isShowAddButton=!!o.a.get("authList").find((function(e){return"addWorkTask"==e.privilegeCode})),this.isShowEditButton=!!o.a.get("authList").find((function(e){return"addWorkTaskReport"==e.privilegeCode})),this.getList()},methods:{getList:function(){var e=this;if(this.listLoading=!0,this.releaseTimeTo){this.releaseTimeTo=new Date(this.releaseTimeTo);var t=new Date(this.releaseTimeTo.getFullYear(),this.releaseTimeTo.getMonth(),this.releaseTimeTo.getDate(),23,59,59)}Object(r["a"])().get("/api/work_task/all",{fromDate:this.releaseTimeFrom,toDate:t,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}}),d=c,u=a("2877"),p=Object(u["a"])(d,i,s,!1,null,"4f44d84c",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d2384d2.179a344f.js.map