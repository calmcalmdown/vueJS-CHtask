(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1dcc1b8","chunk-2d0e2754"],{"7f7f":function(e,t,a){var n=a("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,r="name";r in o||a("9e1e")&&n(o,r,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},ee14:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("培训经费管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加经费")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],ref:"addForm",staticClass:"form-width",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{prop:"projectName",label:"项目名称:"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.projectName,callback:function(t){e.$set(e.addForm,"projectName",t)},expression:"addForm.projectName"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"申请金额:",prop:"appliedAmount"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addForm.appliedAmount,callback:function(t){e.$set(e.addForm,"appliedAmount",t)},expression:"addForm.appliedAmount"}})],1),a("el-form-item",{staticClass:"input-width label-align",staticStyle:{"margin-right":"30px"},attrs:{label:"申请人：",prop:"proposer"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.proposer,callback:function(t){e.$set(e.addForm,"proposer",t)},expression:"addForm.proposer"}})],1),a("el-form-item",{staticClass:"input-width label-align2",attrs:{label:"所在单位：",prop:"companyId"}},[a("el-select",{model:{value:e.addForm.companyId,callback:function(t){e.$set(e.addForm,"companyId",t)},expression:"addForm.companyId"}},e._l(e.companyProduction,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"file_live_1"}},[a("input",{ref:"file_live_1",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{size:"small",type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),e.file_live_1?a("span",[e._v("("+e._s(e.fileName)+")")]):a("span",[e._v("请选择需要上传的文件...")])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(t){return e.onSubmit("addForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},o=[],i=(a("7f7f"),a("55a1")),r=(a("d1a0"),{data:function(){return{addForm:{projectName:"",appliedAmount:"",proposer:"",companyId:""},companyProduction:[],rules:{projectName:[{required:!0,message:"请插入",trigger:"change"}],appliedAmount:[{required:!0,message:"请插入",trigger:"change"}],companyId:[{required:!0,message:"请选择",trigger:"change"}],proposer:[{required:!0,message:"请插入",trigger:"change"}]},fileName:"",file_live_1:null,dataLoading:!1}},mounted:function(){this.getCompanyProduct()},methods:{getCompanyProduct:function(){var e=this;Object(i["a"])().get("/api/company_production/name").then((function(t){e.companyProduction=e.companyProduction.concat(t)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataLoading=!0;var a=new FormData;a=t.makeFormData(),Object(i["a"])().post("/api/training_funds/create",a).then((function(e){t.$router.push({path:"/trainingFunds"}),setTimeout((function(){t.dataLoading=!1}),10)})).catch((function(e){}))}}))},chooseFile:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file_live_1=this.$refs.file_live_1.files[0],this.fileName=this.file_live_1.name},makeFormData:function(){var e=new FormData;return e.append("projectName",this.addForm.projectName),e.append("appliedAmount",this.addForm.appliedAmount),e.append("proposer",this.addForm.proposer),e.append("companyId",this.addForm.companyId),e.append("id",0),e.append("file",this.file_live_1),e}}}),l=r,c=a("2877"),s=Object(c["a"])(l,n,o,!1,null,null,null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-d1dcc1b8.5805362a.js.map