(function(e){function t(t){for(var o,i,n=t[0],s=t[1],c=t[2],u=0,p=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],o=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(o=!1)}o&&(l.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},r={app:0},l=[];function i(e){return n.p+"js/"+({}[e]||e)+"."+{"chunk-18de5d9c":"90b0171b"}[e]+".js"}function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,o){a=r[e]=[t,o]}));t.push(a[2]=o);var l,s=document.createElement("script");s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.src=i(e);var c=new Error;l=function(t){s.onerror=s.onload=null,clearTimeout(u);var a=r[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+l+")",c.name="ChunkLoadError",c.type=o,c.request=l,a[1](c)}r[e]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:s})}),12e4);s.onerror=s.onload=l,document.head.appendChild(s)}return Promise.all(t)},n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=c;l.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"0047":function(e,t,a){},"034f":function(e,t,a){"use strict";var o=a("64a9"),r=a.n(o);r.a},"0881":function(e,t,a){"use strict";var o=a("1187"),r=a.n(o);r.a},"0aca":function(e,t,a){},"0afb":function(e,t,a){"use strict";var o=a("752c"),r=a.n(o);r.a},"0b41":function(e,t,a){"use strict";var o=a("f198"),r=a.n(o);r.a},"0cdc":function(e,t,a){"use strict";var o=a("3a1e"),r=a.n(o);r.a},"0cf0":function(e,t,a){"use strict";var o=a("bac3"),r=a.n(o);r.a},"0eec":function(e,t,a){"use strict";var o=a("e6e0"),r=a.n(o);r.a},"0f7c":function(e,t,a){},"0f81":function(e,t,a){"use strict";var o=a("c589"),r=a.n(o);r.a},1:function(e,t,a){e.exports=a("56d76")},1187:function(e,t,a){},"11fc":function(e,t,a){"use strict";var o=a("ac9f"),r=a.n(o);r.a},1281:function(e,t,a){"use strict";var o=a("d942"),r=a.n(o);r.a},"152b":function(e,t,a){},"1b5b":function(e,t,a){},"1d60":function(e,t,a){},2:function(e,t){},"208a":function(e,t,a){"use strict";var o=a("bb7b"),r=a.n(o);r.a},2319:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI4Q0UyRDFCNzg4MzExRTk5QkFERjFEMTA5RTZDMEIyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI4Q0UyRDFDNzg4MzExRTk5QkFERjFEMTA5RTZDMEIyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjhDRTJEMTk3ODgzMTFFOTlCQURGMUQxMDlFNkMwQjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjhDRTJEMUE3ODgzMTFFOTlCQURGMUQxMDlFNkMwQjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6ySUNPAAAA/0lEQVR42sxU0RHCIAylTsAIuEE3kBHYoB3BDewIjtANdAPZoN1AN2g7AQZ9PXMUuHr2w3f3PgjJIyGBwjkntsRObIw1gobYbClYEvWvgl7gEghJ4o1YfSvYInBPfDD7SJyw3+GAJXyXGc/ujSOzNUTL1po4Ersg9kW+UBBrAqdQ0NPAt84JtjhZrhAUsN1DO79DRbS4qzW4IiZ5h7FyZ8qITSNGpzKckp2LZy1je1zQl3v44pUZJNGnSq5RgkmUHU7EgEYmuzx3zjuWGTGJGYxNhIg59xA9IRO+V2FUxtShqQxa98EAkRk2V0GR+WAVPgfFumkXTQhQ/P2P/RRgAPqUIQRP0XIDAAAAAElFTkSuQmCC"},"26d1":function(e,t,a){},"27b0":function(e,t,a){},"29fb":function(e,t,a){"use strict";var o=a("97de"),r=a.n(o);r.a},"2d09":function(e,t,a){},"2d70":function(e,t,a){"use strict";var o=a("789a"),r=a.n(o);r.a},"2f56":function(e,t,a){},3:function(e,t){},3288:function(e,t,a){"use strict";var o=a("b0e4"),r=a.n(o);r.a},"3a1e":function(e,t,a){},"3ef3":function(e,t,a){"use strict";var o=a("cbfd"),r=a.n(o);r.a},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=l,e.exports=r,r.id="4678"},"4c9b":function(e,t,a){"use strict";var o=a("b9f4"),r=a.n(o);r.a},"4f0a":function(e,t,a){"use strict";var o=a("faa9"),r=a.n(o);r.a},"4fb6":function(e,t,a){},"53bb":function(e,t,a){"use strict";var o=a("f242"),r=a.n(o);r.a},"546b":function(e,t,a){},"56b4":function(e,t,a){"use strict";var o=a("ad82"),r=a.n(o);r.a},"56d7":function(e,t,a){},"56d76":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view",{key:e.$route.fullPath})],1)},l=[],i={name:"App",data:function(){return{msg:"hello everyBody!"}}},n=i,s=(a("034f"),a("2877")),c=Object(s["a"])(n,r,l,!1,null,null,null),u=c.exports,d=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"login-container"},[a("el-dialog",{attrs:{title:"Or connect with",visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[a("i",{staticClass:"el-icon-error"},[e._v(" Can not be simulated on local, so please combine you own business simulation! ! !")]),a("br"),a("br"),a("br"),a("social-sign")],1)],1),a("div",{staticClass:"form-div"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v("常熟巿农业委员会  ")]),a("h3",{staticClass:"title blue-colored"},[e._v("智慧农业系统")])]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{ref:"username",attrs:{placeholder:"账号",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-tooltip",{attrs:{content:"CapsLock 在",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),a("el-form-item",{staticClass:"margin-bottom-20",attrs:{prop:"isRemember"}},[a("el-checkbox",{model:{value:e.loginForm.isRemember,callback:function(t){e.$set(e.loginForm,"isRemember",t)},expression:"loginForm.isRemember"}},[e._v("记住我")])],1),a("el-button",{attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)])},m=[],f=(a("ac6a"),a("456d"),a("d225")),g=a("b0b4"),h=a("5c07"),b=(a("1310"),function(){function e(){Object(f["a"])(this,e)}return Object(g["a"])(e,null,[{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;h["notify"](e,"success",t/1e3)}},{key:"error",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];h["alert"]("错误",e,(function(){}))}},{key:"message",value:function(e){h["alert"]("PARQYT",e,(function(){}))}},{key:"auth",value:function(){h["alert"]("需要登录","请登录，登录后将显示停车场的详细信息。",(function(){}))}}]),e}()),v=b,y=function(){function e(){Object(f["a"])(this,e),this.bus=new o["default"]}return Object(g["a"])(e,[{key:"subscribe",value:function(e,t){this.bus.$on(e,t)}},{key:"subscribeOnce",value:function(e,t){this.bus.$once(e,t)}},{key:"publish",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.bus.$emit(e,t)}},{key:"unsubscribe",value:function(e){this.bus.$off(e)}}],[{key:"d",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}(),_=function(){return y.d()},w=a("2ef0"),k=a("8ded"),x=a.n(k),C=a("bc3a"),S=a.n(C),I="production",F={API_BASE_URL:function(){return"local"==I?"http://intelligent-agriculture-funny-dingo.cfapps.io":"production"==I?"http://intelligent-agriculture-funny-dingo.cfapps.io":"NOTHING"},DOWNLOAD_URL:function(){return"http://intelligent-agriculture-funny-dingo.cfapps.io/api"}},T={ACCESS_TOKEN_KEY:"access_token",REFRESH_TOKEN_KEY:"refresh_token"},$=function(){function e(){Object(f["a"])(this,e)}return Object(g["a"])(e,[{key:"removeAccessToken",value:function(){x.a.remove(T.ACCESS_TOKEN_KEY)}},{key:"removeRefreshToken",value:function(){x.a.remove(T.REFRESH_TOKEN_KEY)}},{key:"accessToken",get:function(){return x.a.get(T.ACCESS_TOKEN_KEY)},set:function(e){x.a.set(T.ACCESS_TOKEN_KEY,e)}},{key:"refreshToken",get:function(){return x.a.get(T.REFRESH_TOKEN_KEY)},set:function(e){x.a.set(T.REFRESH_TOKEN_KEY,e)}}],[{key:"d",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}(),V=function(){return $.d()},L=S.a,N=function(){function e(){Object(f["a"])(this,e)}return Object(g["a"])(e,[{key:"baseUrl",value:function(e){return F.API_BASE_URL()+e}},{key:"request",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={};return"get"==e.toLowerCase()&&(l["params"]=a,this.authToken&&(l["params"]=Object.assign(l["params"],this.authToken))),"post"==e.toLowerCase()&&(l=o,this.authToken&&(l=Object.assign(l,this.authToken))),"put"==e.toLowerCase()&&(l=o,this.authToken&&(l=Object.assign(l,this.authToken))),"delete"==e.toLowerCase()&&(l["params"]=a,this.authToken&&(l["params"]=Object.assign(l["params"],this.authToken))),this.makeRequest(e,t,l,!1,r)}},{key:"makeRequest",value:function(e,t,a){arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return-1==t.indexOf("/api/user/login")&&(L.defaults.headers.common["Authorization"]=V().accessToken),L[e](this.baseUrl(t),a).then((function(e){var t=e.data;return Promise.resolve(t)}),(function(e){return console.log(e),Promise.reject({status:"error",message:"错误的用户名或密码!",data:{error:e}})}))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("get",e,t)}},{key:"post",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.request("post",e,a,t,o)}},{key:"put",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("put",e,a,t)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("delete",e,t)}}],[{key:"d",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}(),D=function(){return N.d()},P=(a("6c7b"),a("308d")),j=a("6bb5"),U=a("4e2b"),z=(a("28a5"),a("6762"),a("2fdb"),function(){function e(){Object(f["a"])(this,e),this.attrs={}}return Object(g["a"])(e,[{key:"fill",value:function(e){for(var t in e)this.fillables.includes(t.split(".")[0])&&this.setAttr(t,e[t]);return this}},{key:"setAttr",value:function(e,t){return w["set"](this.attrs,e,t),this}},{key:"getAttr",value:function(e){return w["get"](this.attrs,e)}},{key:"toJSON",value:function(){var e={attrs:this.attrs,tmp:{}};for(var t in this)"attrs"!=t&&(e["tmp"][t]=this[t]);return e["__serializedtype"]="model",e["__serializedclass"]=this.className,e}}],[{key:"create",value:function(e){}}]),e}()),A=function(e){function t(){return Object(f["a"])(this,t),Object(P["a"])(this,Object(j["a"])(t).call(this))}return Object(U["a"])(t,e),Object(g["a"])(t,[{key:"fillables",get:function(){return["id","userId","userType","contactName","contactPerson","contactWay","createTime","createUserId","creditCode","updateTime","updateUserId"]}}]),Object(g["a"])(t,[{key:"name",get:function(){var e=this.getAttr("first_name"),t=this.getAttr("last_name");return e&&t?this.getAttr("first_name")+" "+this.getAttr("last_name"):"Dear User"}}],[{key:"create",value:function(e){var a=new t;return a.fill(e)}}]),t}(z),R=function(){function e(){Object(f["a"])(this,e)}return Object(g["a"])(e,[{key:"setToken",value:function(){S.a.defaults.headers.common["Authorization"]=V().accessToken}},{key:"check",value:function(){return null!=this.user()&&Boolean(V().accessToken)}},{key:"user",value:function(){return this.loggedInUser?this.loggedInUser:x.a.get("userData")?A.create(JSON.parse(x.a.get("userData"))):null}},{key:"createUserFrom",value:function(e){var t=x.a.get("isRemember");t?x.a.set("userName",e["userId"]):e["userID"]==x.a.get("userName")&&(x.a.remove("userName"),x.a.remove("password")),V().accessToken=e["token"],this.setToken(),this.loggedInUser=A.create({id:e["id"],userId:e["userId"],userType:e["userType"],contactName:e["contactName"],contactPerson:e["contactPerson"],contactWay:e["contactWay"],createTime:e["createTime"],createUserId:e["createUserId"],creditCode:e["creditCode"],updateTime:e["updateTime"],updateUserId:e["updateUserId"]}),x.a.set("userData",JSON.stringify(this.loggedInUser.attrs))}},{key:"clearSavedData",value:function(){x.a.remove("password")}},{key:"signup",value:function(e){var t=this;return D().post("auth/signup",e,{},!0).then((function(a){return t.createUserFrom(w["merge"](a["data"],e)),Promise.resolve(a)}),(function(e){return Promise.reject(e)}))}},{key:"verifyHost",value:function(e){var t=this;return D().post("auth/verify-host",e,{},!0).then((function(a){return t.createUserFrom(w["merge"](a["data"],e)),Promise.resolve(a)}),(function(e){return Promise.reject(e)}))}},{key:"login",value:function(e){var t=this;return x.a.set("isRemember",e.isRemember),x.a.set("password",e.password),D().post("/api/user/login",{password:e.password,username:e.username},{},!0).then((function(e){return t.createUserFrom(e),Promise.resolve(e)}),(function(e){return t.clearSavedData(),Promise.reject(e)}))}},{key:"resetPassword",value:function(e){return D().post("auth/reset_password",{username:e}).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}},{key:"logout",value:function(){this.check()&&(this.loggedInUser=null,V().removeAccessToken())}}],[{key:"d",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}(),O=function(){return R.d()},q={name:"login",data:function(){var e=function(e,t,a){t.length<3?a(new Error("用户名不能少于3位数字")):a()},t=function(e,t,a){t.length<6?a(new Error("密码不能少于6位数字")):a()};return{loginForm:{username:"",password:"",isRemember:!1},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){this.loginForm.isRemember=x.a.get("isRemember"),this.loginForm.password=x.a.get("password")?x.a.get("password"):"",this.loginForm.username=x.a.get("userName")?x.a.get("userName"):"",O().check()&&this.$router.push({path:this.redirect||"/"})},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,a=e.key;a&&1===a.length&&(this.capsTooltip=!!(t&&a>="a"&&a<="z"||!t&&a>="A"&&a<="Z")),"CapsLock"===a&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,O().login(e.loginForm).then((function(t){v.success("欢迎来到智能农业！"),e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.loading=!1,_().publish("App.loggedIn")}),(function(t){console.log(t),e.loading=!1,v.error(t["message"])}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})}}},E=q,B=(a("bbb5"),Object(s["a"])(E,p,m,!1,null,"6f4b1b93",null)),G=B.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("top")],1),a("el-container",[a("el-aside",{staticStyle:{width:"200px",background:"#fff"}},[a("navBar")],1),a("el-main",[a("router-view")],1)],1)],1)},W=[],Y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"xyh_top flex-box justify-right"},[e._m(0),3!==e.loggedinUserType?o("el-menu",{staticClass:"el-menu-demo",attrs:{outer:"","default-active":e.$route.fullPath,mode:"horizontal","background-color":"#253032","text-color":"#ffffff"}},[o("el-menu-item",{attrs:{index:"/specialCategory"}},[o("router-link",{attrs:{slot:"title",to:"/specialCategory"},slot:"title"},[e._v("专项")])],1),o("el-menu-item",{attrs:{index:"/statisticsFarmers"}},[o("router-link",{attrs:{slot:"title",to:"/statisticsFarmers"},slot:"title"},[e._v("统计（农残）")])],1),o("el-menu-item",{attrs:{index:"/productionStandard"}},[o("router-link",{attrs:{slot:"title",to:"/productionStandard"},slot:"title"},[e._v("生产标准")])],1),o("el-menu-item",{attrs:{index:"/shareFiles"}},[o("router-link",{attrs:{slot:"title",to:"/shareFiles"},slot:"title"},[e._v("共享文件")])],1),o("el-menu-item",{attrs:{index:"/internalMessage"}},[o("router-link",{attrs:{slot:"title",to:"/internalMessage"},slot:"title"},[e._v("站内消息")])],1)],1):e._e(),o("div",{staticClass:"quit"},[o("span",{staticStyle:{"padding-right":"20px"}},[o("img",{attrs:{src:a("e841"),alt:""}}),e._v("\n      "+e._s(e.userName)+"\n    ")]),o("span",{on:{click:function(t){return e.quit()}}},[o("img",{attrs:{src:a("2319"),alt:""}}),e._v("\n      退出\n    ")])])],1)},J=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"changshu_left"},[o("img",{attrs:{src:a("9d64"),alt:""}})])}],Q=(a("96cf"),a("3b8d")),Z={name:"",data:function(){return{title:"平台",userName:"",loggedinUserType:null}},created:function(){this.loggedinUserType=O().user().attrs.userType,this.userName=O().user().attrs.contactName},methods:{quit:function(){var e=this,t=this;t.$confirm("确定要退出吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(Q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:O().logout(),v.success("再 见"),setTimeout((function(){e.$router.push({path:"/login"})}),500);case 3:case"end":return t.stop()}}),t)})))).catch((function(e){console.error(e)}))}},components:{}},H=Z,X=(a("eefa"),Object(s["a"])(H,Y,J,!1,null,"39220527",null)),K=X.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"tac",staticStyle:{"margin-top":"50px"}},[a("el-col",{attrs:{span:24}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{outer:"","default-active":e.$route.fullPath,"background-color":"#fff","text-color":"#333"}},[a("el-submenu",{attrs:{index:"/"}},[a("template",{slot:"title"},[a("span",[e._v("监管对象")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/productionSubject"}},[a("router-link",{attrs:{slot:"title",to:"/productionSubject"},slot:"title"},[e._v("生产主体")])],1),a("el-menu-item",{attrs:{index:"/companyBusiness"}},[a("router-link",{attrs:{slot:"title",to:"/companyBusiness"},slot:"title"},[e._v("经营主体")])],1)],1)],2),a("el-menu-item",{attrs:{index:"/disabilityCheck"}},[a("router-link",{attrs:{slot:"title",to:"/disabilityCheck"},slot:"title"},[e._v("农残检测")])],1),3===e.loggedinUserType||0===e.loggedinUserType?a("el-menu-item",{attrs:{index:"/jobDefinition"}},[a("router-link",{attrs:{slot:"title",to:"/jobDefinition"},slot:"title"},[e._v("作业定义")])],1):e._e(),3===e.loggedinUserType||0===e.loggedinUserType?a("el-menu-item",{attrs:{index:"/productionRecord"}},[a("router-link",{attrs:{slot:"title",to:"/productionRecord"},slot:"title"},[e._v("生产记录")])],1):e._e(),3!==e.loggedinUserType?a("el-menu-item",{attrs:{index:"/regulatoryRecord"}},[a("router-link",{attrs:{slot:"title",to:"/regulatoryRecord"},slot:"title"},[e._v("监管记录")])],1):e._e(),3!==e.loggedinUserType?a("el-menu-item",{attrs:{index:"/workTask"}},[a("router-link",{attrs:{slot:"title",to:"/workTask"},slot:"title"},[e._v("工作任务")])],1):e._e(),3!==e.loggedinUserType?a("el-menu-item",{attrs:{index:"/notice"}},[a("router-link",{attrs:{slot:"title",to:"/notice"},slot:"title"},[e._v("通知管理")])],1):e._e(),3!==e.loggedinUserType?a("el-menu-item",{attrs:{index:"/aquatic"}},[a("router-link",{attrs:{slot:"title",to:"/aquatic"},slot:"title"},[e._v("水产站")])],1):e._e(),3!==e.loggedinUserType?a("el-menu-item",{attrs:{index:"/trainingFunds"}},[a("router-link",{attrs:{slot:"title",to:"/trainingFunds"},slot:"title"},[e._v("培训经费管理")])],1):e._e(),3!==e.loggedinUserType?a("el-menu-item",{attrs:{index:"/seed"}},[a("router-link",{attrs:{slot:"title",to:"/seed"},slot:"title"},[e._v("种子管理")])],1):e._e(),3!==e.loggedinUserType?a("el-menu-item",{attrs:{index:"/userManagement"}},[a("router-link",{attrs:{slot:"title",to:"/userManagement"},slot:"title"},[e._v("用户管理")])],1):e._e(),3!==e.loggedinUserType?a("el-menu-item",{attrs:{index:"/threeProductsCertification"}},[a("router-link",{attrs:{slot:"title",to:"/threeProductsCertification"},slot:"title"},[e._v("三品一标管理")])],1):e._e(),a("el-menu-item",{attrs:{index:"/sampleCheck"}},[a("router-link",{attrs:{slot:"title",to:"/sampleCheck"},slot:"title"},[e._v("例行抽样管理")])],1),3===e.loggedinUserType||0===e.loggedinUserType?a("el-menu-item",{attrs:{index:"/inputManagement"}},[a("router-link",{attrs:{slot:"title",to:"/inputManagement"},slot:"title"},[e._v("投入品管理")])],1):e._e(),a("el-menu-item",{attrs:{index:"/"}},[a("router-link",{attrs:{slot:"title",to:"/corporateCreditFile"},slot:"title"},[e._v("企业信用档案")])],1),a("el-menu-item",{attrs:{index:"/creditRating"}},[a("router-link",{attrs:{slot:"title",to:"/creditRating"},slot:"title"},[e._v("信用评级")])],1),a("el-menu-item",{attrs:{index:"/redBlackList"}},[a("router-link",{attrs:{slot:"title",to:"/redBlackList"},slot:"title"},[e._v("红黑名单")])],1),3===e.loggedinUserType||0===e.loggedinUserType?a("el-menu-item",{attrs:{index:"/productionStandard"}},[a("router-link",{attrs:{slot:"title",to:"/productionStandard"},slot:"title"},[e._v("生产标准")])],1):e._e()],1)],1)],1)},te=[],ae={data:function(){return{menu:[{menuName:"微信扫码",routerUrl:"productionSubject"}],openeds:[1],activeMenu:"",loggedinUserType:null}},created:function(){this.loggedinUserType=O().user().attrs.userType},methods:{handleSelect:function(e){sessionStorage.setItem("activeMenu",e)}}},oe=ae,re=(a("af98"),Object(s["a"])(oe,ee,te,!1,null,null,null)),le=re.exports,ie={data:function(){return{}},components:{top:K,navBar:le}},ne=ie,se=(a("2d70"),Object(s["a"])(ne,M,W,!1,null,"41ea1116",null)),ce=se.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("三品一标管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/threeProductsCertification/create")}}},[e._v("添加")]),a("div",{staticClass:"select_label"},[e._v("企业名称")]),a("el-select",{on:{change:function(t){return e.getList()}},model:{value:e.creditCode,callback:function(t){e.creditCode=t},expression:"creditCode"}},e._l(e.companyProduction,(function(e){return a("el-option",{key:e.creditCode,attrs:{label:e.companyName,value:e.creditCode}})})),1),a("div",{staticClass:"select_label"},[e._v("产品分类")]),a("el-select",{on:{change:function(t){return e.getList()}},model:{value:e.productCategory,callback:function(t){e.productCategory=t},expression:"productCategory"}},e._l(e.appStatus1,(function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),1),a("div",{staticClass:"select_label"},[e._v("认证类型")]),a("el-select",{on:{change:function(t){return e.getList()}},model:{value:e.authType,callback:function(t){e.authType=t},expression:"authType"}},e._l(e.appStatus2,(function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 你确定你要删除?")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:e.handleDelete}},[e._v("确认")])],1)]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"企业名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.filterCompnay(a.creditCode))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"productname",label:"产品名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.filterProduct(a.productId))+"\n          ")]}}])}),a("el-table-column",{attrs:{label:"产品分类"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.appStatus1[a.argriculturalClassification])+"\n          ")]}}])}),a("el-table-column",{attrs:{label:"认证类型",prop:"certificationType"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.appStatus2[parseInt(a.certificationType)]))]}}])}),a("el-table-column",{attrs:{prop:"certificationNo",label:"证书编号"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.$router.push({path:"/threeProductsCertification/"+o.id,query:{company:e.filterCompnay(o.creditCode),product:e.filterProduct(o.productId)}})}}},[e._v("查看")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.confirmDelete(""+o.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},de=[],pe=(a("7514"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)}),me=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,o){return e/=o/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var fe=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function ge(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function he(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function be(e,t,a){var o=he(),r=e-o,l=20,i=0;t="undefined"===typeof t?500:t;var n=function e(){i+=l;var n=Math.easeInOutQuad(i,o,r,t);ge(n),i<t?fe(e):a&&"function"===typeof a&&a()};n()}var ve={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("update:limit",e),this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&be(0,800)},handleCurrentChange:function(e){this.$emit("update:page",e),this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&be(0,800)}}},ye=ve,_e=(a("8367"),Object(s["a"])(ye,pe,me,!1,null,null,null)),we=_e.exports,ke={name:"threeProductCertificate",components:{Pagination:we},data:function(){return{creditCode:"",productCategory:0,authType:0,dialogVisible:!1,selectedId:null,page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],companyProduction:[],productDetail:[],appStatus1:["全部","养殖业","已同意","畜牧业","种植业"],appStatus2:["全部","无公害产品","绿色食品","有机食品","地理标志"]}},created:function(){this.getCompanyProduction(),this.getProductionDetail(),this.getList()},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/quality_standard/all",{creditCode:this.creditCode,argriculturalClassification:this.productCategory,certificationType:this.authType,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,townId:this.currTown}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=t})).catch((function(e){console.log(e)}))},getProductionDetail:function(){var e=this;D().get("/api/product_production/name").then((function(t){e.productDetail=t})).catch((function(e){console.log(e)}))},handleDelete:function(){var e=this;D().delete("/api/quality_standard/delete/"+this.selectedId).then((function(t){e.dialogVisible=!1,e.getList()})).catch((function(e){console.log(e)}))},filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.creditCode===e}));return t?t.companyName:""},filterProduct:function(e){var t=this.productDetail.find((function(t){return t.productId===e}));return t?t.productName:""},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},confirmDelete:function(e){this.dialogVisible=!0,this.selectedId=e}}},xe=ke,Ce=Object(s["a"])(xe,ue,de,!1,null,"521fd8c8",null),Se=Ce.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("三品认证")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加认证")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业名称",prop:"creditCode"}},[a("el-select",{attrs:{disabled:!(e.companyNameList.length>0)},on:{change:function(t){return e.getProductionDetail()}},model:{value:e.ruleFormValue.creditCode,callback:function(t){e.$set(e.ruleFormValue,"creditCode",t)},expression:"ruleFormValue.creditCode"}},e._l(e.companyNameList,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.creditCode}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品名称",prop:"productId"}},[a("el-select",{attrs:{disabled:!(e.productNameList.length>0)},model:{value:e.ruleFormValue.productId,callback:function(t){e.$set(e.ruleFormValue,"productId",t)},expression:"ruleFormValue.productId"}},e._l(e.productNameList,(function(e){return a("el-option",{key:e.productId,attrs:{label:e.productName,value:e.productId}})})),1)],1)],1)],1),a("el-form-item",{attrs:{label:"认证类型",prop:"certificationType"}},[a("el-radio-group",{model:{value:e.ruleFormValue.certificationType,callback:function(t){e.$set(e.ruleFormValue,"certificationType",t)},expression:"ruleFormValue.certificationType"}},[a("el-radio",{attrs:{label:"1"}},[e._v("无公害产品")]),a("el-radio",{attrs:{label:"2"}},[e._v("绿色食品")]),a("el-radio",{attrs:{label:"3"}},[e._v("有机食品")]),a("el-radio",{attrs:{label:"4"}},[e._v("地理标志")])],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"认证类别",prop:"certificationCategory"}},[a("el-input",{model:{value:e.ruleFormValue.certificationCategory,callback:function(t){e.$set(e.ruleFormValue,"certificationCategory",t)},expression:"ruleFormValue.certificationCategory"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"农业分类",prop:"argriculturalClassification"}},[a("el-select",{model:{value:e.ruleFormValue.argriculturalClassification,callback:function(t){e.$set(e.ruleFormValue,"argriculturalClassification",t)},expression:"ruleFormValue.argriculturalClassification"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"认证有效期",required:""}},[a("el-col",{staticClass:"text-left",attrs:{span:4}},[a("el-form-item",{attrs:{prop:"certificationStartTime"}},[a("el-date-picker",{staticClass:"w-80",staticStyle:{width:"100%"},attrs:{"value-format":"dd.MM.yyyy"},model:{value:e.ruleFormValue.certificationStartTime,callback:function(t){e.$set(e.ruleFormValue,"certificationStartTime",t)},expression:"ruleFormValue.certificationStartTime"}})],1)],1),a("el-col",{staticClass:"text-left",attrs:{span:1}},[e._v("至")]),a("el-col",{staticClass:"text-left",attrs:{span:4}},[a("el-form-item",{attrs:{prop:"certificationEndTime"}},[a("el-date-picker",{staticClass:"w-100",staticStyle:{width:"100%"},attrs:{"value-format":"dd.MM.yyyy"},model:{value:e.ruleFormValue.certificationEndTime,callback:function(t){e.$set(e.ruleFormValue,"certificationEndTime",t)},expression:"ruleFormValue.certificationEndTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产量",prop:"output"}},[a("el-input",{model:{value:e.ruleFormValue.output,callback:function(t){e.$set(e.ruleFormValue,"output",t)},expression:"ruleFormValue.output"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("el-form-item",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),e.file?a("span",{staticClass:"margin-left-10"},[e._v("("+e._s(e.file.name)+")")]):a("span",{staticClass:"margin-left-10"},[e._v("请选择需要上传的文件...")])],1)],1)])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Fe=[],Te={name:"addThreeProducts",data:function(){return{listLoading:!1,ruleFormValue:{creditCode:"",productId:"",certificationType:"",certificationCategory:"",argriculturalClassification:"",certificationStartTime:"",certificationEndTime:"",output:""},rules:{creditCode:[{required:!0,message:"请选择",trigger:"change"}],productId:[{required:!0,message:"请选择",trigger:"change"}],certificationType:[{required:!0,message:"请选择",trigger:"change"}],certificationCategory:[{required:!0,message:"请插入",trigger:"change"}],argriculturalClassification:[{required:!0,message:"请选择",trigger:"change"}],certificationStartTime:[{required:!0,message:"请选择",trigger:"change"}],certificationEndTime:[{required:!0,message:"请选择",trigger:"change"}],output:[{required:!0,message:"请插入",trigger:"change"}]},file:null,companyNameList:[],productNameList:[],options:[{value:"1",label:"养殖业"},{value:"2",label:"畜牧业"},{value:"3",label:"种植业"}]}},created:function(){this.getCompanyProduction()},methods:{getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyNameList=t})).catch((function(e){console.log(e)}))},getProductionDetail:function(){var e=this,t=this.filterCompany(this.ruleFormValue.creditCode);this.listLoading=!0,D().get("/api/product_production/all",{company_id:t}).then((function(t){setTimeout((function(){e.listLoading=!1}),500),e.productNameList=t.data})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a=new FormData;a.append("creditCode",t.ruleFormValue.creditCode),a.append("productId",t.ruleFormValue.productId),a.append("certificationType",t.ruleFormValue.certificationType),a.append("certificationCategory",t.ruleFormValue.certificationCategory),a.append("argriculturalClassification",t.ruleFormValue.argriculturalClassification),a.append("certificationStartTime",t.ruleFormValue.certificationStartTime),a.append("certificationEndTime",t.ruleFormValue.certificationEndTime),a.append("createDate",t.ruleFormValue.certificationStartTime),a.append("updateDate",t.ruleFormValue.certificationStartTime),a.append("updater","string"),a.append("creater","string"),a.append("id",0),t.file&&a.append("file",t.file),D().post("/api/quality_standard/create",a).then((function(e){t.$router.push({path:"/threeProductsCertification"})})).catch((function(e){}))}))},filterCompany:function(e){var t=this.companyNameList.find((function(t){return t.creditCode===e}));return t?t.companyId:""},goBack:function(){this.$router.go(-1)},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}},$e=Te,Ve=Object(s["a"])($e,Ie,Fe,!1,null,"8aeef6fc",null),Le=Ve.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("三品认证")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("认证详情")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{attrs:{"label-width":"100px"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"企业名称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.companyName,callback:function(t){e.companyName=t},expression:"companyName"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.productName,callback:function(t){e.productName=t},expression:"productName"}})],1)],1)],1),a("el-form-item",{attrs:{label:"认证类别"}},[a("el-radio-group",{attrs:{disabled:""},model:{value:e.data.argriculturalClassification,callback:function(t){e.$set(e.data,"argriculturalClassification",t)},expression:"data.argriculturalClassification"}},[a("el-radio",{attrs:{label:"1"}},[e._v("无公害产品")]),a("el-radio",{attrs:{label:"2"}},[e._v("绿色食品")]),a("el-radio",{attrs:{label:"3"}},[e._v("有机食品")]),a("el-radio",{attrs:{label:"4"}},[e._v("地理标志")])],1)],1),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"认证类别"}},[a("el-input",{attrs:{disabled:""},model:{value:e.data.certificationCategory,callback:function(t){e.$set(e.data,"certificationCategory",t)},expression:"data.certificationCategory"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"农业分类"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.data.certificationType,callback:function(t){e.$set(e.data,"certificationType",t)},expression:"data.certificationType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"证书编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.data.certificationNo,callback:function(t){e.$set(e.data,"certificationNo",t)},expression:"data.certificationNo"}})],1)],1)],1),a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"认证有效期"}},[a("el-col",{attrs:{span:7}},[a("el-date-picker",{staticStyle:{width:"100% !important"},attrs:{type:"date",placeholder:"",disabled:""},model:{value:e.data.certificationStartTime,callback:function(t){e.$set(e.data,"certificationStartTime",t)},expression:"data.certificationStartTime"}})],1),a("el-col",{staticClass:"line",attrs:{span:1}},[e._v("至")]),a("el-col",{attrs:{span:7}},[a("el-date-picker",{staticStyle:{width:"100% !important"},attrs:{type:"date",placeholder:"",disabled:""},model:{value:e.data.certificationEndTime,callback:function(t){e.$set(e.data,"certificationEndTime",t)},expression:"data.certificationEndTime"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产量"}},[a("el-input",{attrs:{disabled:""},model:{value:e.data.output,callback:function(t){e.$set(e.data,"output",t)},expression:"data.output"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[a("input",{ref:"files",staticStyle:{display:"none"},attrs:{type:"file",id:"files"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.downloadFile()}}},[e._v("下载附件")]),e.files?e._e():a("span",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n                      "+e._s(e.fileName)+"\n                    ")])],1),e.files?a("span",{staticClass:"item-value"},[e._v("("+e._s(e.fileName)+")")]):e._e()],1)])])])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)])},De=[],Pe=(a("a481"),a("7f7f"),{name:"detailsThreeProducts",data:function(){return{id:-1,pageName:this.$route.name,data:[],files:null,fileName:"",companyName:"",productName:"",dataloading:!1,argriculturalClassification:0,options:[{value:"2",label:"养殖业"},{value:"1",label:"畜牧业"},{value:"3",label:"种植业"}]}},created:function(){this.companyName=this.$route.query.company,this.productName=this.$route.query.product,this.id=this.$route.params.id,this.getData(this.$route.params.id)},methods:{getData:function(e){var t=this;this.dataloading=!0,D().get("/api/quality_standard/get/"+e).then((function(e){t.data=e,t.data.argriculturalClassification=parseInt(e.argriculturalClassification),t.files=e.files,e.files||(t.fileName=""),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){console.log(e)}))},goBack:function(){this.$router.go(-1)},chooseFile:function(){this.$refs.files.click()},handleFileUpload:function(){this.files=this.$refs.files.files[0]},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.files,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.files.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}}),je=Pe,Ue=Object(s["a"])(je,Ne,De,!1,null,"f64b6bc2",null),ze=Ue.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("监管记录")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[e.companyId||2!==e.loggedinUserType&&0!==e.loggedinUserType?e.companyId?a("div",{staticClass:"fixed-value margin-right-20"},[e.filterCompanyName(e.companyId)?a("p",[e._v(e._s(e.filterCompanyName(e.companyId)))]):a("p",[e._v("没有数据")])]):e._e():a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/regulatoryRecord/create")}}},[e._v("添加监管记录")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/commonWords")}}},[e._v("常用语管理")]),a("el-button",{attrs:{type:"primary",plain:""}},[e._v("扫码下载客户端")]),a("el-button",{attrs:{type:"primary",plain:""}},[e._v("说明书下载")]),e.companyId?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")]):e._e(),a("div",{staticClass:"special-container",staticStyle:{"margin-left":"auto"}},[0!=e.isShowCheckbox?a("el-button",{attrs:{type:"success",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.actionConfirm(1)}}},[e._v("添加到专项")]):e._e(),0!=e.isShowCheckbox?a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.actionConfirm(0)}}},[e._v("从专项1移除")]):e._e(),a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},on:{change:e.showCheckbox},model:{value:e.isShowCheckbox,callback:function(t){e.isShowCheckbox=t},expression:"isShowCheckbox"}},[e._v("专项1:绿色优质农产品生产基地")])],1)],1),a("el-dialog",{attrs:{visible:e.alert_dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.alert_dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 请选择 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.alert_dialogVisible=!1}}},[e._v("取消")])],1)]),a("el-dialog",{attrs:{visible:e.confirm_dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.confirm_dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 继续？请再次检查")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.confirm_dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:e.btnColor,plain:""},on:{click:function(t){return e.updateSelectedRows()}}},[e._v("确认")])],1)]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[0!=e.isShowCheckbox?a("el-table-column",{attrs:{label:"",width:"35"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-checkbox",{staticStyle:{"margin-left":"auto"},on:{change:function(t){return e.changeCheckStatus(o.id)}}})]}}],null,!1,395283270)}):e._e(),a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"createTime",label:"日期",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e._f("formatDate")(a.createTime))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"township",label:"乡镇",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.filterTownship(a.townId))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"unitinspec",label:"受检单位","class-name":"padding-left-20"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.filterCompanyName(a.companyId))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"inspector",label:"检查人"}}),a("el-table-column",{attrs:{prop:"conclusion",label:"结论",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(1==a.conclusion?"合格":"不合格"))]}}])}),a("el-table-column",{attrs:{prop:"otherProblems",label:"其他",width:"80"}}),a("el-table-column",{attrs:{prop:"scenePhotos",label:"照片",width:"70","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getCountElement(a.scenePhotos,a.sign)))]}}])}),a("el-table-column",{attrs:{prop:"sign",label:"确认",width:"70","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.checkSign(a.sign)))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.$router.push({path:"/regulatoryRecord/"+o.id,query:{company:e.filterCompanyName(o.companyId),township:e.filterTownship(o.townId)}})}}},[e._v("查看")]),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.$router.push("/regulatoryRecord/edit/"+o.id)}}},[e._v("整改记录")])]}}])}),a("el-table-column",{attrs:{prop:"yield",label:"专利1",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[o.specialFlag?a("i",{staticClass:"el-icon-check"}):e._e()]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getData}})],1)],1)])},Re=[],Oe={name:"regulatoryRecord",components:{Pagination:we},data:function(){return{loggedinUserType:null,page:{pageIndex:1,pageSize:20},total:0,tableData:[],listLoading:!1,companyList:[],companyId:0,township:[],isShowCheckbox:0,selectedRows:[],alert_dialogVisible:!1,confirm_dialogVisible:!1,btnColor:"",action:""}},created:function(){this.companyId=this.$route.query.companyId,this.getData(),this.getTown(),this.getCompanyProduct(),this.loggedinUserType=O().user().attrs.userType},methods:{getData:function(){var e=this;this.listLoading=!0,D().get("/api/supervision_record/all",{companyId:this.companyId,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyList=e.companyList.concat(t)})).catch((function(e){console.log(e)}))},filterTownship:function(e){var t=this.township.find((function(t){return t.id===e}));return t?t.name:""},filterCompanyName:function(e){var t=this.companyList.find((function(t){return t.companyId===e}));return t?t.companyName:""},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},getCountElement:function(e,t){return e||t?e.split(",").length+t.split(",").length:0},checkSign:function(e){return e?"签名":""},changeCheckStatus:function(e){var t=this.selectedRows.indexOf(e);t>-1&&this.selectedRows.splice(t,1),event.target.checked&&this.selectedRows.push(e)},actionConfirm:function(e){this.action=e,this.selectedRows.length?(this.confirm_dialogVisible=!0,this.btnColor=e>0?"success":"danger"):this.alert_dialogVisible=!0},updateSelectedRows:function(){var e=this;for(var t in this.selectedRows)this.confirm_dialogVisible=!1,this.listLoading=!0,D().put("/api/supervision_record/update_special_flag/"+this.selectedRows[t]+"?specialFlag="+this.action).then((function(t){setTimeout((function(){e.listLoading=!1}),500),e.selectedRows=[],e.isShowCheckbox=0,e.getData()})).catch((function(e){console.log(e)}))},showCheckbox:function(){event.target.checked||(this.selectedRows=[])}}},qe=Oe,Ee=(a("5822"),Object(s["a"])(qe,Ae,Re,!1,null,null,null)),Be=Ee.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管记录")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加监管记录")])],1)],1),a("div",{staticClass:"box"},[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 请选择图片 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")])],1)]),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"companyType"}},[a("el-radio-group",{model:{value:e.ruleFormValue.companyType,callback:function(t){e.$set(e.ruleFormValue,"companyType",t)},expression:"ruleFormValue.companyType"}},[a("el-radio",{attrs:{label:"1"}},[e._v("企业")]),a("el-radio",{attrs:{label:"2"}},[e._v("农户")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"乡镇",prop:"townShip"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.townShip,callback:function(t){e.$set(e.ruleFormValue,"townShip",t)},expression:"ruleFormValue.townShip"}},e._l(e.township,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业",prop:"companyID"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.companyID,callback:function(t){e.$set(e.ruleFormValue,"companyID",t)},expression:"ruleFormValue.companyID"}},e._l(e.companyList,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1),a("el-button",{staticClass:"min-plus",attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"选择日期",prop:"date"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期"},model:{value:e.ruleFormValue.date,callback:function(t){e.$set(e.ruleFormValue,"date",t)},expression:"ruleFormValue.date"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检查人",prop:"checker"}},[a("el-input",{staticStyle:{width:"60%"},model:{value:e.ruleFormValue.checker,callback:function(t){e.$set(e.ruleFormValue,"checker",t)},expression:"ruleFormValue.checker"}})],1)],1)],1),a("div",{staticClass:"bg-blue"},[e._v("检查内容与结果")]),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("生产记录(种养殖档案)")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.ruleFormValue.productionRecord,callback:function(t){e.$set(e.ruleFormValue,"productionRecord",t)},expression:"ruleFormValue.productionRecord"}},[a("el-radio",{attrs:{label:"1"}},[e._v("有")]),a("el-radio",{attrs:{label:"2"}},[e._v("真实完整")])],1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("农产品产地准出证明(销售记录)")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.ruleFormValue.proofOfProduct,callback:function(t){e.$set(e.ruleFormValue,"proofOfProduct",t)},expression:"ruleFormValue.proofOfProduct"}},[a("el-radio",{attrs:{label:"1"}},[e._v("有")]),a("el-radio",{attrs:{label:"2"}},[e._v("真实完整")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("农产品产投入品记录（进、销、使用）")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.ruleFormValue.productInputRecord,callback:function(t){e.$set(e.ruleFormValue,"productInputRecord",t)},expression:"ruleFormValue.productInputRecord"}},[a("el-radio",{attrs:{label:"1"}},[e._v("有")]),a("el-radio",{attrs:{label:"2"}},[e._v("真实完整")])],1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("检验记录")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.ruleFormValue.testRecord,callback:function(t){e.$set(e.ruleFormValue,"testRecord",t)},expression:"ruleFormValue.testRecord"}},[a("el-radio",{attrs:{label:"1"}},[e._v("有")]),a("el-radio",{attrs:{label:"2"}},[e._v("真实完整")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("禁用投入品及滥用添加剂行为")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.ruleFormValue.isDisableInput,callback:function(t){e.$set(e.ruleFormValue,"isDisableInput",t)},expression:"ruleFormValue.isDisableInput"}},[e._v("有")])],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("“三品一标使用”")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.ruleFormValue.isThreeProduct,callback:function(t){e.$set(e.ruleFormValue,"isThreeProduct",t)},expression:"ruleFormValue.isThreeProduct"}},[e._v("合规")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{staticClass:"left-margin",attrs:{label:"常用语",prop:"commonLang"}},[a("el-select",{attrs:{multiple:"",placeholder:"请插入"},model:{value:e.wordValue,callback:function(t){e.wordValue=t},expression:"wordValue"}},e._l(e.wordsList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.word,value:e.word}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("div",{staticClass:"left-margin"},[e._v("现场发现的其他问题")])])],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"otherProblems"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.ruleFormValue.otherProblems,callback:function(t){e.$set(e.ruleFormValue,"otherProblems",t)},expression:"ruleFormValue.otherProblems"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"left-margin"},[a("table",[a("tbody",[a("tr",[a("td",{attrs:{rowspan:"2"}},[e._v("结论")]),a("td",[e._v("合格")]),a("td",[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.ruleFormValue.conclusion,callback:function(t){e.$set(e.ruleFormValue,"conclusion",t)},expression:"ruleFormValue.conclusion"}})],1)]),a("tr",[a("td",[e._v("不合格")]),a("td",[a("table",{staticClass:"no-border"},[a("tbody",[a("tr",[a("td",[e._v("责令修改")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.ruleFormValue.conclusion},model:{value:e.ruleFormValue.orderToAmend,callback:function(t){e.$set(e.ruleFormValue,"orderToAmend",t)},expression:"ruleFormValue.orderToAmend"}})],1)]),a("tr",[a("td",[e._v("建议处罚")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.ruleFormValue.conclusion},model:{value:e.ruleFormValue.recommendPunishment,callback:function(t){e.$set(e.ruleFormValue,"recommendPunishment",t)},expression:"ruleFormValue.recommendPunishment"}})],1)]),a("tr",[a("td",[e._v("其他处理")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.ruleFormValue.conclusion},model:{value:e.ruleFormValue.otherProcessing,callback:function(t){e.$set(e.ruleFormValue,"otherProcessing",t)},expression:"ruleFormValue.otherProcessing"}})],1)])])])])])])])])]),a("el-col",{attrs:{span:11}},[a("table",{staticClass:"image-upload-table"},[a("tbody",[a("tr",[a("td",[e._v("现场图片")]),a("td",[a("div",{staticClass:"img-container",on:{click:function(t){return e.chooseFile_Live()}}},e._l(e.images,(function(e){return a("img",{key:e,staticClass:"preview",attrs:{src:e}})})),0),a("p",[e._v(e._s(e.fileName))]),a("div",{staticClass:"image-box"},[a("input",{ref:"file_live_1",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/*",name:"images"},on:{change:function(t){return e.handleFileUpload_Live()}}})])])]),a("tr",[a("td",[e._v("签名")]),a("td",[a("div",{staticClass:"img-container",on:{click:function(t){return e.chooseFile_Sign()}}},e._l(e.signs,(function(e){return a("img",{key:e,staticClass:"preview",attrs:{src:e}})})),0),a("p",[e._v(e._s(e.signName))]),a("div",{staticClass:"image-box"},[a("input",{ref:"file_sign",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file1",accept:"image/*",name:"signs"},on:{change:function(t){return e.handleFileUpload_Sign()}}})])])])])])])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},Me=[],We={data:function(){return{images:[],fileName:"",signs:[],signName:"",listLoading:!1,ruleFormValue:{companyType:"1",townShip:"",companyID:"",date:"",checker:"",productionRecord:"1",productInputRecord:"1",proofOfProduct:"1",testRecord:"1",isDisableInput:"1",isThreeProduct:"1",commonLang:"",otherProblems:"",conclusion:"1",orderToAmend:"",recommendPunishment:"",otherProcessing:""},township:[],companyList:[],imageUrl_Live:"",imageUrl_Sign:"",file_live_1:null,file_sign:null,wordsList:[],wordValue:0,dialogVisible:!1,rules:{townShip:[{required:!0,message:"请选择",trigger:"change"}],companyID:[{required:!0,message:"请选择",trigger:"change"}],date:[{required:!0,message:"请选择",trigger:"change"}],checker:[{required:!0,message:"请插入",trigger:"change"}],otherProblems:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.getTown(),this.getCompanyProduct(),this.getWords()},methods:{getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyList=e.companyList.concat(t)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.listLoading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/supervision_record/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/regulatoryRecord"})})).catch((function(e){}))}}))},makeFormData:function(){var e=new FormData,t=1==this.ruleFormValue.conclusion?{order:" ",suggestion:" ",others:" "}:{order:this.ruleFormValue.orderToAmend?this.ruleFormValue.orderToAmend:" ",suggestion:this.ruleFormValue.recommendPunishment?this.ruleFormValue.recommendPunishment:" ",others:this.ruleFormValue.otherProcessing?this.ruleFormValue.otherProcessing:" "};t=JSON.stringify(t);var a={production:this.ruleFormValue.productionRecord,input:this.ruleFormValue.isDisableInput,abuse:this.ruleFormValue.proofOfProduct,origin:this.ruleFormValue.testRecord,inspection:this.ruleFormValue.productInputRecord,standard:this.ruleFormValue.isThreeProduct};return a=JSON.stringify(a),e.append("companyId",this.ruleFormValue.companyID),e.append("conclusion",this.ruleFormValue.conclusion),e.append("conclusionFalseInfo",t),e.append("createTime",this.ruleFormValue.date),e.append("inspector",this.ruleFormValue.checker),e.append("otherProblems",this.ruleFormValue.otherProblems),e.append("productionSubjectType",this.ruleFormValue.companyType),e.append("supervisionInfo",a),e.append("townId",this.ruleFormValue.townShip),e.append("createUserId",""),e.append("id",0),e.append("scenePhotos",""),e.append("sign",""),e.append("supervisionRecordTime",this.ruleFormValue.date),e.append("updateTime",this.ruleFormValue.date),e.append("updateUserId",""),e.append("usefulExpressions",this.selectWords(this.wordValue)),e.append("scenePhotoFile",this.file_live_1),e.append("signFile",this.file_sign),e},chooseFile_Live:function(){document.getElementById("file").click()},chooseFile_Sign:function(){document.getElementById("file1").click()},handleFileUpload_Live:function(e){this.file_live_1=this.$refs.file_live_1.files[0],this.images=[];var t=new FileReader,a=this;t.onload=function(e){a.images.push(e.target.result)},this.file_live_1?(t.readAsDataURL(this.file_live_1),this.fileName=this.file_live_1.name):this.fileName=""},handleFileUpload_Sign:function(){this.file_sign=this.$refs.file_sign.files[0],this.signs=[];var e=new FileReader,t=this;e.onload=function(e){t.signs.push(e.target.result)},this.file_sign?(e.readAsDataURL(this.file_sign),this.signName=this.file_sign.name):this.signName=""},getWords:function(){var e=this;D().get("/api/common_word/all").then((function(t){e.wordsList=e.wordsList.concat(t.data)})).catch((function(e){console.log(e)}))},selectWords:function(e){var t=JSON.stringify(e);return t=t.substr(2,t.length-4),t=t.replace('","',","),t}}},Ye=We,Je=(a("c8ed"),Object(s["a"])(Ye,Ge,Me,!1,null,null,null)),Qe=Je.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管记录")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("整改记录")])],1)],1),a("div",{staticClass:"box"},[a("el-row",[e.listLoading?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}]},[e._v("装货...")]):e._e()]),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 请选择图片 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)]),e.listLoading||e.isNanData?e._e():a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}]},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"乡镇"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.data.townId,callback:function(t){e.$set(e.data,"townId",t)},expression:"data.townId"}},e._l(e.township,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"企业"}},[a("el-select",{model:{value:e.data.companyId,callback:function(t){e.$set(e.data,"companyId",t)},expression:"data.companyId"}},e._l(e.companyList,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"选择日期"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期"},model:{value:e.data.rectificationRecordTime,callback:function(t){e.$set(e.data,"rectificationRecordTime",t)},expression:"data.rectificationRecordTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检查人"}},[a("el-input",{staticStyle:{width:"60%"},model:{value:e.data.inspector,callback:function(t){e.$set(e.data,"inspector",t)},expression:"data.inspector"}})],1)],1)],1),a("div",{staticClass:"bg-blue"},[e._v("检查内容与结果")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"left-margin"},[a("table",[a("tbody",[a("tr",[a("td",{attrs:{rowspan:"2"}},[e._v("结论")]),a("td",[e._v("合格")]),a("td",[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.data.conclusion,callback:function(t){e.$set(e.data,"conclusion",t)},expression:"data.conclusion"}})],1)]),a("tr",[a("td",[e._v("不合格")]),a("td",[a("table",{staticClass:"no-border"},[a("tbody",[a("tr",[a("td",[e._v("责令修改")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.data.conclusion},model:{value:e.conclusionData.order,callback:function(t){e.$set(e.conclusionData,"order",t)},expression:"conclusionData.order"}})],1)]),a("tr",[a("td",[e._v("建议处罚")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.data.conclusion},model:{value:e.conclusionData.suggestion,callback:function(t){e.$set(e.conclusionData,"suggestion",t)},expression:"conclusionData.suggestion"}})],1)]),a("tr",[a("td",[e._v("其他处理")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.data.conclusion},model:{value:e.conclusionData.others,callback:function(t){e.$set(e.conclusionData,"others",t)},expression:"conclusionData.others"}})],1)])])])])])])])])]),a("el-col",{attrs:{span:11}},[a("table",{staticClass:"image-upload-table"},[a("tbody",[a("tr",[a("td",[e._v("现场图片")]),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"img-container",on:{click:function(t){return e.chooseFile_Live()}}},[e.images?a("img",{staticClass:"preview",attrs:{src:e.images}}):e._e(),!e.images&&e.data.scenePhotos?a("img",{staticClass:"preview",attrs:{src:e.downloadURL+e.data.scenePhotos}}):e._e()]),!e.file_live_1&&e.data.scenePhotos?a("el-link",{staticStyle:{display:"table"},on:{click:function(t){return e.downloadFile(e.data.scenePhotos)}}},[e._v("\n                    "+e._s(e.data.scenePhotos.replace("/uploads/",""))+"\n                  ")]):e._e(),e.file_live_1?a("p",[e._v(e._s(e.fileName))]):e._e(),a("div",{staticClass:"image-box"},[a("input",{ref:"file_live_1",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/*",name:"images"},on:{change:function(t){return e.handleFileUpload_Live()}}})])],1)]),a("tr",[a("td",[e._v("签名")]),a("td",[a("div",{staticClass:"img-container",on:{click:function(t){return e.chooseFile_Sign()}}},[e.signs?a("img",{staticClass:"preview",attrs:{src:e.signs}}):e._e(),!e.signs&&e.data.supervisionSign?a("img",{staticClass:"preview",attrs:{src:e.downloadURL+e.data.supervisionSign}}):e._e()]),!e.file_live_2&&e.data.supervisionSign?a("el-link",{staticStyle:{display:"table"},on:{click:function(t){return e.downloadFile(e.data.supervisionSign)}}},[e._v("\n                    "+e._s(e.data.supervisionSign.replace("/uploads/",""))+"\n                  ")]):e._e(),e.file_live_2?a("p",[e._v(e._s(e.signName))]):e._e(),a("div",{staticClass:"image-box"},[a("input",{ref:"file_live_2",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file1",accept:"image/*",name:"signs"},on:{change:function(t){return e.handleFileUpload_Sign()}}})])],1),a("td",[e._v("确认人签名")]),a("td",[a("div",{staticClass:"img-container",on:{click:function(t){return e.chooseFile_CofirmSign()}}},[e.confirmSigns?a("img",{staticClass:"preview",attrs:{src:e.confirmSigns}}):e._e(),!e.confirmSigns&&e.data.confirmorSign?a("img",{staticClass:"preview",attrs:{src:e.downloadURL+e.data.confirmorSign}}):e._e()]),!e.file_live_3&&e.data.confirmorSign?a("el-link",{staticStyle:{display:"table"},on:{click:function(t){return e.downloadFile(e.data.confirmorSign)}}},[e._v("\n                    "+e._s(e.data.confirmorSign.replace("/uploads/",""))+"\n                  ")]):e._e(),e.file_live_3?a("p",[e._v(e._s(e.confirmSignName))]):e._e(),a("div",{staticClass:"image-box"},[a("input",{ref:"file_live_3",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file2",accept:"image/*",name:"confirmSigns"},on:{change:function(t){return e.handleFileUpload_ConfirmSign()}}})])],1)])])])])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:e.onSubmit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1),!e.listLoading&&e.isNanData?a("el-form",{ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"乡镇",prop:"townId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.townId,callback:function(t){e.$set(e.ruleFormValue,"townId",t)},expression:"ruleFormValue.townId"}},e._l(e.township,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"企业",prop:"companyId"}},[a("el-select",{model:{value:e.ruleFormValue.companyId,callback:function(t){e.$set(e.ruleFormValue,"companyId",t)},expression:"ruleFormValue.companyId"}},e._l(e.companyList,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"选择日期",prop:"createTime"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期"},model:{value:e.ruleFormValue.createTime,callback:function(t){e.$set(e.ruleFormValue,"createTime",t)},expression:"ruleFormValue.createTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检查人",prop:"inspector"}},[a("el-input",{staticStyle:{width:"60%"},model:{value:e.ruleFormValue.inspector,callback:function(t){e.$set(e.ruleFormValue,"inspector",t)},expression:"ruleFormValue.inspector"}})],1)],1)],1),a("div",{staticClass:"bg-blue"},[e._v("检查内容与结果")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"left-margin"},[a("table",[a("tbody",[a("tr",[a("td",{attrs:{rowspan:"2"}},[e._v("结论")]),a("td",[e._v("合格")]),a("td",[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.ruleFormValue.conclusion,callback:function(t){e.$set(e.ruleFormValue,"conclusion",t)},expression:"ruleFormValue.conclusion"}})],1)]),a("tr",[a("td",[e._v("不合格")]),a("td",[a("table",{staticClass:"no-border"},[a("tbody",[a("tr",[a("td",[e._v("责令修改")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.ruleFormValue.conclusion},model:{value:e.ruleFormValue.order,callback:function(t){e.$set(e.ruleFormValue,"order",t)},expression:"ruleFormValue.order"}})],1)]),a("tr",[a("td",[e._v("建议处罚")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.ruleFormValue.conclusion},model:{value:e.ruleFormValue.suggestion,callback:function(t){e.$set(e.ruleFormValue,"suggestion",t)},expression:"ruleFormValue.suggestion"}})],1)]),a("tr",[a("td",[e._v("其他处理")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.ruleFormValue.conclusion},model:{value:e.ruleFormValue.others,callback:function(t){e.$set(e.ruleFormValue,"others",t)},expression:"ruleFormValue.others"}})],1)])])])])])])])])]),a("el-col",{attrs:{span:11}},[a("table",{staticClass:"image-upload-table"},[a("tbody",[a("tr",[a("td",[e._v("现场图片")]),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"img-container",on:{click:function(t){return e.chooseFile_Live()}}},[a("img",{staticClass:"preview",attrs:{src:e.images}})]),a("p",[e._v(e._s(e.fileName))]),a("div",{staticClass:"image-box"},[a("input",{ref:"file_live_1",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/*",name:"images"},on:{change:function(t){return e.handleFileUpload_Live()}}})])])]),a("tr",[a("td",[e._v("签名")]),a("td",[a("div",{staticClass:"img-container",on:{click:function(t){return e.chooseFile_Sign()}}},[a("img",{staticClass:"preview",attrs:{src:e.signs}})]),a("p",[e._v(e._s(e.signName))]),a("div",{staticClass:"image-box"},[a("input",{ref:"file_live_2",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file1",accept:"image/*",name:"signs"},on:{change:function(t){return e.handleFileUpload_Sign()}}})])]),a("td",[e._v("确认人签名")]),a("td",[a("div",{staticClass:"img-container",on:{click:function(t){return e.chooseFile_CofirmSign()}}},[a("img",{staticClass:"preview",attrs:{src:e.confirmSigns}})]),a("p",[e._v(e._s(e.confirmSignName))]),a("div",{staticClass:"image-box"},[a("input",{ref:"file_live_3",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file2",accept:"image/*",name:"confirmSigns"},on:{change:function(t){return e.handleFileUpload_ConfirmSign()}}})])])])])])])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1):e._e()],1)])},He=[],Xe=a("c1df"),Ke=a.n(Xe),et={data:function(){return{images:"",fileName:"",signs:"",signName:"",confirmSigns:"",confirmSignName:"",superId:-1,listLoading:!1,data:[],pageLoading:!1,imageUrl_Live:"",imageUrl_Sign:"",imageUrl_ConfirmSign:"",file_live_1:null,file_live_2:null,file_live_3:null,township:[],companyList:[],conclusionData:null,isNanData:null,downloadURL:"",ruleFormValue:{townId:"",companyId:"",createTime:"",inspector:"",conclusion:"0",order:"",suggestion:"",others:""},dialogVisible:!1,rules:{townId:[{required:!0,message:"请选择",trigger:"change"}],companyId:[{required:!0,message:"请选择",trigger:"change"}],createTime:[{required:!0,message:"请选择",trigger:"change"}],inspector:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.superId=this.$route.params.id,this.downloadURL=F.DOWNLOAD_URL(),this.getTown(),this.getCompanyProduct(),this.getData()},methods:{getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyList=e.companyList.concat(t)})).catch((function(e){console.log(e)}))},getData:function(){var e=this;this.listLoading=!0,D().get("/api/rectification_record/all?supervisionRecordId="+this.superId).then((function(t){var a=t.data;e.data=a[0],e.isNanData=!e.data,e.isNanData||(e.conclusionData=JSON.parse(e.data.conclusionFalseInfo)),setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t,a=this,o=new FormData;o.append("scenePhotoFile",this.file_live_1),o.append("signFile",this.file_live_2),o.append("confirmor",this.file_live_3),o.append("supervisionRecordId",this.superId),this.isNanData?(t=1==this.ruleFormValue.conclusion?{order:" ",suggestion:" ",others:" "}:{order:this.ruleFormValue.order?this.ruleFormValue.order:" ",suggestion:this.ruleFormValue.suggestion?this.ruleFormValue.suggestion:" ",others:this.ruleFormValue.others?this.ruleFormValue.others:" "},t=JSON.stringify(t),o.append("id",0),o.append("towId",this.ruleFormValue.townId),o.append("conclusion",this.ruleFormValue.conclusion),o.append("inspector",this.ruleFormValue.inspector),o.append("companyId",this.ruleFormValue.companyId),o.append("updateTime",this.ruleFormValue.createTime),o.append("updateUserId",""),o.append("createTime",this.ruleFormValue.createTime),o.append("rectificationRecordTime",this.ruleFormValue.createTime),o.append("conclusionFalseInfo",t),this.$refs[e].validate((function(e){e&&(a.pageLoading=!0,D().post("/api/rectification_record/create",o).then((function(e){setTimeout((function(){a.pageLoading=!1}),500),a.$router.push({path:"/regulatoryRecord"})})).catch((function(e){console.log(e)})))}))):(t={order:this.conclusionData.order?this.conclusionData.order:" ",suggestion:this.conclusionData.suggestion?this.conclusionData.suggestion:" ",others:this.conclusionData.others?this.conclusionData.others:" "},t=JSON.stringify(t),o.append("townId",this.data.townId),o.append("id",this.data.id),o.append("inspector",this.data.inspector),o.append("companyId",this.data.companyId),this.data.rectificationRecordTime=new Date(this.data.rectificationRecordTime).toDateString("YYYY-MM-DD"),o.append("createTime",this.data.rectificationRecordTime),o.append("rectificationRecordTime",this.data.rectificationRecordTime),o.append("conclusionFalseInfo",t),this.pageLoading=!0,D().put("/api/rectification_record/update/"+this.data.id,o).then((function(e){a.pageLoading=!1,a.$router.push({path:"/regulatoryRecord"})})).catch((function(e){})))},chooseFile_Live:function(){document.getElementById("file").click()},chooseFile_Sign:function(){document.getElementById("file1").click()},chooseFile_CofirmSign:function(){document.getElementById("file2").click()},handleFileUpload_Live:function(){this.file_live_1=this.$refs.file_live_1.files[0],this.images="";var e=new FileReader,t=this;e.onload=function(e){t.images=e.target.result},this.file_live_1?(e.readAsDataURL(this.file_live_1),this.fileName=this.file_live_1.name):this.fileName=""},handleFileUpload_Sign:function(){this.file_live_2=this.$refs.file_live_2.files[0],this.signs="";var e=new FileReader,t=this;e.onload=function(e){t.signs=e.target.result},this.file_live_2?(e.readAsDataURL(this.file_live_2),this.signName=this.file_live_2.name):this.signName=""},handleFileUpload_ConfirmSign:function(){this.file_live_3=this.$refs.file_live_3.files[0],this.confirmSigns="";var e=new FileReader,t=this;e.onload=function(e){t.confirmSigns=e.target.result},this.file_live_3?(e.readAsDataURL(this.file_live_3),this.confirmSignName=this.file_live_3.name):this.confirmSignName=""},downloadFile:function(e){S()({url:F.DOWNLOAD_URL()+e,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},tt=et,at=Object(s["a"])(tt,Ze,He,!1,null,null,null),ot=at.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管记录")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("详情")])],1)],1),a("div",{staticClass:"box"},[e.data?a("el-form",{ref:"form"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-radio-group",{model:{value:e.data.productionSubjectType,callback:function(t){e.$set(e.data,"productionSubjectType",t)},expression:"data.productionSubjectType"}},[a("el-radio",{attrs:{label:"1",disabled:""}},[e._v("企业")]),a("el-radio",{attrs:{label:"2",disabled:""}},[e._v("农户")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"乡镇"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{disabled:""},model:{value:e.townShip,callback:function(t){e.townShip=t},expression:"townShip"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"企业"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{disabled:""},model:{value:e.companyName,callback:function(t){e.companyName=t},expression:"companyName"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"选择日期"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期",disabled:""},model:{value:e.data.createTime,callback:function(t){e.$set(e.data,"createTime",t)},expression:"data.createTime"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"检查人"}},[a("el-input",{staticStyle:{width:"60%"},model:{value:e.data.inspector,callback:function(t){e.$set(e.data,"inspector",t)},expression:"data.inspector"}})],1)],1)],1),a("div",{staticClass:"bg-blue"},[e._v("检查内容与结果")]),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("生产记录(种养殖档案)")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.supervisionInfo.production,callback:function(t){e.$set(e.supervisionInfo,"production",t)},expression:"supervisionInfo.production"}},[a("el-radio",{attrs:{label:"1",disabled:""}},[e._v("有")]),a("el-radio",{attrs:{label:"2",disabled:""}},[e._v("真实完整")])],1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("农产品产地准出证明(销售记录)")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.supervisionInfo.abuse,callback:function(t){e.$set(e.supervisionInfo,"abuse",t)},expression:"supervisionInfo.abuse"}},[a("el-radio",{attrs:{label:"1",disabled:""}},[e._v("有")]),a("el-radio",{attrs:{label:"2",disabled:""}},[e._v("真实完整")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("农产品产投入品记录（进、销、使用）")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.supervisionInfo.inspection,callback:function(t){e.$set(e.supervisionInfo,"inspection",t)},expression:"supervisionInfo.inspection"}},[a("el-radio",{attrs:{label:"1",disabled:""}},[e._v("有")]),a("el-radio",{attrs:{label:"2",disabled:""}},[e._v("真实完整")])],1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("检验记录")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.supervisionInfo.origin,callback:function(t){e.$set(e.supervisionInfo,"origin",t)},expression:"supervisionInfo.origin"}},[a("el-radio",{attrs:{label:"1",disabled:""}},[e._v("有")]),a("el-radio",{attrs:{label:"2",disabled:""}},[e._v("真实完整")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("禁用投入品及滥用添加剂行为")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{attrs:{disabled:"","true-label":"1","false-label":"0"},model:{value:e.supervisionInfo.input,callback:function(t){e.$set(e.supervisionInfo,"input",t)},expression:"supervisionInfo.input"}},[e._v("有")])],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"left-margin"},[e._v("“三品一标使用”")])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{attrs:{disabled:"","true-label":"1","false-label":"0"},model:{value:e.supervisionInfo.standard,callback:function(t){e.$set(e.supervisionInfo,"standard",t)},expression:"supervisionInfo.standard"}},[e._v("合规")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{staticClass:"left-margin",attrs:{label:"常用语"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:""},model:{value:e.data.otherProblems,callback:function(t){e.$set(e.data,"otherProblems",t)},expression:"data.otherProblems"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("div",{staticClass:"left-margin"},[e._v("现场发现的其他问题")])])],1),a("el-col",{attrs:{span:8}},[a("el-form-item",[a("el-input",{attrs:{type:"textarea",rows:5,disabled:""},model:{value:e.data.otherProblems,callback:function(t){e.$set(e.data,"otherProblems",t)},expression:"data.otherProblems"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"left-margin"},[a("table",[a("tbody",[a("tr",[a("td",{attrs:{rowspan:"2"}},[e._v("结论")]),a("td",[e._v("合格")]),a("td",[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0",disabled:""},model:{value:e.data.conclusion,callback:function(t){e.$set(e.data,"conclusion",t)},expression:"data.conclusion"}})],1)]),a("tr",[a("td",[e._v("不合格")]),a("td",[a("table",{staticClass:"no-border"},[a("tbody",[a("tr",[a("td",[e._v("责令修改")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.data.conclusion},model:{value:e.conclusionData.order,callback:function(t){e.$set(e.conclusionData,"order",t)},expression:"conclusionData.order"}})],1)]),a("tr",[a("td",[e._v("建议处罚")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.data.conclusion},model:{value:e.conclusionData.suggestion,callback:function(t){e.$set(e.conclusionData,"suggestion",t)},expression:"conclusionData.suggestion"}})],1)]),a("tr",[a("td",[e._v("其他处理")]),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:1==e.data.conclusion},model:{value:e.conclusionData.others,callback:function(t){e.$set(e.conclusionData,"others",t)},expression:"conclusionData.others"}})],1)])])])])])])])])]),a("el-col",{attrs:{span:11}},[a("table",{staticClass:"image-upload-table"},[a("tbody",[a("tr",[a("td",{attrs:{width:"30%"}},[e._v("现场图片")]),a("td",[a("div",{staticClass:"image-container"},[e.data.scenePhotos?a("img",{staticClass:"live_photo",attrs:{src:e.downloadUrl+e.data.scenePhotos}}):e._e()]),e.data.scenePhotos?a("el-link",{staticStyle:{display:"table"},on:{click:function(t){return e.downloadFile_Live()}}},[e._v(e._s(e.data.scenePhotos.replace("/uploads/","")))]):e._e()],1)]),a("tr",[a("td",{attrs:{width:"30%"}},[e._v("签名")]),a("td",[a("div",{staticClass:"image-container"},[e.data.sign?a("img",{staticClass:"sign_photo",attrs:{src:e.downloadUrl+e.data.sign}}):e._e()]),e.data.sign?a("el-link",{staticStyle:{display:"table"},on:{click:function(t){return e.downloadFile_Sign()}}},[e._v(e._s(e.data.sign.replace("/uploads/","")))]):e._e()],1)])])])])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)],1):e._e(),e.data?e._e():[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}]},[e._v("装货...")])]],2)])},lt=[],it={data:function(){return{id:0,townShip:"",companyName:"",imageUrl:"",data:null,conclusionData:null,supervisionInfo:null,listLoading:!0,downloadUrl:""}},created:function(){this.id=this.$route.params.id,this.townShip=this.$route.query.township,this.companyName=this.$route.query.company,this.getData(),this.downloadUrl=F.DOWNLOAD_URL()},methods:{getData:function(){var e=this;this.listLoading=!0,D().get("/api/supervision_record/get/"+this.id,{id:this.id}).then((function(t){e.data=t,e.conclusionData=JSON.parse(e.data.conclusionFalseInfo),e.supervisionInfo=JSON.parse(e.data.supervisionInfo),setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},downloadFile_Live:function(){S.a.get(this.downloadUrl+this.data.scenePhotos,{responseType:"blob"}).then((function(e){var t=e.data,a=new Blob([t],{}),o=document.createElement("a");o.href=window.URL.createObjectURL(a),o.click().catch((function(e){return console.error(e)}))}))},downloadFile_Sign:function(){S.a.get(this.downloadUrl+this.data.sign,{responseType:"blob"}).then((function(e){var t=e.data,a=new Blob([t],{}),o=document.createElement("a");o.href=window.URL.createObjectURL(a),o.click().catch((function(e){return console.error(e)}))}))}}},nt=it,st=(a("5895"),Object(s["a"])(nt,rt,lt,!1,null,null,null)),ct=st.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管记录")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("常用语管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[a("i",{staticClass:"el-icon-back"}),e._v(" 返回\n      ")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:e.handleAdd}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加\n      ")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"100"}}),a("el-table-column",{attrs:{prop:"word",label:"常用语"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.handleEdit(o.index,o)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("查看\n            ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.handleDel(o.index,o)}}},[a("i",{staticClass:"el-icon-close"}),e._v("删除\n            ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"添加",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules}},[a("el-form-item",{attrs:{prop:"word"}},[a("el-input",{model:{value:e.addForm.word,callback:function(t){e.$set(e.addForm,"word",t)},expression:"addForm.word"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:"",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("保存")]),a("el-button",{attrs:{plain:"",type:"warning"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("关闭")])],1)],1),a("el-dialog",{attrs:{title:"修改",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules}},[a("el-form-item",{attrs:{prop:"word"}},[a("el-input",{model:{value:e.editForm.word,callback:function(t){e.$set(e.editForm,"word",t)},expression:"editForm.word"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:"",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("保存")]),a("el-button",{attrs:{type:"warning",plain:""},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("关闭")])],1)],1),a("div",{staticClass:"pageBox"},[a("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},dt=[],pt={name:"commonWords",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},total:0,listLoading:!0,editFormRules:{word:[{required:!0,message:"请输入",trigger:"blur,change"}]},editForm:{id:0,word:""},editFormVisible:!1,editLoading:!1,addFormRules:{word:[{required:!0,message:"请输入",trigger:"blur,change"}]},addForm:{id:0,word:""},addFormVisible:!1,addLoading:!1,tableData:[]}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/common_word/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=Object.assign({},t)},handleDel:function(e,t){var a=this;D().delete("/api/common_word/delete/"+t.id).then((function(e){a.tableData=e,a.total=a.tableData.length,a.getList()})).catch((function(e){console.log(e)}))},handleAdd:function(){this.addFormVisible=!0,this.addForm={id:0,word:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate((function(t){t&&(e.editLoading=!0,D().put("/api/common_word/update/"+e.editForm.id,{id:e.editForm.id,word:e.editForm.word}).then((function(t){e.tableData=t,e.total=e.tableData.length,e.editLoading=!1,e.editFormVisible=!1,e.getList()})).catch((function(e){console.log(e)})))}))},addSubmit:function(){var e=this;this.$refs.addForm.validate((function(t){t&&(e.addLoading=!0,D().post("/api/common_word/create",{id:e.addForm.id,word:e.addForm.word}).then((function(t){e.tableData=t,e.total=e.tableData.length,e.addLoading=!1,e.addFormVisible=!1,e.getList()})).catch((function(e){console.log(e)})))}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},mt=pt,ft=Object(s["a"])(mt,ut,dt,!1,null,"6d7b0387",null),gt=ft.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("经营主体")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"select_label"},[e._v("产品")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",{staticClass:"select_label"},[e._v("企业规模")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"企业名称"}}),a("el-table-column",{attrs:{prop:"classification",label:"企业规模"}}),a("el-table-column",{attrs:{prop:"type",label:"产品类型"}}),a("el-table-column",{attrs:{prop:"bookNo",label:"法定代表人"}}),a("el-table-column",{attrs:{prop:"date",label:"企业地址"}}),a("el-table-column",{attrs:{prop:"limitedPeriod",label:"社会信用统一代码"}}),a("el-table-column",{attrs:{prop:"yield",label:"联系方式"}}),a("el-table-column",{attrs:{prop:"yield",label:"监管对象性质"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"企业详情",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-search",circle:"",plain:"",type:"success"}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"经营产品",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-goods",circle:"",plain:"",type:"primary"},on:{click:e.goBussinessProducts}})],1)],1)],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1)])},bt=[],vt={data:function(){return{page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},goBussinessProducts:function(){this.$router.push({path:"businessProducts"})}}},yt=vt,_t=Object(s["a"])(yt,ht,bt,!1,null,"88f39e2c",null),wt=_t.exports,kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("经营主体")]),a("el-breadcrumb-item",[e._v("经营产品")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{plain:"",type:"primary"}},[e._v("返回")])],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"classification",label:"单价"}}),a("el-table-column",{attrs:{prop:"type",label:"产地"}}),a("el-table-column",{attrs:{prop:"bookNo",label:"品种"}}),a("el-table-column",{attrs:{prop:"date",label:"规格"}})],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1)])},xt=[],Ct={data:function(){return{page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},goAdd:function(){this.$router.push({path:"addThreeProducts"})}}},St=Ct,It=Object(s["a"])(St,kt,xt,!1,null,"72b1e234",null),Ft=It.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("经营主体")]),a("el-breadcrumb-item",[e._v("企业详情")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"introduce_title"},[e._v("公司简介")]),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:5}},[a("el-image",{staticStyle:{width:"100%"},attrs:{src:e.url,fit:e.cover}})],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"company_title"},[e._v("福鼎白茶")]),a("p",[e._v("\n          啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊\n        ")])])],1),a("div",{staticClass:"introduce_title"},[e._v("主营产品")]),a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"company_title"},[e._v("福鼎白茶")]),a("p",[e._v("\n          啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊\n        ")])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"company_title"},[e._v("福鼎白茶")]),a("p",[e._v("\n          啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊\n        ")])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"company_title"},[e._v("福鼎白茶")]),a("p",[e._v("\n          啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊\n        ")])])],1),a("div",{staticClass:"introduce_title"},[e._v("联系我们")]),a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"company_title"},[e._v("联系人")]),a("p",[e._v("啊啊啊啊")])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"company_title"},[e._v("电话")]),a("p",[e._v("15951580999")])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"company_title"},[e._v("地址")]),a("p",[e._v("无锡市新吴区国家软件园")])])],1),a("el-button",{staticStyle:{"margin-top":"50px"},attrs:{plain:"",type:"primary"}},[e._v("返回")])],1)])},$t=[],Vt={data:function(){return{url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"}}},Lt=Vt,Nt=(a("0881"),Object(s["a"])(Lt,Tt,$t,!1,null,"02a00140",null)),Dt=Nt.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:" "}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("红黑名单")])],1)],1),a("div",{staticClass:"box"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.getList},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{label:"红名单",name:"first"}}),a("el-tab-pane",{attrs:{label:"黑名单",name:"second"}}),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("label",{staticStyle:{"margin-right":"30px"}},[e._v("乡镇")]),a("el-select",{attrs:{placeholder:"Select"},on:{change:e.getList},model:{value:e.currTown,callback:function(t){e.currTown=t},expression:"currTown"}},e._l(e.township,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),2===e.loggedinUserType?a("el-table-column",{attrs:{label:"企业名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n              "+e._s(e.filterCompnay(a.creditCode))+"\n            ")]}}],null,!1,3995582841)}):e._e(),a("el-table-column",{attrs:{label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return 2!==e.loggedinUserType?[e._v("\n              "+e._s(e.filterCompnay(a.creditCode))+"\n            ")]:void 0}}],null,!0)}),a("el-table-column",{attrs:{label:"现信用评级"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n              "+e._s(e.getGrade(a.nowGrade))+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"gradeTime",label:"评级时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n              "+e._s(e._f("formatDate")(a.gradeTime))+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"gradeUnit",label:"评级单位"}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)],1)])},jt=[],Ut={name:"redBlackList",components:{Pagination:we},data:function(){return{listLoading:!0,page:{pageIndex:1,pageSize:20},total:0,options:[{value:"全部",label:""}],activeTabName:"first",township:[{id:0,name:"全部"}],currTown:0,status:1,tableData:[],companyProduction:[],loggedinUserType:null}},created:function(){this.getTown(),this.getList(),this.getCompanyProduction(),this.loggedinUserType=O().user().attrs.userType},methods:{getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=t})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},getList:function(){var e=this;this.listLoading=!0;var t="first"===this.activeTabName?1:2;this.status!==t&&(this.status=t,this.page.pageIndex=1),D().get("/api/blacklist/all",{blacklistType:this.status,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,townId:this.currTown}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},goAdd:function(){this.$router.push({path:"addRedBlackList"})},filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.creditCode===e}));return t?t.companyName:""},getGrade:function(e){switch(e){case"A":return"A级（守信）";case"B":return"B级（基本守信）";case"C":return"C级（失信）";default:return"A级（守信）"}}}},zt=Ut,At=Object(s["a"])(zt,Pt,jt,!1,null,"0ea53fb7",null),Rt=At.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("农残检测")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},["undefined"==typeof this.creditCode?a("div",{staticClass:"select_label no-margin-left"},[e._v("乡镇")]):a("div",{staticClass:"select_label no-margin-left",staticStyle:{display:"none"}},[e._v("乡镇")]),"undefined"==typeof this.creditCode?a("el-select",{attrs:{placeholder:"全部"},on:{change:e.getList},model:{value:e.currTown,callback:function(t){e.currTown=t},expression:"currTown"}},e._l(e.township,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.divisionCode,size:"large"}})})),1):a("div",{staticClass:"select_label"},[e._v(e._s(e.getCompanyName()))]),a("div",{staticClass:"select_label"},[e._v("项目")]),a("el-select",{attrs:{placeholder:"全部"},on:{change:e.getList},model:{value:e.itemValue,callback:function(t){e.itemValue=t},expression:"itemValue"}},e._l(e.items,(function(e){return a("el-option",{key:e.id,attrs:{label:e.item,value:e.item}})})),1),a("div",{staticClass:"select_label"},[e._v("样品")]),a("el-select",{attrs:{placeholder:"全部"},on:{change:e.getList},model:{value:e.samplesValue,callback:function(t){e.samplesValue=t},expression:"samplesValue"}},e._l(e.samples,(function(e){return a("el-option",{key:e.id,attrs:{label:e.sample,value:e.sample}})})),1),a("div",{staticClass:"select_label"},[e._v("定性")]),a("el-select",{attrs:{placeholder:"全部"},on:{change:e.getList},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.results,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),3!==e.loggedinUserType?a("div",{staticClass:"select_label"},[e._v("检测单位")]):e._e(),3!==e.loggedinUserType?a("el-select",{attrs:{placeholder:"全部"},on:{change:e.getList},model:{value:e.detectionUnitValue,callback:function(t){e.detectionUnitValue=t},expression:"detectionUnitValue"}},e._l(e.detectionUnit,(function(e){return a("el-option",{key:e.id,attrs:{label:e.detectUnit,value:e.detectUnit}})})),1):e._e()],1),a("div",{staticClass:"iptBox"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"select_label no-margin-left"},[e._v("开始日期")]),a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"选择日期"},on:{change:e.getList},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"select_label no-margin-left"},[e._v("结束日期")]),a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"选择日期"},on:{change:e.getList},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),a("el-col",{staticClass:"flex-center",attrs:{span:6}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:e.handleDownload}},[e._v("导出表格")]),"undefined"!=typeof this.creditCode?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")]):a("el-button",{staticStyle:{display:"none"},attrs:{plain:"",type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")]),a("span",{staticClass:"margin-left-20",staticStyle:{float:"right"}},[e._v("总计"+e._s(e.totalSize)+"条检测")])],1),a("el-col",{staticClass:"flex-center justify-right",staticStyle:{height:"40px"},attrs:{span:8}},[0!=e.isShowCheckbox?a("el-button",{attrs:{type:"success",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.actionConfirm(1)}}},[e._v("添加到专项1")]):e._e(),0!=e.isShowCheckbox?a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.actionConfirm(0)}}},[e._v("从专项1移除")]):e._e(),a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},on:{change:e.showCheckbox},model:{value:e.isShowCheckbox,callback:function(t){e.isShowCheckbox=t},expression:"isShowCheckbox"}},[e._v("专项1:绿色优质农产品生产基地")])],1)],1),a("el-dialog",{attrs:{visible:e.alert_dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.alert_dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 请选择 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.alert_dialogVisible=!1}}},[e._v("取消")])],1)]),a("el-dialog",{attrs:{visible:e.confirm_dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.confirm_dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 继续？请再次检查")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.confirm_dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:e.btnColor,plain:""},on:{click:function(t){return e.updateSelectedRows()}}},[e._v("确认")])],1)])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[0!=e.isShowCheckbox?a("el-table-column",{attrs:{label:"",width:"35"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-checkbox",{staticStyle:{"margin-left":"auto"},on:{change:function(t){return e.changeCheckStatus(o.id)}}})]}}],null,!1,395283270)}):e._e(),a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"no",label:"编号"}}),a("el-table-column",{attrs:{prop:"item",label:"检测项目"}}),a("el-table-column",{attrs:{prop:"sample",label:"样品名称"}}),a("el-table-column",{attrs:{prop:"source",label:"来源"}}),a("el-table-column",{attrs:{prop:"resultDl",label:"定量结果"}}),a("el-table-column",{attrs:{prop:"resultDx",label:"定性结果"}}),a("el-table-column",{attrs:{prop:"detectTime",label:"检测时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e._f("formatDate")(a.detectTime))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"detectUnit",label:"检测单位",width:"150"}}),a("el-table-column",{attrs:{prop:"operator",label:"检验员"}}),a("el-table-column",{attrs:{label:"专项1"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[1==t.specialFlag?a("i",{staticClass:"el-icon-check"}):a("i")]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},qt=[],Et={name:"disabilityCheck",components:{Pagination:we},data:function(){return{listLoading:!1,creditCode:"",page:{pageIndex:1,pageSize:20},total:0,options:[{value:"全部",label:""}],loggedinUserType:null,township:[{id:0,name:"全部",divisionCode:0}],currTown:"",status:1,tableData:[],items:[{id:0,item:"全部"}],itemValue:"",samples:[{id:0,sample:"全部"}],samplesValue:"",results:[{id:0,name:"全部"},{id:1,name:"不合格"},{id:2,name:"合格 "},{id:3,name:"疑似"}],result:"",detectionUnit:[{id:"0",detectUnit:"全部"}],detectionUnitValue:"",startDate:"",endDate:"",isShowCheckbox:0,selectedRows:[],alert_dialogVisible:!1,confirm_dialogVisible:!1,btnColor:"",action:"",totalSize:"",companyData:[],filename:"农残检测"}},created:function(){this.getTown(),this.getItem(),this.getSample(),this.getDetectUnit(),this.getList(),this.getCompanyProduction(),this.creditCode=this.$route.query.creditCode,this.loggedinUserType=O().user().attrs.userType},methods:{handleDownload:function(){var e=this;this.downloadLoading=!0,a.e("chunk-18de5d9c").then(a.bind(null,"4bf8d")).then((function(t){var a=["编号","编号","检测项目","来源","定量结果","定性结果","检测时间","检测单位","检验员","专项1"],o=["no","item","sample","source","resultDl","resultDx","detectTime","detectUnit","particular"],r=e.formatJson(o,e.tableData);t.export_json_to_excel({header:a,data:r,filename:e.filename,bookType:"csv"}),e.downloadLoading=!1}))},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyData=t})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},getItem:function(){var e=this;D().get("/api/disability_check/item").then((function(t){e.items=e.items.concat(t)})).catch((function(e){console.log(e)}))},getSample:function(){var e=this;D().get("/api/disability_check/sample ").then((function(t){e.samples=e.samples.concat(t)})).catch((function(e){console.log(e)}))},getDetectUnit:function(){var e=this;D().get("/api/disability_check/detect_unit").then((function(t){e.detectionUnit=e.detectionUnit.concat(t)})).catch((function(e){console.log(e)}))},getList:function(){var e=this;this.listLoading=!0,D().get("/api/disability_check/all",{creditCode:this.$route.query.creditCode,detectUnit:"全部"==this.detectionUnitValue?"":this.detectionUnitValue,fromDate:this.startDate,toDate:this.endDate,sample:"全部"==this.samplesValue?"":this.samplesValue,item:"全部"==this.itemValue?"":this.itemValue,resultDx:this.result-1,townDivisionCode:0==this.currTown?"":this.currTown,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getCompanyName:function(){var e=this,t=this.companyData.find((function(t){return t.creditCode===e.creditCode}));return t?t.companyName:""},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},goAdd:function(){this.$router.push({path:"addDisabilityCheck"})},changeCheckStatus:function(e){var t=this.selectedRows.indexOf(e);t>-1&&this.selectedRows.splice(t,1),event.target.checked&&this.selectedRows.push(e)},actionConfirm:function(e){this.action=e,this.selectedRows.length?(this.confirm_dialogVisible=!0,this.btnColor=e>0?"success":"danger"):this.alert_dialogVisible=!0},updateSelectedRows:function(){var e=this;for(var t in this.selectedRows)this.confirm_dialogVisible=!1,this.listLoading=!0,D().put("/api/disability_check/update_special_flag/"+this.selectedRows[t]+"?specialFlag="+this.action).then((function(t){setTimeout((function(){e.listLoading=!1}),500),e.selectedRows=[],e.isShowCheckbox=0,e.getList()})).catch((function(e){console.log(e)}))},showCheckbox:function(){event.target.checked||(this.selectedRows=[])}}},Bt=Et,Gt=Object(s["a"])(Bt,Ot,qt,!1,null,"5aee2a13",null),Mt=Gt.exports,Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("工作任务")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"select_label no-margin-left"},[e._v("开始日期")]),a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"开始日期"},on:{change:e.getList},model:{value:e.releaseTimeFrom,callback:function(t){e.releaseTimeFrom=t},expression:"releaseTimeFrom"}})],1),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"select_label no-margin-left"},[e._v("结束日期")]),a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"结束日期"},on:{change:e.getList},model:{value:e.releaseTimeTo,callback:function(t){e.releaseTimeTo=t},expression:"releaseTimeTo"}})],1),a("el-col",{attrs:{span:3}},[1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/workTask/create")}}},[e._v("添加工作任务")]):e._e()],1)],1)],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"100"}}),a("el-table-column",{attrs:{prop:"releaseTime",label:"发布时间","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.releaseTime)))]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"releasePerson",label:"发布者"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[2===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.$router.push({path:"/workTask/report/create",query:{id:o.id}})}}},[e._v("修改")]):e._e(),1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/workTask/edit/"+o.id})}}},[e._v("查看任务")]):e._e(),1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/workTask/report/detail/"+o.id})}}},[e._v("查看任务进度")]):e._e()]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Yt=[],Jt={name:"workTask",components:{Pagination:we},data:function(){return{releaseTimeFrom:"",releaseTimeTo:"",page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],loggedinUserType:null}},created:function(){this.getList(),this.loggedinUserType=O().user().attrs.userType},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/work_task/all",{fromDate:this.releaseTimeFrom,toDate:this.releaseTimeTo,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Qt=Jt,Zt=Object(s["a"])(Qt,Wt,Yt,!1,null,"4bc68093",null),Ht=Zt.exports,Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("工作任务")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加工作任务")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"发布日期",prop:"releaseTime"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"开始日期"},model:{value:e.ruleFormValue.releaseTime,callback:function(t){e.$set(e.ruleFormValue,"releaseTime",t)},expression:"ruleFormValue.releaseTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发布者",prop:"releasePerson"}},[a("el-input",{model:{value:e.ruleFormValue.releasePerson,callback:function(t){e.$set(e.ruleFormValue,"releasePerson",t)},expression:"ruleFormValue.releasePerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:e.ruleFormValue.title,callback:function(t){e.$set(e.ruleFormValue,"title",t)},expression:"ruleFormValue.title"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:10},model:{value:e.ruleFormValue.content,callback:function(t){e.$set(e.ruleFormValue,"content",t)},expression:"ruleFormValue.content"}})],1)],1)],1),a("el-row",[a("el-form-item",[a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("div",{staticClass:"item-value",staticStyle:{"margin-left":"10px",display:"flex","align-items":"center","padding-bottom":"20px"}},[e.file?a("span",[e._v("("+e._s(e.file.name)+")")]):a("span",[e._v("请选择需要上传的文件...")])])])])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},Kt=[],ea={name:"addWorkTask",data:function(){return{file:null,ruleFormValue:{releaseTime:"",releasePerson:"",title:"",content:""},listLoading:!1,rules:{releaseTime:[{required:!0,message:"请选择",trigger:"change"}],releasePerson:[{required:!0,message:"请插入",trigger:"change"}],title:[{required:!0,message:"请插入",trigger:"change"}],content:[{required:!0,message:"请插入",trigger:"change"}]}}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.listLoading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/work_task/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/workTask"})})).catch((function(e){console.log(e)}))}}))},makeFormData:function(){var e=new FormData;this.file&&e.append("file",this.file),e.append("id",0),this.ruleFormValue.releaseTime=new Date(this.ruleFormValue.releaseTime).toDateString("YYYY-MM-DD"),e.append("releaseTime",this.ruleFormValue.releaseTime),e.append("releasePerson",this.ruleFormValue.releasePerson),e.append("title",this.ruleFormValue.title),e.append("content",this.ruleFormValue.content);var t=(new Date).toDateString("YYYY-MM-DD");return e.append("createTime",t),e},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}},ta=ea,aa=Object(s["a"])(ta,Xt,Kt,!1,null,null,null),oa=aa.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("工作任务")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加工作任务")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 你确定你要删除?")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:e.handleDelete}},[e._v("确认")])],1)]),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"发布日期",prop:"releaseTime"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"开始日期"},model:{value:e.ruleFormValue.releaseTime,callback:function(t){e.$set(e.ruleFormValue,"releaseTime",t)},expression:"ruleFormValue.releaseTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发布者",prop:"releasePerson"}},[a("el-input",{model:{value:e.ruleFormValue.releasePerson,callback:function(t){e.$set(e.ruleFormValue,"releasePerson",t)},expression:"ruleFormValue.releasePerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:e.ruleFormValue.title,callback:function(t){e.$set(e.ruleFormValue,"title",t)},expression:"ruleFormValue.title"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:10},model:{value:e.ruleFormValue.content,callback:function(t){e.$set(e.ruleFormValue,"content",t)},expression:"ruleFormValue.content"}})],1)],1)],1),a("el-form-item",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("div",{staticClass:"item-value",staticStyle:{"margin-left":"10px",display:"flex","align-items":"center","padding-bottom":"20px"}},[e.file?a("span",[e._v("("+e._s(e.fileName)+")")]):a("span",[e._v("请选择需要上传的文件...")])])])])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.confirmDelete}},[e._v("删除")])],1)],1)],1)],1)},la=[],ia={name:"editWorkTask",data:function(){return{file:null,fileName:"",selectedId:null,data:null,dialogVisible:!1,listLoading:!1,ruleFormValue:{releaseTime:"",releasePerson:"",title:"",content:""},rules:{releaseTime:[{required:!0,message:"请选择",trigger:"change"}],releasePerson:[{required:!0,message:"请插入",trigger:"change"}],title:[{required:!0,message:"请插入",trigger:"change"}],content:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.selectedId=this.$route.params.id,this.getData(this.$route.params.id)},methods:{getData:function(e){var t=this;this.listLoading=!0,D().get("/api/work_task/get/"+e).then((function(e){t.data=e,t.ruleFormValue.releaseTime=t.data.releaseTime,t.ruleFormValue.releasePerson=t.data.releasePerson,t.ruleFormValue.title=t.data.title,t.ruleFormValue.content=t.data.content,t.file=e.workTaskProfiles,t.fileName=e.workTaskProfiles,setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.listLoading=!0;var a=new FormData;a=t.makeFormData(),D().put("/api/work_task/update/"+t.selectedId,a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/workTask"})})).catch((function(e){console.log(e)}))}}))},makeFormData:function(){var e=new FormData;this.file&&e.append("file",this.file),e.append("id",0),this.ruleFormValue.releaseTime=new Date(this.ruleFormValue.releaseTime).toDateString("YYYY-MM-DD"),e.append("releaseTime",this.ruleFormValue.releaseTime),e.append("releasePerson",this.ruleFormValue.releasePerson),e.append("title",this.ruleFormValue.title),e.append("content",this.ruleFormValue.content);var t=(new Date).toDateString("YYYY-MM-DD");return e.append("createTime",t),e},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.fileName=this.file.name},handleDelete:function(){var e=this;this.dialogVisible=!1,this.listLoading=!0,D().delete("/api/work_task/delete/"+this.selectedId).then((function(t){setTimeout((function(){e.listLoading=!1}),500),e.$router.push({path:"/workTask"})})).catch((function(e){console.log(e)}))},confirmDelete:function(){this.dialogVisible=!0}}},na=ia,sa=Object(s["a"])(na,ra,la,!1,null,null,null),ca=sa.exports,ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("工作任务")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("汇报任务")])],1)],1),e.workData?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"box"},[a("el-row",{staticClass:"w-100 text-center margin-bottom-30"},[a("el-col",[a("h1",{staticClass:"middle-font"},[e._v(e._s(e.workData.title))])])],1),a("el-row",{staticClass:"w-100 text-center margin-bottom-30 flex-justify-center"},[a("el-col",{attrs:{span:5}},[e._v("发布日期："+e._s(e._f("formatDate")(e.workData.releaseTime)))]),a("el-col",{attrs:{span:5}},[e._v("发布者："+e._s(e.workData.releasePerson))])],1),a("el-row",{staticClass:"w-100 text-center flex-justify-center margin-bottom-30"},[a("el-col",{attrs:{span:12}},[e._v(e._s(e.workData.content))])],1),e.workData.workTaskProfiles?a("el-row",{staticClass:"w-100 flex-justify-center margin-bottom-30"},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.downloadFile()}}},[e._v("附件下载")]),a("span",{staticClass:"margin-left-20"},[e._v(e._s(e.workData.workTaskProfiles.replace("/uploads/","")))])],1)],1):e._e(),a("el-row",{staticClass:"margin-bottom-30"},[a("el-col",{staticClass:"middle-font margin-left-20"},[e._v("工作任务汇报")])],1),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"汇报日期：",prop:"reportTime"}},[a("el-date-picker",{staticClass:"w-100",attrs:{align:"right",type:"date",placeholder:"汇报日期"},model:{value:e.ruleFormValue.reportTime,callback:function(t){e.$set(e.ruleFormValue,"reportTime",t)},expression:"ruleFormValue.reportTime"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"汇报单位：",prop:"townId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.townId,callback:function(t){e.$set(e.ruleFormValue,"townId",t)},expression:"ruleFormValue.townId"}},e._l(e.township,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"汇报人：",prop:"reportPerson"}},[a("el-input",{model:{value:e.ruleFormValue.reportPerson,callback:function(t){e.$set(e.ruleFormValue,"reportPerson",t)},expression:"ruleFormValue.reportPerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"汇报内容：",prop:"reportContent"}},[a("el-input",{attrs:{type:"textarea",rows:10},model:{value:e.ruleFormValue.reportContent,callback:function(t){e.$set(e.ruleFormValue,"reportContent",t)},expression:"ruleFormValue.reportContent"}})],1)],1)],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"box"},[a("div",[e._v("装货...")])])])},da=[],pa={name:"addWorkTaskReport",data:function(){return{file:null,selectedId:null,workData:null,township:[],listLoading:!1,pageLoading:!0,ruleFormValue:{townId:"",reportPerson:"",title:"",reportTime:""},rules:{townId:[{required:!0,message:"请选择",trigger:"change"}],reportPerson:[{required:!0,message:"请插入",trigger:"change"}],reportTime:[{required:!0,message:"请选择",trigger:"change"}],reportContent:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.selectedId=this.$route.query.id,this.getData(this.$route.query.id),this.getTown()},methods:{getData:function(e){var t=this;D().get("/api/work_task/get/"+e).then((function(e){t.workData=e})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.listLoading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/work_task_report/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/workTask"})})).catch((function(e){console.log(e)}))}}))},makeFormData:function(){var e=new FormData;e.append("id",0),this.ruleFormValue.reportTime=new Date(this.ruleFormValue.reportTime).toDateString("YYYY-MM-DD"),e.append("reportContent",this.ruleFormValue.reportContent),e.append("reportPerson",this.ruleFormValue.reportPerson),e.append("townId",this.ruleFormValue.townId),e.append("reportTime",this.ruleFormValue.reportTime);var t=(new Date).toDateString("YYYY-MM-DD");return e.append("createTime",t),e.append("workTaskId",this.selectedId),e},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.workData.workTaskProfiles,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.workData.workTaskProfiles.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},ma=pa,fa=Object(s["a"])(ma,ua,da,!1,null,null,null),ga=fa.exports,ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("工作任务")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("详情")])],1)],1),e.workData?a("div",{staticClass:"box"},[a("el-row",{staticClass:"w-100 text-center margin-bottom-30"},[a("el-col",[a("h1",{staticClass:"middle-font"},[e._v(e._s(e.workData.title))])])],1),a("el-row",{staticClass:"w-100 text-center margin-bottom-30 flex-justify-center"},[a("el-col",{attrs:{span:5}},[e._v("发布日期："+e._s(e._f("formatDate")(e.workData.releaseTime)))]),a("el-col",{attrs:{span:5}},[e._v("发布者："+e._s(e.workData.releasePerson))])],1),a("el-row",{staticClass:"w-100 text-center flex-justify-center margin-bottom-30"},[a("el-col",{attrs:{span:12}},[e._v(e._s(e.workData.content))])],1),e.workData.workTaskProfiles?a("el-row",{staticClass:"w-100 flex-justify-center margin-bottom-30"},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.downloadFile()}}},[e._v("附件下载")]),e.workData.workTaskProfiles?a("span",{staticClass:"margin-left-20"},[e._v(e._s(e.workData.workTaskProfiles.replace("/uploads/","")))]):e._e()],1)],1):e._e(),a("el-row",{staticClass:"margin-bottom-30"},[a("el-col",{staticClass:"middle-font margin-left-20"},[e._v("工作任务汇报")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"reportTime",label:"时间","class-name":"padding-left-20"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.reportTime)))]}}])}),a("el-table-column",{attrs:{prop:"reportContent",label:"汇报内容"}}),a("el-table-column",{attrs:{prop:"townId",label:"汇报单位"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterTownName(a.townId)))]}}])}),a("el-table-column",{attrs:{prop:"reportPerson",label:"汇报人"}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize,layout:"prev, pager, next, sizes, jumper"},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getTableData}})],1),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"box"},[a("div",[e._v("装货...")])])])},ba=[],va={name:"detailWorkTaskReport",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},listLoading:!1,pageLoading:!0,total:0,tableData:[],file:null,selectedId:null,workData:null,township:[]}},created:function(){this.selectedId=this.$route.params.id,this.getData(this.$route.params.id),this.getTableData(),this.getTown()},methods:{getData:function(e){var t=this;D().get("/api/work_task/get/"+e).then((function(e){t.workData=e})).catch((function(e){console.log(e)}))},getTableData:function(){var e=this;this.listLoading=!0,D().get("/api/work_task_report/all",{workTaskId:this.selectedId,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.workData.workTaskProfiles,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.workData.workTaskProfiles.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))},filterTownName:function(e){var t=this.township.find((function(t){return t.id===e}));return t?t.name:""}}},ya=va,_a=Object(s["a"])(ya,ha,ba,!1,null,null,null),wa=_a.exports,ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("种子管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[2===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/seed/upload")}}},[e._v("上传种子")]):e._e()],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"companyId",label:"企业名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterCompany(a.companyId)))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/seed/detail/"+o.id,query:{cityId:o.cityId,townId:o.townId,villageId:o.villageId}})}}},[e._v("种子")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getData}})],1)],1)])},xa=[],Ca={name:"seed",components:{Pagination:we},data:function(){return{loggedinUserType:null,page:{pageIndex:1,pageSize:20},total:0,tableData:[],listLoading:!1,companyProduction:null}},created:function(){this.getData(),this.getCompanyProduction(),this.loggedinUserType=O().user().attrs.userType},methods:{getData:function(){var e=this;this.listLoading=!0,D().get("/api/seed/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){setTimeout((function(){e.listLoading=!1}),500),e.tableData=t.data,e.total=t.total})).catch((function(e){console.log(e)}))},getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=t})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},filterCompany:function(e){var t=this.companyProduction.find((function(t){return t.companyId===e}));return t?t.companyName:""}}},Sa=Ca,Ia=Object(s["a"])(Sa,ka,xa,!1,null,null,null),Fa=Ia.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("种子管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("上传原料")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"输入市，区",prop:"cityId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.cityId,callback:function(t){e.$set(e.ruleFormValue,"cityId",t)},expression:"ruleFormValue.cityId"}},e._l(e.cityList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"输入乡镇",prop:"townId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getCompanyList},model:{value:e.ruleFormValue.townId,callback:function(t){e.$set(e.ruleFormValue,"townId",t)},expression:"ruleFormValue.townId"}},e._l(e.townList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"输入村",prop:"villageId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.villageId,callback:function(t){e.$set(e.ruleFormValue,"villageId",t)},expression:"ruleFormValue.villageId"}},e._l(e.villageList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"输入企业",prop:"companyId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.companyId,callback:function(t){e.$set(e.ruleFormValue,"companyId",t)},expression:"ruleFormValue.companyId"}},e._l(e.companyProduction,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1)],1)],1),a("el-form-item",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:".xls, .xlsx"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("div",{staticClass:"item-value",staticStyle:{"margin-left":"10px",display:"flex","align-items":"center","padding-bottom":"20px"}},[e.file?a("span",[e._v("("+e._s(e.file.name)+")")]):a("span",[e._v("请选择需要上传的文件...")])])]),a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.downloadFile()}}},[e._v("例文档下载")])],1),a("div",{staticClass:"item-value",staticStyle:{"margin-left":"10px",display:"flex","align-items":"center","padding-bottom":"20px"}},[a("span",[e._v("种子.xlsx")])])])])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},$a=[],Va={name:"uploadSeed",data:function(){return{file:null,cityList:[],villageList:[],townList:[],companyProduction:[],listLoading:!1,ruleFormValue:{cityId:null,townId:null,villageId:null,companyId:null},rules:{cityId:[{required:!0,message:"请选择",trigger:"change"}],townId:[{required:!0,message:"请选择"}],villageId:[{required:!0,message:"请选择"}],companyId:[{required:!0,message:"请选择",trigger:"change"}]}}},created:function(){this.getCity(),this.getVillage(),this.getTown()},methods:{getCity:function(){var e=this;this.listLoading=!0,D().get("/api/city/all").then((function(t){setTimeout((function(){e.listLoading=!1}),50),e.cityList=t})).catch((function(e){console.log(e)}))},getVillage:function(){var e=this;this.listLoading=!0,D().get("/api/village/all").then((function(t){setTimeout((function(){e.listLoading=!1}),50),e.villageList=t})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;this.listLoading=!0,D().get("/api/town/all").then((function(t){setTimeout((function(){e.listLoading=!1}),50),e.townList=t})).catch((function(e){console.log(e)}))},getCompany:function(){var e=this;this.listLoading=!0,D().get("/api/company_production/all",{townId:this.ruleFormValue.townId}).then((function(t){setTimeout((function(){e.listLoading=!1}),50),e.companyProduction=t.data})).catch((function(e){console.log(e)}))},getCompanyList:function(){this.getCompany()},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.listLoading=!0;var a=new FormData;a=t.makeFormData(),t.listLoading=!0,D().post("/api/seed/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/seed"})})).catch((function(e){console.log(e)}))}}))},makeFormData:function(){var e=new FormData;return this.file&&e.append("file",this.file),e.append("id",0),e.append("cityId",this.ruleFormValue.cityId),e.append("companyId",this.ruleFormValue.companyId),e.append("townId",this.ruleFormValue.townId),e.append("villageId",this.ruleFormValue.villageId),e},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0]},downloadFile:function(){var e="/uploads/default.xlsx";S()({url:F.DOWNLOAD_URL()+e,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},La=Va,Na=Object(s["a"])(La,Ta,$a,!1,null,null,null),Da=Na.exports,Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("种子管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("查看详情")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox",staticStyle:{"align-items":"center"}},[a("div",{staticClass:"header-left"},[a("el-button",{staticClass:"margin-left-20",attrs:{type:"primary",plain:"",disabled:!0}},[a("div",{staticStyle:{display:"flex"}},[e.villageId>0?a("span",[e._v(e._s(e.filterVillage(e.villageId)))]):e._e(),e.townId>0?a("span",[e._v(e._s(e.filterTown(e.townId)))]):e._e(),e.cityId>0?a("span",[e._v(e._s(e.filterCity(e.cityId)))]):e._e()])]),a("el-button",{staticClass:"margin-left-20",attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("div",{staticStyle:{"margin-left":"auto",width:"70%"}},[a("el-row",{staticClass:"margin-bottom-10"},[a("el-col",{attrs:{span:1}},[e._v("合计：")]),a("el-col",{attrs:{span:5}},[e._v("补贴面积(亩)："+e._s(e.sum1))]),a("el-col",{attrs:{span:5}},[e._v("种子应收金额(元)："+e._s(e.sum2))]),a("el-col",{attrs:{span:5}},[e._v("农户自负金额(元)："+e._s(e.sum3))])],1),a("el-row",[a("el-col",{attrs:{span:1}},[e._v(" ")]),a("el-col",{attrs:{span:5}},[e._v("供种数量(公斤)："+e._s(e.sum4))]),a("el-col",{attrs:{span:5}},[e._v("种子补贴金额(元)："+e._s(e.sum5))])],1)],1)]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"field1",label:"户名"}}),a("el-table-column",{attrs:{prop:"field2",label:"品种名称"}}),a("el-table-column",{attrs:{prop:"field3",label:"补贴面积 (亩)"}}),a("el-table-column",{attrs:{prop:"field4",label:"供种面积 （亩）"}}),a("el-table-column",{attrs:{prop:"field5",label:"中标价格 （元/公斤）"}}),a("el-table-column",{attrs:{prop:"field6",label:"种子应收金额 （元）"}}),a("el-table-column",{attrs:{prop:"field7",label:"种子补贴金额 （元）"}}),a("el-table-column",{attrs:{prop:"field8",label:"农户自负金额 （元）"}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getData}})],1)],1)])},ja=[],Ua={name:"detailSeed",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},cityList:[],villageList:[],townList:[],total:0,tableData:[],listLoading:!1,companyProduction:null,id:-1,townId:null,cityId:null,villageId:null,sum1:0,sum2:0,sum3:0,sum4:0,sum5:0}},created:function(){this.id=this.$route.params.id,this.villageId=this.$route.query.villageId,this.cityId=this.$route.query.cityId,this.townId=this.$route.query.townId,this.getData(),this.getCity(),this.getVillage(),this.getTown()},methods:{getData:function(){var e=this;this.listLoading=!0,D().get("/api/seed/profile/"+this.id).then((function(t){for(var a in e.tableData=t.data,e.total=t.total,t.data)e.sum1=e.sum1+parseFloat(t.data[a].field3),e.sum2=e.sum2+parseInt(t.data[a].field6),e.sum3=e.sum3+parseInt(t.data[a].field8),e.sum4=e.sum4+parseInt(t.data[a].field4),e.sum5=e.sum5+parseInt(t.data[a].field7);setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getCity:function(){var e=this;D().get("/api/city/all").then((function(t){e.cityList=t})).catch((function(e){console.log(e)}))},getVillage:function(){var e=this;D().get("/api/village/all").then((function(t){e.villageList=t})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.townList=t})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},filterVillage:function(e){var t=this.villageList.find((function(t){return t.id===e}));return t?t.name:""},filterTown:function(e){var t=this.townList.find((function(t){return t.id===e}));return t?t.name:""},filterCity:function(e){var t=this.cityList.find((function(t){return t.id===e}));return t?t.name:""}}},za=Ua,Aa=Object(s["a"])(za,Pa,ja,!1,null,null,null),Ra=Aa.exports,Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("用户管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{staticClass:"no-margin-left",attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/userManagement/create")}}},[e._v("添加用户")])],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 你确定你要删除?")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:e.handleDelete}},[e._v("确认")])],1)]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"contactName",label:"名称"}}),a("el-table-column",{attrs:{prop:"contactPerson",label:"联系人"}}),a("el-table-column",{attrs:{prop:"userId",label:"登录名"}}),a("el-table-column",{attrs:{prop:"userType",label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.userTypeLsit[a.userType]))]}}])}),a("el-table-column",{attrs:{prop:"creditCode",label:"统一社会信用代码"}}),2===e.loggedinUserType?a("el-table-column",{attrs:{label:"操作","class-name":"text-center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[3===o.userType?a("el-button",{staticClass:"no-margin-left",attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/userManagement/edit/"+o.id})}}},[e._v("管理")]):e._e(),3===o.userType?a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/userManagement/changePwd/"+o.id})}}},[e._v("修改密码")]):e._e(),3===o.userType?a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.confirmDelete(""+o.id)}}},[e._v("删除")]):e._e()]}}],null,!1,907944654)}):e._e(),1===e.loggedinUserType||0===e.loggedinUserType?a("el-table-column",{attrs:{label:"操作","class-name":"text-center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/userManagement/edit/"+o.id})}}},[e._v("管理")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/userManagement/changePwd/"+o.id})}}},[e._v("修改密码")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.confirmDelete(""+o.id)}}},[e._v("删除")])]}}],null,!1,2027226230)}):e._e()],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getData}})],1)],1)])},qa=[],Ea={name:"userManagement",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},dialogVisible:!1,total:0,tableData:[],listLoading:!1,companyProduction:null,userTypeLsit:{1:"市级管理员",2:"乡镇管理员",3:"普通用户"},loggedinUserType:""}},created:function(){this.getData(),this.loggedinUserType=O().user().attrs.userType},methods:{getData:function(){var e=this;this.listLoading=!0,D().get("/api/user/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.companyId===e}));return t?t.companyName:""},confirmDelete:function(e){this.dialogVisible=!0,this.selectedId=e},handleDelete:function(){var e=this;this.dialogVisible=!1,this.listLoading=!0,D().delete("/api/user/delete/"+this.selectedId).then((function(t){setTimeout((function(){e.listLoading=!1}),500),e.getData()})).catch((function(e){console.log(e)}))}}},Ba=Ea,Ga=Object(s["a"])(Ba,Oa,qa,!1,null,null,null),Ma=Ga.exports,Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加用户")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"登录名：",prop:"userId"}},[a("el-input",{attrs:{placeholder:"例: admin"},model:{value:e.ruleFormValue.userId,callback:function(t){e.$set(e.ruleFormValue,"userId",t)},expression:"ruleFormValue.userId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"名称：",prop:"contactName"}},[a("el-input",{attrs:{placeholder:"例: 管理员"},model:{value:e.ruleFormValue.contactName,callback:function(t){e.$set(e.ruleFormValue,"contactName",t)},expression:"ruleFormValue.contactName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"角色：",prop:"userType"}},[2===e.loggedinUserType?a("el-select",{staticClass:"w-100",attrs:{disabled:""},model:{value:e.ruleFormValue.userType,callback:function(t){e.$set(e.ruleFormValue,"userType",t)},expression:"ruleFormValue.userType"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):a("el-select",{staticClass:"w-100",model:{value:e.ruleFormValue.userType,callback:function(t){e.$set(e.ruleFormValue,"userType",t)},expression:"ruleFormValue.userType"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tooltip",{attrs:{content:"CapsLock 在",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{label:"密码：",prop:"password"}},[a("el-input",{attrs:{type:"password"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.ruleFormValue.password,callback:function(t){e.$set(e.ruleFormValue,"password",t)},expression:"ruleFormValue.password"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系人：",prop:"contactPerson"}},[a("el-input",{model:{value:e.ruleFormValue.contactPerson,callback:function(t){e.$set(e.ruleFormValue,"contactPerson",t)},expression:"ruleFormValue.contactPerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系方式：",prop:"contactWay"}},[a("el-input",{model:{value:e.ruleFormValue.contactWay,callback:function(t){e.$set(e.ruleFormValue,"contactWay",t)},expression:"ruleFormValue.contactWay"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"统一社会信用代码：",prop:"creditCode"}},[a("el-input",{model:{value:e.ruleFormValue.creditCode,callback:function(t){e.$set(e.ruleFormValue,"creditCode",t)},expression:"ruleFormValue.creditCode"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Ya=[],Ja={name:"registerUser",data:function(){var e=function(e,t,a){t.length<3?a(new Error("用户名不能少于3位数字")):a()},t=function(e,t,a){t.length<6?a(new Error("密码不能少于6位数字")):a()};return{capsTooltip:!1,listLoading:!1,ruleFormValue:{creditCode:"",contactName:"",contactPerson:"",contactWay:"",password:"",userId:"",userType:null},rules:{creditCode:[{required:!0,message:"请选择",trigger:"change"}],contactName:[{required:!0,message:"请选择",trigger:"change"}],contactPerson:[{required:!0,message:"请选择",trigger:"change"}],contactWay:[{required:!0,message:"请插入",trigger:"change"}],password:[{required:!0,trigger:"change",validator:t}],userId:[{required:!0,trigger:"change",validator:e}],userType:[{required:!0,message:"请选择",trigger:"change"}]},options:[{id:1,name:"市级管理员"},{id:2,name:"乡镇管理员"},{id:3,name:"普通用户"}],loggedinUserType:null}},created:function(){this.loggedinUserType=O().user().attrs.userType,2===this.loggedinUserType&&(this.ruleFormValue.userType=3)},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.listLoading=!0,D().post("/api/user/create",{contactName:t.ruleFormValue.contactName,contactPerson:t.ruleFormValue.contactPerson,contactWay:t.ruleFormValue.contactWay,createUserId:t.loggedinUserType,creditCode:t.ruleFormValue.creditCode,id:0,password:t.ruleFormValue.password,userId:t.ruleFormValue.userId,userType:t.ruleFormValue.userType}).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/userManagement"})})).catch((function(e){}))}))},checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,a=e.key;a&&1===a.length&&(this.capsTooltip=!!(t&&a>="a"&&a<="z"||!t&&a>="A"&&a<="Z")),"CapsLock"===a&&!0===this.capsTooltip&&(this.capsTooltip=!1)},goBack:function(){this.$router.go(-1)}}},Qa=Ja,Za=Object(s["a"])(Qa,Wa,Ya,!1,null,"36cd9d06",null),Ha=Za.exports,Xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加用户")])],1)],1),this.ruleFormValue.contactName?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"box"},[e._v("装货...")]),this.ruleFormValue.contactName?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"box"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"登录名：",prop:"userId"}},[a("el-input",{attrs:{placeholder:"例: admin"},model:{value:e.ruleFormValue.userId,callback:function(t){e.$set(e.ruleFormValue,"userId",t)},expression:"ruleFormValue.userId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"名称：",prop:"contactName"}},[a("el-input",{attrs:{placeholder:"例: 管理员"},model:{value:e.ruleFormValue.contactName,callback:function(t){e.$set(e.ruleFormValue,"contactName",t)},expression:"ruleFormValue.contactName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"角色：",prop:"userType"}},[2===e.loggedinUserType?a("el-select",{staticClass:"w-100",attrs:{disabled:""},model:{value:e.ruleFormValue.userType,callback:function(t){e.$set(e.ruleFormValue,"userType",t)},expression:"ruleFormValue.userType"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):a("el-select",{staticClass:"w-100",model:{value:e.ruleFormValue.userType,callback:function(t){e.$set(e.ruleFormValue,"userType",t)},expression:"ruleFormValue.userType"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"密码：",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.ruleFormValue.password,callback:function(t){e.$set(e.ruleFormValue,"password",t)},expression:"ruleFormValue.password"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系人：",prop:"contactPerson"}},[a("el-input",{model:{value:e.ruleFormValue.contactPerson,callback:function(t){e.$set(e.ruleFormValue,"contactPerson",t)},expression:"ruleFormValue.contactPerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系方式：",prop:"contactWay"}},[a("el-input",{model:{value:e.ruleFormValue.contactWay,callback:function(t){e.$set(e.ruleFormValue,"contactWay",t)},expression:"ruleFormValue.contactWay"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"统一社会信用代码：",prop:"creditCode"}},[a("el-input",{model:{value:e.ruleFormValue.creditCode,callback:function(t){e.$set(e.ruleFormValue,"creditCode",t)},expression:"ruleFormValue.creditCode"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1):e._e()])},Ka=[],eo={name:"editUser",data:function(){return{listLoading:!0,pageLoading:!1,ruleFormValue:{creditCode:"",contactName:"",contactPerson:"",contactWay:"",password:"",userId:"",userType:null},rules:{creditCode:[{required:!0,message:"请选择",trigger:"change"}],contactName:[{required:!0,message:"请选择",trigger:"change"}],contactPerson:[{required:!0,message:"请选择",trigger:"change"}],contactWay:[{required:!0,message:"请插入",trigger:"change"}],password:[{required:!0,message:"请选择",trigger:"change"}],userType:[{required:!0,message:"请选择",trigger:"change"}],userId:[{required:!0,message:"请选择",trigger:"change"}]},options:[{id:1,name:"市级管理员"},{id:2,name:"乡镇管理员"},{id:3,name:"普通用户"}],loggedinUserType:null}},created:function(){this.loggedinUserType=O().user().attrs.userType,2===this.loggedinUserType&&(this.ruleFormValue.userType=3),this.selectedId=this.$route.params.id,this.getData()},methods:{getData:function(){var e=this;D().get("/api/user/get/"+this.selectedId).then((function(t){e.ruleFormValue.contactName=t.contactName,e.ruleFormValue.contactPerson=t.contactPerson,e.ruleFormValue.contactWay=t.contactWay,e.ruleFormValue.creditCode=t.creditCode,e.ruleFormValue.userType=t.userType,e.ruleFormValue.userId=t.userId,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.pageLoading=!0,D().put("/api/user/update/"+t.selectedId,{contactName:t.ruleFormValue.contactName,contactPerson:t.ruleFormValue.contactPerson,contactWay:t.ruleFormValue.contactWay,createUserId:t.loggedinUserType,creditCode:t.ruleFormValue.creditCode,id:0,password:t.ruleFormValue.password,userId:t.ruleFormValue.userId,userType:t.ruleFormValue.userType}).then((function(e){setTimeout((function(){t.pageLoading=!1}),500),t.$router.push({path:"/userManagement"})})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},to=eo,ao=Object(s["a"])(to,Xa,Ka,!1,null,"42efca92",null),oo=ao.exports,ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改密码")])],1)],1),this.ruleFormValue.contactName?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"box"},[e._v("装货...")]),this.ruleFormValue.contactName?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"box"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"名称：",prop:"contactName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleFormValue.contactName,callback:function(t){e.$set(e.ruleFormValue,"contactName",t)},expression:"ruleFormValue.contactName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"登录名：",prop:"userId"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleFormValue.userId,callback:function(t){e.$set(e.ruleFormValue,"userId",t)},expression:"ruleFormValue.userId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tooltip",{attrs:{content:"CapsLock 在",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{label:"密码：",prop:"password"}},[a("el-input",{attrs:{type:"password"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.ruleFormValue.password,callback:function(t){e.$set(e.ruleFormValue,"password",t)},expression:"ruleFormValue.password"}})],1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1):e._e()])},lo=[],io={name:"addThreeProducts",data:function(){var e=function(e,t,a){t.length<6?a(new Error("密码不能少于6位数字")):a()};return{listLoading:!0,pageLoading:!1,ruleFormValue:{contactName:"",password:"",userId:""},capsTooltip:!1,oldPassword:"",rules:{contactName:[{required:!0,message:"请选择",trigger:"change"}],password:[{required:!0,trigger:"change",validator:e}],userId:[{required:!0,message:"请选择",trigger:"change"}]}}},created:function(){this.selectedId=this.$route.params.id,this.getData()},methods:{getData:function(){var e=this;D().get("/api/user/get/"+this.selectedId).then((function(t){e.ruleFormValue.contactName=t.contactName,e.ruleFormValue.userId=t.userId,e.oldPassword=t.password})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.pageLoading=!0,D().post("/api/user/changePassword?newPassword="+t.ruleFormValue.password+"&oldPassword="+t.oldPassword+"&userId="+t.ruleFormValue.userId).then((function(e){setTimeout((function(){t.pageLoading=!1}),500),t.$router.push({path:"/userManagement"})})).catch((function(e){}))}))},checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,a=e.key;a&&1===a.length&&(this.capsTooltip=!!(t&&a>="a"&&a<="z"||!t&&a>="A"&&a<="Z")),"CapsLock"===a&&!0===this.capsTooltip&&(this.capsTooltip=!1)},goBack:function(){this.$router.go(-1)}}},no=io,so=Object(s["a"])(no,ro,lo,!1,null,"1e9b5db6",null),co=so.exports,uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("生产标准")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:3}},[1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/productionStandard/create")}}},[e._v("添加生产标准")]):e._e()],1),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"select_label no-margin-left"},[e._v("产品名称")]),a("el-input",{staticClass:"w-80",on:{change:function(t){return e.getList()}},model:{value:e.productName,callback:function(t){e.productName=t},expression:"productName"}})],1),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"select_label"},[e._v("类别")]),a("el-select",{on:{change:function(t){return e.getList()}},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"100"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品"}}),a("el-table-column",{attrs:{prop:"category",label:"类别"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterCategory(a.category)))]}}])}),a("el-table-column",{attrs:{prop:"releaseTime",label:"发布时间","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.releaseTime)))]}}])}),a("el-table-column",{attrs:{prop:"releasePerson",label:"发布者"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[1!==e.loggedinUserType?a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/productionStandard/detail/"+o.id})}}},[e._v("查看")]):e._e(),1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.$router.push({path:"/productionStandard/edit/"+o.id})}}},[e._v("修改")]):e._e()]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},po=[],mo={name:"productStandard",components:{Pagination:we},data:function(){return{releaseTimeFrom:"",releaseTimeTo:"",page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],productName:"",category:0,loggedinUserType:null,options:[{id:0,name:"全部"},{id:1,name:"畜牧业"},{id:2,name:"水产业"},{id:3,name:"养殖业"}]}},created:function(){this.getList(),this.loggedinUserType=O().user().attrs.userType},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/production_standard/all",{category:this.category,productName:this.productName,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},filterCategory:function(e){var t=this.options.find((function(t){return t.id===parseInt(e)}));return t?t.name:""}}},fo=mo,go=Object(s["a"])(fo,uo,po,!1,null,"446e502e",null),ho=go.exports,bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产标准")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"产品名称：",prop:"productId"}},[a("el-select",{staticClass:"w-100",attrs:{loading:e.selloading},model:{value:e.ruleFormValue.productId,callback:function(t){e.$set(e.ruleFormValue,"productId",t)},expression:"ruleFormValue.productId"}},e._l(e.productionList,(function(e){return a("el-option",{key:e.productId,attrs:{label:e.productName,value:e.productId}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"类别：",prop:"category"}},[a("el-select",{staticClass:"w-80",model:{value:e.ruleFormValue.category,callback:function(t){e.$set(e.ruleFormValue,"category",t)},expression:"ruleFormValue.category"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"发布日期：",prop:"releaseTime"}},[a("el-date-picker",{staticClass:"w-100",attrs:{align:"right",type:"date",placeholder:"开始日期"},model:{value:e.ruleFormValue.releaseTime,callback:function(t){e.$set(e.ruleFormValue,"releaseTime",t)},expression:"ruleFormValue.releaseTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发布者：",prop:"releasePerson"}},[a("el-input",{staticClass:"w-80",model:{value:e.ruleFormValue.releasePerson,callback:function(t){e.$set(e.ruleFormValue,"releasePerson",t)},expression:"ruleFormValue.releasePerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"生产标准：",prop:"productionStandard"}},[a("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.ruleFormValue.productionStandard,callback:function(t){e.$set(e.ruleFormValue,"productionStandard",t)},expression:"ruleFormValue.productionStandard"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("div",{staticClass:"item-value",staticStyle:{"margin-left":"10px",display:"flex","align-items":"center","padding-bottom":"20px"}},[e.file?a("span",[e._v("("+e._s(e.file.name)+")")]):a("span",[e._v("请选择需要上传的文件...")])])])])],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},vo=[],yo={name:"addProductionStandard",data:function(){return{file:null,productionList:[],selloading:!1,pageLoading:!1,options:[{id:1,name:"畜牧业"},{id:2,name:"水产业"},{id:3,name:"养殖业"}],ruleFormValue:{productId:null,category:null,releaseTime:"",releasePerson:"",productionStandard:""},rules:{productId:[{required:!0,message:"请选择",trigger:"change"}],category:[{required:!0,message:"请选择"}],releaseTime:[{required:!0,message:"请选择"}],releasePerson:[{required:!0,message:"请插入"}],productionStandard:[{required:!0,message:"请选择"}]}}},created:function(){this.getProduction()},methods:{getProduction:function(){var e=this;this.selloading=!0,D().get("/api/product_production/all").then((function(t){e.productionList=t.data,setTimeout((function(){e.selloading=!1}),500)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.pageLoading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/production_standard/create",a).then((function(e){setTimeout((function(){t.pageLoading=!1}),500),t.$router.push({path:"/productionStandard"})})).catch((function(e){console.log(e)}))}}))},makeFormData:function(){var e=new FormData;this.file&&e.append("file",this.file),e.append("id",0),e.append("productId",this.ruleFormValue.productId);var t=this.filterProduct(this.ruleFormValue.productId);return e.append("productName",t),this.ruleFormValue.releaseTime=new Date(this.ruleFormValue.releaseTime).toDateString("YYYY-MM-DD"),e.append("category",this.ruleFormValue.category),e.append("releaseTime",this.ruleFormValue.releaseTime),e.append("releasePerson",this.ruleFormValue.releasePerson),e.append("productStandard",this.ruleFormValue.productionStandard),e},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0]},filterProduct:function(e){var t=this.productionList.find((function(t){return t.productId===e}));return t?t.productName:""}}},_o=yo,wo=Object(s["a"])(_o,bo,vo,!1,null,null,null),ko=wo.exports,xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产标准")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("详情")])],1)],1),e.listLoading?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"box"},[e._v("装货...")]):e._e(),e.listLoading?e._e():a("div",{staticClass:"box"},[a("el-form",{ref:"ruleForm",attrs:{"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"产品名称：",prop:"productId"}},[a("el-select",{staticClass:"w-100",attrs:{disabled:""},model:{value:e.data.productId,callback:function(t){e.$set(e.data,"productId",t)},expression:"data.productId"}},e._l(e.productionList,(function(e){return a("el-option",{key:e.productId,attrs:{label:e.productName,value:e.productId}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"类别：",prop:"category"}},[a("el-select",{staticClass:"w-80",attrs:{disabled:""},model:{value:e.data.category,callback:function(t){e.$set(e.data,"category",t)},expression:"data.category"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"发布日期：",prop:"createTime",disabled:""}},[a("el-date-picker",{staticClass:"w-100",attrs:{align:"right",type:"date",placeholder:"开始日期",disabled:""},model:{value:e.data.releaseTime,callback:function(t){e.$set(e.data,"releaseTime",t)},expression:"data.releaseTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发布者：",prop:"releasePerson"}},[a("el-input",{staticClass:"w-80",attrs:{disabled:""},model:{value:e.data.releasePerson,callback:function(t){e.$set(e.data,"releasePerson",t)},expression:"data.releasePerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"生产标准：",prop:"productionStandard"}},[a("el-input",{attrs:{type:"textarea",rows:"5",disabled:""},model:{value:e.data.productStandard,callback:function(t){e.$set(e.data,"productStandard",t)},expression:"data.productStandard"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"warning",plain:"",disabled:!e.data.productionStandardProfiles},on:{click:function(t){return e.downloadFile()}}},[e._v("附件下载")]),e.data.productionStandardProfiles?a("span",{staticClass:"margin-left-20"},[e._v(e._s(e.data.productionStandardProfiles.replace("/uploads/","")))]):a("span",{staticClass:"margin-left-20"},[e._v("没有数据")])],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)],1)],1)])},Co=[],So={name:"detailProdcutionStandard",data:function(){return{file:null,listLoading:!1,productionList:[],data:[],options:[{id:"1",name:"畜牧业"},{id:"2",name:"水产业"},{id:"3",name:"养殖业"}]}},created:function(){this.getProduction(),this.getData(this.$route.params.id)},methods:{getProduction:function(){var e=this;D().get("/api/product_production/all").then((function(t){e.productionList=t.data})).catch((function(e){console.log(e)}))},getData:function(e){var t=this;this.listLoading=!0,D().get("/api/production_standard/get/"+e).then((function(e){t.data=e,setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.data.productionStandardProfiles,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.data.productionStandardProfiles.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},Io=So,Fo=Object(s["a"])(Io,xo,Co,!1,null,null,null),To=Fo.exports,$o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产标准")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改生产标准")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],ref:"dataFormRef",attrs:{model:e.dataForm,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"产品名称：",prop:"productId"}},[a("el-select",{staticClass:"w-100",model:{value:e.dataForm.productId,callback:function(t){e.$set(e.dataForm,"productId",t)},expression:"dataForm.productId"}},e._l(e.productionList,(function(e){return a("el-option",{key:e.productId,attrs:{label:e.productName,value:e.productId}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"类别：",prop:"category"}},[a("el-select",{staticClass:"w-80",model:{value:e.dataForm.category,callback:function(t){e.$set(e.dataForm,"category",t)},expression:"dataForm.category"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"发布日期：",prop:"createTime"}},[a("el-date-picker",{staticClass:"w-100",attrs:{align:"right",type:"date",placeholder:"开始日期"},model:{value:e.dataForm.releaseTime,callback:function(t){e.$set(e.dataForm,"releaseTime",t)},expression:"dataForm.releaseTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发布者：",prop:"releasePerson"}},[a("el-input",{staticClass:"w-80",model:{value:e.dataForm.releasePerson,callback:function(t){e.$set(e.dataForm,"releasePerson",t)},expression:"dataForm.releasePerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"生产标准：",prop:"productStandard"}},[a("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.dataForm.productStandard,callback:function(t){e.$set(e.dataForm,"productStandard",t)},expression:"dataForm.productStandard"}})],1)],1)],1),a("el-form-item",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),e.dataForm.productionStandardProfiles?a("el-link",{staticClass:"margin-left-20",on:{click:function(t){return e.downloadFile()}}},[e._v(e._s(e.dataForm.productionStandardProfiles.replace("/uploads/","")))]):a("span",{staticClass:"margin-left-20"},[e._v("没有数据")])],1)])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("dataFormRef")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},Vo=[],Lo={name:"editProdcutionStandard",data:function(){return{file:null,productionList:[],pageLoading:!1,options:[{id:"1",name:"畜牧业"},{id:"2",name:"水产业"},{id:"3",name:"养殖业"}],dataForm:null,rules:{productId:[{required:!0,message:"请选择",trigger:"change"}],category:[{required:!0,message:"请选择"}],releaseTime:[{required:!0,message:"请选择"}],releasePerson:[{required:!0,message:"请插入"}],productStandard:[{required:!0,message:"请插入"}]}}},created:function(){this.getData(this.$route.params.id),this.getProduction()},methods:{getProduction:function(){var e=this;D().get("/api/product_production/all").then((function(t){e.productionList=t.data})).catch((function(e){console.log(e)}))},getData:function(e){var t=this;this.pageLoading=!0,D().get("/api/production_standard/get/"+e).then((function(e){t.dataForm=e,setTimeout((function(){t.pageLoading=!1}),500)})).catch((function(e){console.log(e)}))},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.dataForm.productionStandardProfiles,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.dataForm.productionStandardProfiles.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.pageLoading=!0;var a=new FormData;a=t.makeFormData(),D().put("/api/production_standard/update/"+t.dataForm.id,a).then((function(e){setTimeout((function(){t.pageLoading=!1}),500),t.$router.push({path:"/productionStandard"})})).catch((function(e){console.log(e)}))}}))},makeFormData:function(){var e=new FormData;this.file&&e.append("file",this.file),e.append("id",this.$route.params.id),e.append("productId",this.dataForm.productId);var t=this.filterProduct(this.dataForm.productId);return e.append("productName",t),e.append("category",this.dataForm.category),this.dataForm.releaseTime=new Date(this.dataForm.releaseTime).toDateString("YYYY-MM-DD"),e.append("releaseTime",this.dataForm.releaseTime),e.append("releasePerson",this.dataForm.releasePerson),e.append("productStandard",this.dataForm.productStandard),e.append("productionStandardProfiles",this.dataForm.productionStandardProfiles),e},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.dataForm.productionStandardProfiles="/uploads/"+this.file.name},filterProduct:function(e){var t=this.productionList.find((function(t){return t.productId===e}));return t?t.productName:""}}},No=Lo,Do=Object(s["a"])(No,$o,Vo,!1,null,null,null),Po=Do.exports,jo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("共享文件")])],1)],1),a("div",{staticClass:"box"},[1===e.loggedinUserType||0===e.loggedinUserType?a("div",{staticClass:"iptBox"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/shareFiles/create")}}},[e._v("新建文件夹")])],1)],1)],1):e._e(),a("el-container",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 你确定你要删除?")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:e.handleDelete}},[e._v("确认")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"100"}}),a("el-table-column",{attrs:{prop:"fileName",label:"文件名","class-name":"text-center"}}),a("el-table-column",{attrs:{prop:"title",label:"修改时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.createTime)))]}}])}),a("el-table-column",{attrs:{prop:"creater",label:"创建者"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/shareFiles/detail/"+o.id})}}},[e._v("查看")]),1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/shareFiles/edit/"+o.id,query:{id:o.id}})}}},[e._v("修改")]):e._e(),1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.confirmDelete(o.id)}}},[e._v("删除")]):e._e()]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Uo=[],zo={name:"workTask",components:{Pagination:we},data:function(){return{releaseTimeFrom:"",releaseTimeTo:"",page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],loggedinUserType:null,dialogVisible:!1,selectedId:null}},created:function(){this.getList(),this.loggedinUserType=O().user().attrs.userType},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/shareFiles/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},confirmDelete:function(e){this.dialogVisible=!0,this.selectedId=e},handleDelete:function(){var e=this;this.dialogVisible=!1,this.listLoading=!0,D().delete("/api/shareFiles/delete/"+this.selectedId).then((function(t){e.listLoading=!1,e.getList()})).catch((function(e){console.log(e)}))}}},Ao=zo,Ro=Object(s["a"])(Ao,jo,Uo,!1,null,"0dedd90c",null),Oo=Ro.exports,qo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("共享文件")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("新建文件夹")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"文件夹名称",prop:"fileName"}},[a("el-input",{model:{value:e.ruleFormValue.fileName,callback:function(t){e.$set(e.ruleFormValue,"fileName",t)},expression:"ruleFormValue.fileName"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"创建者",prop:"creater"}},[a("el-input",{model:{value:e.ruleFormValue.creater,callback:function(t){e.$set(e.ruleFormValue,"creater",t)},expression:"ruleFormValue.creater"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否可见",prop:"isVisible"}},[a("el-select",{staticClass:"w-100",model:{value:e.ruleFormValue.isVisible,callback:function(t){e.$set(e.ruleFormValue,"isVisible",t)},expression:"ruleFormValue.isVisible"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},Eo=[],Bo={name:"addSharedFiles",data:function(){return{listLoading:!1,userId:null,options:[{id:0,name:"不可见"},{id:2,name:"可见"}],ruleFormValue:{fileName:null,creater:null,isVisible:0},rules:{fileName:[{required:!0,message:"请插入",trigger:"change"}],creater:[{required:!0,message:"请插入"}],isVisible:[{required:!0,message:"请选择"}]}}},created:function(){this.userId=O().user().attrs.id},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.listLoading=!0;var a=new Date;D().post("/api/shareFiles/create",{createTime:a,createUserId:t.userId,creater:t.ruleFormValue.creater,fileName:t.ruleFormValue.fileName,id:0,isVisible:t.ruleFormValue.isVisible,updateTime:a,updateUserId:0}).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/shareFiles"})})).catch((function(e){console.log(e)}))}}))}}},Go=Bo,Mo=Object(s["a"])(Go,qo,Eo,!1,null,null,null),Wo=Mo.exports,Yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("共享文件")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改文件夹")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"文件夹名称",prop:"fileName"}},[a("el-input",{model:{value:e.ruleFormValue.fileName,callback:function(t){e.$set(e.ruleFormValue,"fileName",t)},expression:"ruleFormValue.fileName"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"创建者",prop:"creater"}},[a("el-input",{model:{value:e.ruleFormValue.creater,callback:function(t){e.$set(e.ruleFormValue,"creater",t)},expression:"ruleFormValue.creater"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否可见",prop:"isVisible"}},[a("el-select",{staticClass:"w-100",model:{value:e.ruleFormValue.isVisible,callback:function(t){e.$set(e.ruleFormValue,"isVisible",t)},expression:"ruleFormValue.isVisible"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},Jo=[],Qo={name:"addSharedFiles",data:function(){return{listLoading:!1,userId:null,id:null,options:[{id:0,name:"不可见"},{id:2,name:"可见"}],ruleFormValue:{fileName:null,creater:null,isVisible:0},rules:{fileName:[{required:!0,message:"请插入",trigger:"change"}],creater:[{required:!0,message:"请插入"}],isVisible:[{required:!0,message:"请选择"}]}}},created:function(){this.userId=O().user().attrs.id,this.id=this.$route.params.id,this.getData()},methods:{getData:function(){var e=this;this.listLoading=!0,D().get("/api/shareFiles/get/"+this.id).then((function(t){e.ruleFormValue.fileName=t.fileName,e.ruleFormValue.creater=t.creater,e.ruleFormValue.isVisible=t.isVisible,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.listLoading=!0;var a=new Date;D().put("/api/shareFiles/update/"+t.id,{creater:t.ruleFormValue.creater,fileName:t.ruleFormValue.fileName,id:0,isVisible:t.ruleFormValue.isVisible,updateTime:a,updateUserId:t.userId}).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/shareFiles"})})).catch((function(e){console.log(e)}))}}))}}},Zo=Qo,Ho=Object(s["a"])(Zo,Yo,Jo,!1,null,null,null),Xo=Ho.exports,Ko=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("共享文件")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("会议文件")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-row",{staticClass:"w-100"},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.openDialog=!0}}},[e._v("上传文件")]),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-col",{staticClass:"margin-left-20 flex-center",attrs:{span:5}},[a("div",[e._v("搜索")]),a("el-input",{staticClass:"w-80 margin-left-10",model:{value:e.uploadCompany,callback:function(t){e.uploadCompany=t},expression:"uploadCompany"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.getList()}}},[e._v("搜索")])],1)],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 你确定你要删除?")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:e.handleDelete}},[e._v("确认")])],1)]),a("el-dialog",{attrs:{visible:e.openDialog,width:"60%"},on:{"update:visible":function(t){e.openDialog=t}}},[a("el-row",[a("el-col",{staticClass:"margin-bottom-30 margin-left-30",attrs:{span:3}},[e._v("文件上传")])],1),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleFormValue,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"上传单位",prop:"uploadCompany"}},[a("el-input",{model:{value:e.ruleFormValue.uploadCompany,callback:function(t){e.$set(e.ruleFormValue,"uploadCompany",t)},expression:"ruleFormValue.uploadCompany"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"上传者",prop:"uploadPerson"}},[a("el-input",{model:{value:e.ruleFormValue.uploadPerson,callback:function(t){e.$set(e.ruleFormValue,"uploadPerson",t)},expression:"ruleFormValue.uploadPerson"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:15}},[a("div",{staticClass:"item margin-left-30",staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("div",{staticClass:"item-value",staticStyle:{"margin-left":"10px",display:"flex","align-items":"center","padding-bottom":"20px"}},[e.file?a("span",[e._v("("+e._s(e.file.name)+")")]):a("span",[e._v("请选择需要上传的文件...")])])])])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("添加")]),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){e.openDialog=!1}}},[e._v("取消")])],1)],1)],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"100"}}),a("el-table-column",{attrs:{prop:"uploadProfile",label:"文件名","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getFileName(a.uploadProfile)))]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"修改时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.createTime)))]}}])}),a("el-table-column",{attrs:{prop:"uploadCompany",label:"上传单位"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.downloadFile(o.uploadProfile)}}},[e._v("下载")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.confirmDelete(o.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},er=[],tr={name:"workTask",components:{Pagination:we},data:function(){return{openDialog:!1,dialogVisible:!1,uploadCompany:"",shareFilesId:null,selectedId:null,userId:null,page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],file:null,options:[{id:0,name:"不可见"},{id:2,name:"可见"}],ruleFormValue:{uploadCompany:null,uploadPerson:null},rules:{uploadCompany:[{required:!0,message:"请插入",trigger:"change"}],uploadPerson:[{required:!0,message:"请插入"}]}}},created:function(){this.shareFilesId=this.$route.params.id,this.getList(),this.userId=O().user().attrs.id},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/shareFilesRecord/all",{uploadCompany:this.uploadCompany,shareFilesId:this.shareFilesId,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.openDialog=!1,t.listLoading=!0;var a=new FormData,o=new Date;a.append("createTime",o),a.append("createUserId",t.userId),a.append("file",t.file),a.append("id",0),a.append("shareFilesId",t.shareFilesId),a.append("updateTime",o),a.append("updateUserId",0),a.append("uploadCompany",t.ruleFormValue.uploadCompany),a.append("uploadPerson",t.ruleFormValue.uploadPerson),a.append("uploadProfile",""),D().post("/api/shareFilesRecord/create",a).then((function(e){t.getList(),t.ruleFormValue.uploadCompany="",t.ruleFormValue.uploadPerson=""})).catch((function(e){console.log(e)}))}}))},getFileName:function(e){return e?e.replace("/uploads/",""):""},handleDelete:function(){var e=this;this.dialogVisible=!1,this.listLoading=!0,D().delete("/api/shareFilesRecord/delete/"+this.selectedId).then((function(t){setTimeout((function(){e.listLoading=!1}),500),e.getList()})).catch((function(e){console.log(e)}))},downloadFile:function(e){console.log(e),S()({url:F.DOWNLOAD_URL()+e,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))},confirmDelete:function(e){this.dialogVisible=!0,this.selectedId=e},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}},ar=tr,or=Object(s["a"])(ar,Ko,er,!1,null,"fe754c50",null),rr=or.exports,lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("专项：绿色优质农产品生产基地")])],1)],1),a("div",{staticClass:"box"},[a("el-form",[a("div",{staticClass:"row year-select-panel"},[a("el-form-item",{attrs:{label:"年度"}},[a("el-select",{model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"cate-content-panel"},[a("div",{staticClass:"cate-item-panel"},[a("el-form-item",{attrs:{label:"巡查"}},[e._v("("+e._s(e.tableData.length)+")")]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"createTime",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.createTime)))]}}])}),a("el-table-column",{attrs:{prop:"township",label:"乡镇"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n                  "+e._s(e.filterTownship(a.townId))+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"inspector",label:"检查人"}}),a("el-table-column",{attrs:{prop:"unitinspec",label:"检查单位"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n                  "+e._s(e.filterCompanyName(a.companyId))+"\n                ")]}}])})],1)],1)],1),a("div",{staticClass:"cate-item-panel"},[a("el-form-item",{attrs:{label:"检测"}}),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.detectTableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"日期"}}),a("el-table-column",{attrs:{label:"项目"}}),a("el-table-column",{attrs:{label:"样品"}}),a("el-table-column",{attrs:{label:"结果"}})],1)],1)],1),a("div",{staticClass:"cate-item-panel"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-form-item",{attrs:{label:"培训记录"}}),1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"danger",plain:""}},[e._v("删除")]):e._e(),2===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""}},[e._v("添加附件")]):e._e()],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.trainTableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"日期"}}),a("el-table-column",{attrs:{label:"乡镇"}}),a("el-table-column",{attrs:{label:"文件"}})],1)],1)],1)])])],1)])},ir=[],nr={name:"specialCategory",data:function(){return{loggedinUserType:null,total:0,tableData:[],trainTableData:[],detectTableData:[],options:[{value:"1",label:"2017"},{value:"2",label:"2018"}],listLoading:!0,companyList:[],companyId:0,township:[],value1:0}},created:function(){this.companyId=0,this.getList(),this.getTown(),this.loggedinUserType=O().user().attrs.userType},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/supervision_record/all",{companyId:this.companyId}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyList=e.companyList.concat(t)})).catch((function(e){console.log(e)}))},filterTownship:function(e){var t=this.township.find((function(t){return t.id===e}));return t?t.name:""},filterCompanyName:function(e){var t=this.township.find((function(t){return t.id===e}));return t?t.companyName:""},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a}}},sr=nr,cr=(a("cd02"),Object(s["a"])(sr,lr,ir,!1,null,null,null)),ur=cr.exports,dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived",attrs:{to:{path:"/"}}},[e._v("生产主体")])],1)],1),a("div",{staticClass:"box"},[a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"企业名称",width:"100"}}),a("el-table-column",{attrs:{prop:"classification",label:"法人代表",width:"100"}}),a("el-table-column",{attrs:{prop:"type",label:"企业地址"}}),a("el-table-column",{attrs:{prop:"bookNo",label:"联系人"}}),a("el-table-column",{attrs:{prop:"date",label:"联系方式","class-name":"text-center"}}),a("el-table-column",{attrs:{prop:"limitedPeriod",label:"所在乡镇","class-name":"text-center"}}),a("el-table-column",{attrs:{prop:"yield",label:"企业诚信"}}),a("el-table-column",{attrs:{prop:"yield",goProduct:"",label:"操作",width:"250","class-name":"text-center"}},[[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",type:"success"},on:{click:function(t){return e.goEdit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"主营产品",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-warning-outline",circle:"",plain:"",type:"warning"},on:{click:function(t){return e.goProduct()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"仓储环境",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-office-building",circle:"",plain:"",type:"primary"},on:{click:function(t){return e.goStorage()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",plain:"",type:"danger"}})],1)]],2)],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},pr=[],mr={components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:10},total:0,options:[{value:"全部",label:""}],tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},goEdit:function(){this.$router.push({path:"/cp_editProduction"})},goProduct:function(){this.$router.push({path:"/cp_businessProducts"})}}},fr=mr,gr=Object(s["a"])(fr,dr,pr,!1,null,"7fdf1af1",null),hr=gr.exports,br=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("修改")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"对象类型"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"乡镇"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"行业"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("div",{staticClass:"formBox"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{"line-height":"40px"}},[e._v("种植")])]),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{"line-height":"40px"}},[e._v("水产品")])]),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"池塘面积"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{"line-height":"40px"}},[e._v("畜产品")])]),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"养殖规模"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{"line-height":"40px"}},[e._v("禽产品")])]),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"养殖规模"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"三品认证"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"社会信用统一代码","label-width":"150px"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"企业荣誉"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"是否监管"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("是")]),a("el-radio",{attrs:{label:"2"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("否")])],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""}},[e._v("取消")])],1)],1)],1)])},vr=[],yr={data:function(){return{form:{name:"",radio:"1"}}}},_r=yr,wr=(a("6b55"),Object(s["a"])(_r,br,vr,!1,null,"2c85021e",null)),kr=wr.exports,xr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.goAdd()}}},[e._v("添加")])],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"classification",label:"是否有机"}}),a("el-table-column",{attrs:{prop:"classification",label:"单价"}}),a("el-table-column",{attrs:{prop:"type",label:"产地"}}),a("el-table-column",{attrs:{prop:"bookNo",label:"品种"}}),a("el-table-column",{attrs:{prop:"date",label:"规格"}}),a("el-table-column",{attrs:{prop:"date",label:"评级"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"}},[[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"产品批次",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",type:"success"},on:{click:function(t){return e.goProductBatch()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"作业定义",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-warning-outline",circle:"",plain:"",type:"primary"},on:{click:function(t){return e.goJobDefinition()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"品种定义",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-office-building",circle:"",plain:"",type:"warning"},on:{click:function(t){return e.goVarietyDefinition()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",type:"danger"},on:{click:function(t){return e.goEdit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"第三方抽检记录",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",plain:"",type:"info"},on:{click:function(t){return e.goThirdRecords()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"属性管理",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-warning-outline",circle:"",plain:"",type:"danger"},on:{click:function(t){return e.goAttributeManagement()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"定义等级",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-office-building",circle:"",plain:"",type:"success"},on:{click:function(t){return e.goDefinitionLevel()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"库存动态",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",plain:"",type:"danger"},on:{click:function(t){return e.gocInventoryDynamics()}}})],1)]],2)],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1)])},Cr=[],Sr={data:function(){return{page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},goProductBatch:function(){this.$router.push({path:"cp_productBatch"})},goJobDefinition:function(){this.$router.push({path:"cp_jobDefinition"})},goVarietyDefinition:function(){this.$router.push({path:"cp_varietyDefinition"})},goEdit:function(){this.$router.push({path:"cp_editProduct"})},goAdd:function(){this.$router.push({path:"cp_editProduct"})},goThirdRecords:function(){this.$router.push({path:"cp_thirdRecords"})},goAttributeManagement:function(){this.$router.push({path:"cp_attributeManagement"})},goDefinitionLevel:function(){this.$router.push({path:"cp_definitionLevel"})},gocInventoryDynamics:function(){this.$router.push({path:"cp_inventoryDynamics"})}}},Ir=Sr,Fr=Object(s["a"])(Ir,xr,Cr,!1,null,"3a4aa432",null),Tr=Fr.exports,$r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("产品批次")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{plain:"",type:"primary"}},[e._v("添加")])],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"批次名称"}}),a("el-table-column",{attrs:{prop:"classification",label:"批次号"}}),a("el-table-column",{attrs:{prop:"classification",label:"作业"}}),a("el-table-column",{attrs:{prop:"type",label:"销售"}}),a("el-table-column",{attrs:{prop:"bookNo",label:"属性名称"}}),a("el-table-column",{attrs:{prop:"date",label:"检查报告"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"}},[[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",type:"warn"},on:{click:function(t){return e.goEdit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"作业",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-warning-outline",circle:"",plain:"",type:"danger"},on:{click:function(t){return e.goProduct()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上传检测报告",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-office-building",circle:"",plain:"",type:"info"},on:{click:function(t){return e.goStorage()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"属性",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",type:"primary"},on:{click:function(t){return e.goEdit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"销售",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",plain:"",type:"danger"}})],1)]],2)],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1)])},Vr=[],Lr={data:function(){return{page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},goAdd:function(){this.$router.push({path:"addThreeProducts"})}}},Nr=Lr,Dr=Object(s["a"])(Nr,$r,Vr,!1,null,"582a79a0",null),Pr=Dr.exports,jr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("作业定义")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{staticStyle:{"margin-right":"25px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.add()}}},[e._v("添加")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"作业名称"}}),a("el-table-column",{attrs:{prop:"classification",label:"作业类型"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"}},[[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",type:"warning",plain:""},on:{click:function(t){return e.edit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",type:"danger",plain:""}})],1)]],2)],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"活动名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"活动区域"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"添加图片"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary",plain:""}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},Ur=[],zr={data:function(){return{dialogTitle:"添加作业",dialogFormVisible:!1,page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],form:{name:""},tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},add:function(){var e=this;e.dialogFormVisible=!0},edit:function(){var e=this;e.dialogFormVisible=!0}}},Ar=zr,Rr=Object(s["a"])(Ar,jr,Ur,!1,null,"0d99860e",null),Or=Rr.exports,qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("修改")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单价"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"评级"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产地"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"规格"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"产品介绍"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"是否有机"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("是")]),a("el-radio",{attrs:{label:"2"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("否")])],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""}},[e._v("取消")])],1)],1)],1)])},Er=[],Br={data:function(){return{form:{name:"",radio:"1"}}}},Gr=Br,Mr=(a("0cdc"),Object(s["a"])(Gr,qr,Er,!1,null,"52a148bb",null)),Wr=Mr.exports,Yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("第三方抽检记录")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"日期"}}),a("el-table-column",{attrs:{prop:"classification",label:"样品"}}),a("el-table-column",{attrs:{prop:"classification",label:"检测项目"}}),a("el-table-column",{attrs:{prop:"type",label:"检测结果"}}),a("el-table-column",{attrs:{prop:"bookNo",label:"判定"}}),a("el-table-column",{attrs:{prop:"date",label:"检测标准"}}),a("el-table-column",{attrs:{prop:"date",label:"检测机构"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"}},[[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",type:"warning"},on:{click:function(t){return e.edit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",plain:"",type:"danger"}})],1)]],2)],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"样品"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"检测项目"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"检测结果"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"判定"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"检测标准"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"检测机构"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},Jr=[],Qr={data:function(){return{dialogTitle:"添加第三方抽检记录",dialogFormVisible:!1,form:{name:""},page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},add:function(){var e=this;e.dialogFormVisible=!0},edit:function(){var e=this;e.dialogFormVisible=!0}}},Zr=Qr,Hr=Object(s["a"])(Zr,Yr,Jr,!1,null,"1ec574f8",null),Xr=Hr.exports,Kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("属性管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{staticStyle:{"margin-right":"25px"},attrs:{plain:"",type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"属性名称"}}),a("el-table-column",{attrs:{prop:"classification",label:"选项排序"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"}},[[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",type:"warning"},on:{click:function(t){return e.edit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",plain:"",type:"danger"}})],1)]],2)],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"属性名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"属性可选项"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"属性排序"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},el=[],tl={data:function(){return{dialogTitle:"添加属性",dialogFormVisible:!1,page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],form:{name:""},tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},add:function(){var e=this;e.dialogFormVisible=!0},edit:function(){var e=this;e.dialogFormVisible=!0}}},al=tl,ol=Object(s["a"])(al,Kr,el,!1,null,"27ae3fa5",null),rl=ol.exports,ll=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("定义等级")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{staticStyle:{"margin-right":"25px"},attrs:{plain:"",type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"等级名称"}}),a("el-table-column",{attrs:{prop:"classification",label:"等级排序"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"}},[[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",type:"warn"},on:{click:function(t){return e.edit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",plain:"",type:"danger"}})],1)]],2)],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"等级名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"等级排序"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},il=[],nl={data:function(){return{dialogTitle:"添加等级",dialogFormVisible:!1,page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],form:{name:""},tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},add:function(){var e=this;e.dialogFormVisible=!0},edit:function(){var e=this;e.dialogFormVisible=!0}}},sl=nl,cl=Object(s["a"])(sl,ll,il,!1,null,"45e69895",null),ul=cl.exports,dl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("库存动态")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{staticStyle:{"margin-right":"25px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.add()}}},[e._v("添加")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-container",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"classification",label:"所在仓库"}}),a("el-table-column",{attrs:{prop:"classification",label:"储存数量"}}),a("el-table-column",{attrs:{prop:"classification",label:"品种"}}),a("el-table-column",{attrs:{prop:"classification",label:"评级"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"}},[[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-edit",circle:"",type:"primary",plain:""},on:{click:function(t){return e.edit()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{icon:"el-icon-close",circle:"",type:"danger",plain:""}})],1)]],2)],1)],1),a("div",{staticClass:"pageBox"},[e.total>e.page.pageSize?a("el-pagination",{attrs:{"current-page":e.page.pageIndex,"page-sizes":[10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"仓库地址"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"储存数量"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"评级"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},pl=[],ml={data:function(){return{dialogTitle:"添加作业",dialogFormVisible:!1,page:{pageIndex:1,pageSize:10},total:100,options:[{value:"全部",label:""}],form:{name:""},tableData:[{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"},{name:"产品",classification:"分类",type:"认证类型",bookNo:"123456",date:"2018-09-01至2020-05-01",limitedPeriod:"1年",yield:"600"}]}},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleSizeChange:function(e){var t=this;t.page.pageSize=e,t.fullPage(1)},handleCurrentChange:function(e){var t=this;t.page.pageIndex=e,t.fullPage(1)},add:function(){var e=this;e.dialogFormVisible=!0},edit:function(){var e=this;e.dialogFormVisible=!0}}},fl=ml,gl=Object(s["a"])(fl,dl,pl,!1,null,"52085eb0",null),hl=gl.exports,bl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("信用评级")])],1)],1),a("div",{staticClass:"box"},[3!==e.loggedinUserType?a("div",{staticClass:"iptBox"},[a("div",{staticClass:"select_label no-margin-left"},[e._v("乡镇")]),a("el-select",{attrs:{placeholder:""},on:{change:e.getList},model:{value:e.currTown,callback:function(t){e.currTown=t},expression:"currTown"}},e._l(e.township,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("div",{staticClass:"select_label"},[e._v("状态")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getList},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.appStatus,(function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),1),a("div",{staticClass:"select_label"},[a("el-button",{attrs:{disabled:"",type:"primary",plain:""}},[e._v("同步数据")])],1)],1):e._e(),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:"","row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{label:"名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.filterCompnay(a.creditCode))+"\n          ")]}}])}),a("el-table-column",{attrs:{label:"原信用评级"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.getGradeString(a.originalGrade))+"\n          ")]}}])}),a("el-table-column",{attrs:{label:"现信用评级"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.getGradeString(a.nowGrade))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"gradeTime",label:"评级时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e._f("formatDate")(a.gradeTime))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"creditAvailableStart",label:"评级有效期"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e._f("formatDate")(a.creditAvailableStart))+"至"+e._s(e._f("formatDate")(a.creditAvailableEnd))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"gradeUnit",label:"评级单位"}}),a("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e.getStatus(a.approvalStatus))+"\n          ")]}}])}),3!==e.loggedinUserType?a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[2===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){e.$router.push({path:"/creditRating/edit/"+o.creditGradeId,query:{company:e.filterCompnay(o.creditCode)}})}}},[e._v("修改评级")]):e._e()]}}],null,!1,172719107)}):e._e()],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},vl=[],yl={name:"creditRating",components:{Pagination:we},data:function(){return{township:[{id:0,name:"全部"}],currTown:0,appStatus:["全部","待审批","已同意","已拒绝"],status:0,page:{pageIndex:1,pageSize:20},companyProduction:[],listLoading:!0,total:100,tableData:[],loggedinUserType:null}},created:function(){this.getTown(),this.getList(),this.getCompanyProduction(),this.loggedinUserType=O().user().attrs.userType},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=t})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},getList:function(){var e=this;this.listLoading=!0,D().get("/api/company_credit_grade/all",{approvalStatus:this.status-1,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,townId:this.currTown}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getStatus:function(e){var t=parseInt(e);return this.appStatus[t+1]},filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.creditCode===e}));return t?t.companyName:""},getGradeString:function(e){var t="";switch(e){case"A":t="A级（守信）";break;case"B":t="B级（基本守信）";break;case"C":t="C级（失信）";break;default:t="A级（守信）"}return t},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},_l=yl,wl=Object(s["a"])(_l,bl,vl,!1,null,null,null),kl=wl.exports,xl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改评级")])],1)],1),a("div",{staticClass:"box"},[e.data?[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("状态")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.allStatus[e.data.approvalStatus]))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("评级时间")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.gradeTime))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("名称")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.companyName))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("原信用评级")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.options[e.grades.indexOf(e.data.originalGrade)]))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("现信用评级")]),a("div",{staticClass:"item-value"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.data.nowGrade,callback:function(t){e.$set(e.data,"nowGrade",t)},expression:"data.nowGrade"}},e._l(e.options,(function(t,o){return a("el-option",{key:t,attrs:{label:t,value:e.grades[o]}})})),1)],1)])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("评级单位")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.gradeUnit))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),e.file?e._e():a("div",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n              "+e._s(e.data.uploadFileName.replace("/uploads/",""))+"\n            ")])],1),e.file?a("div",{staticClass:"item-value"},[e._v("("+e._s(e.file.name)+")")]):e._e()])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.saveChanges()}}},[e._v("保存修改")])],1),a("div",{staticClass:"item-value"},[a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)])])]:e._e(),e.data?e._e():[e._v("装货...")]],2)])},Cl=[],Sl={name:"EditRating",data:function(){return{id:-1,file:null,pageName:this.$route.name,data:null,grades:["A","B","C"],options:["A级（守信）","B级（基本守信）","C级（失信）"],allStatus:["待审批","已同意","已拒绝"],companyName:""}},created:function(){this.companyName=this.$route.query.company,this.id=this.$route.params.id,this.getData(this.$route.params.id)},methods:{getData:function(e){var t=this;D().get("/api/company_credit_grade/get/"+e).then((function(e){t.data=e})).catch((function(e){console.log(e)}))},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0]},saveChanges:function(e){var t=this,a=new FormData;a.append("updatedNowGrade",this.data.nowGrade),a.append("id",this.data.creditGradeId),this.file&&a.append("file",this.file),a.append("data",this.data),D().put("/api/company_credit_grade/update/"+this.data.creditGradeId,a).then((function(e){t.$router.push({path:"/creditRating"})})).catch((function(e){}))},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.data.uploadFileName,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.data.uploadFileName.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},Il=Sl,Fl=(a("3ef3"),Object(s["a"])(Il,xl,Cl,!1,null,"759cbdfb",null)),Tl=Fl.exports,$l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("经营主体")])],1)],1),a("div",{staticClass:"box"},[e.data?[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("状态")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.approvalStatus))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("评级时间")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.gradeTime))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("名称")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.approvalGrade))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("原信用评级")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.originalGrade))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("现信用评级")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.nowGrade))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("评级单位")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.gradeUnit))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[a("el-button",{attrs:{type:"warning",plain:"",variant:"outline-dark"}},[e._v("下载附件")])],1),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.creditCode))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("同意")])],1),a("div",{staticClass:"item-value"},[a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("拒绝")])],1)])])]:e._e(),e.data?e._e():[e._v("装货...")]],2)])},Vl=[],Ll=(a("20d6"),[{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"},{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"}]),Nl={name:"detailsRating",data:function(){return{id:-1,pageName:this.$route.name,datas:Ll,data:null}},created:function(){var e=this;this.id=this.$route.params.id;var t=this.datas.findIndex((function(t){return t.creditGradeId==e.id}));t>=0&&(this.data=this.datas[t])}},Dl=Nl,Pl=(a("a31a"),Object(s["a"])(Dl,$l,Vl,!1,null,"76fd742c",null)),jl=Pl.exports,Ul=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("企业信用档案")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"select_label"},[e._v("乡镇")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.getList()}},model:{value:e.currTown,callback:function(t){e.currTown=t},expression:"currTown"}},e._l(e.township,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("div",{staticClass:"select_label"},[e._v("类型")]),a("el-radio",{attrs:{label:"1"},on:{change:function(t){return e.getList(!0)}},model:{value:e.bTypes,callback:function(t){e.bTypes=t},expression:"bTypes"}},[e._v("企业")]),a("el-radio",{attrs:{label:"2"},on:{change:function(t){return e.getList(!0)}},model:{value:e.bTypes,callback:function(t){e.bTypes=t},expression:"bTypes"}},[e._v("农户")]),a("div",{staticClass:"select_label"},[e._v("行政许可")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.onSelectPubLicense},model:{value:e.public_license,callback:function(t){e.public_license=t},expression:"public_license"}},e._l(e.publicOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("div",{staticClass:"select_label"},[e._v("行政处罚")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.onSelectPubPunish},model:{value:e.public_punish,callback:function(t){e.public_punish=t},expression:"public_punish"}},e._l(e.publicOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),3!==e.loggedinUserType?a("div",{staticClass:"select_label"},[a("el-button",{attrs:{type:"outline-primary",disabled:""},on:{click:function(t){return e.getList()}}},[e._v("导入")])],1):e._e()],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:"","row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),2===e.loggedinUserType||0===e.loggedinUserType?a("el-table-column",{attrs:{label:"企业名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterCompnay(a.creditCode)))]}}],null,!1,742517849)}):e._e(),2!==e.loggedinUserType?a("el-table-column",{attrs:{label:"名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterCompnay(a.creditCode)))]}}],null,!1,742517849)}):e._e(),2===e.loggedinUserType||0===e.loggedinUserType?a("el-table-column",{attrs:{prop:"creditCode",label:"统一社会信用代码"}}):e._e(),2!==e.loggedinUserType?a("el-table-column",{attrs:{prop:"creditCode",label:"信用代码"}}):e._e(),a("el-table-column",{attrs:{prop:"public_license",label:"行政许可信息"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[o.public_license>0?a("el-button",{on:{click:function(t){return e.$router.push({path:"/corporateCreditFile/adminLicenseInfo",query:{creditCode:o.creditCode}})}}},[e._v("行政许可信息")]):a("el-button",{attrs:{disabled:""}},[e._v("     无     ")])]}}])}),a("el-table-column",{attrs:{prop:"public_punish",label:"行政处罚信息"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[o.public_punish>0?a("el-button",{on:{click:function(t){return e.$router.push({path:"/corporateCreditFile/adminPenaltyInfo",query:{creditCode:o.creditCode}})}}},[e._v("行政许可信息")]):a("el-button",{attrs:{disabled:""}},[e._v("     无     ")])]}}])}),a("el-table-column",{attrs:{label:"评级信息"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",{staticClass:"rating-action",on:{click:function(t){return e.$router.push({path:"/corporateCreditFile/ratingInfo",query:{creditCode:o.creditCode}})}}},[e._v(e._s(o.nowGrade))])]}}])}),a("el-table-column",{attrs:{label:"三品一标认证",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{on:{click:function(t){return e.$router.push({path:"/corporateCreditFile/threeProduction",query:{creditCode:o.creditCode}})}}},[e._v("三品一标")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},zl=[],Al={name:"creditRating",components:{Pagination:we},data:function(){return{township:[{id:0,name:"全部"}],publicOptions:[{id:0,name:"全部"},{id:1,name:"有"},{id:2,name:"无"}],currTown:0,public_license:0,public_punish:0,page:{pageIndex:1,pageSize:20},listLoading:!0,bTypes:0,status:0,total:0,tableData:[],companyProduction:[],gradData:[],loggedinUserType:null}},mounted:function(){this.getTown(),this.getList(),this.getCompanyProduction()},created:function(){this.loggedinUserType=O().user().attrs.userType},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},onSelectPubLicense:function(){this.getList()},onSelectPubPunish:function(){this.getList()},getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=t})).catch((function(e){console.log(e)}))},getTown:function(){var e=this;D().get("/api/town/all").then((function(t){e.township=e.township.concat(t)})).catch((function(e){console.log(e)}))},getList:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.listLoading=!0,D().get("/api/company_production/all",{companyType:this.bTypes,approvalStatus:this.status-1,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,townId:this.currTown}).then((function(t){var a=t.data;1==e.public_license?a=a.filter((function(e){return e.public_license>0})):2==e.public_license&&(a=a.filter((function(e){return 0==e.public_license}))),1==e.public_punish?a=a.filter((function(e){return e.public_punish>0})):2==e.public_punish&&(a=a.filter((function(e){return 0==e.public_punish}))),e.tableData=[];var o=0;a.map((function(a){var r="credit_grade_data_"+o;e.getNowGrade(t[r]).then((function(t){a.nowGrade=e.getGradeString(t),e.tableData.push(a),e.total=e.tableData.length})),o++})),e.total=e.tableData.length,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(t){console.log(t),e.tableData=[],e.srcData=[],e.total=0,setTimeout((function(){e.listLoading=!1}),500)}))},filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.creditCode===e}));return t?t.companyName:""},getNowGrade:function(){var e=Object(Q["a"])(regeneratorRuntime.mark((function e(t,a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="",o=a&&a.length?a.pop().nowGrade:"",e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),getGradeString:function(e){var t="";switch(e){case"A":t="A级（守信）";break;case"B":t="B级（基本守信）";break;case"C":t="C级（失信）";break;default:t="A级（守信）"}return t},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Rl=Al,Ol=(a("6ef0"),Object(s["a"])(Rl,Ul,zl,!1,null,"5a0e84b0",null)),ql=Ol.exports,El=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("行政处罚信息")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"select_label no-margin-left"},[e._v("稻米专业合作社")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:"","row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"docCode",label:"行政许可决定书文号",width:"250"}}),a("el-table-column",{attrs:{prop:"punishName",label:"处罚名称",width:"150"}}),a("el-table-column",{attrs:{prop:"addressCode!!!",label:"行政许可编码",width:"150"}}),a("el-table-column",{attrs:{prop:"punishTypeF",label:"处罚类别1",width:"150"}}),a("el-table-column",{attrs:{prop:"punishTypeS",label:"处罚类别2",width:"150"}}),a("el-table-column",{attrs:{prop:"punishReason",label:"处罚事由",width:"450"}}),a("el-table-column",{attrs:{prop:"punishFoundation",label:"处罚依据",width:"150"}}),a("el-table-column",{attrs:{prop:"punishObjectName",label:"行政相对人名称",width:"200"}}),a("el-table-column",{attrs:{prop:"creditCode",label:"统一社会信用代码",width:"200"}}),a("el-table-column",{attrs:{prop:"businessRegisterCode",label:"工商登记码",width:"150"}}),a("el-table-column",{attrs:{prop:"organizationCode",label:"组织机构代码",width:"150"}}),a("el-table-column",{attrs:{prop:"taxRegisterCode",label:"税务登记号",width:"150"}}),a("el-table-column",{attrs:{prop:"idCode",label:"居民身份证号",width:"150"}}),a("el-table-column",{attrs:{prop:"legalName",label:"法定代表人姓名",width:"200"}}),a("el-table-column",{attrs:{prop:"punishResult",label:"处罚结果",width:"150"}}),a("el-table-column",{attrs:{prop:"punishDate",label:"处罚决定日期",width:"150"}}),a("el-table-column",{attrs:{prop:"punishUnit",label:"处罚机关",width:"150"}}),a("el-table-column",{attrs:{prop:"status",label:"当前状态",width:"150"}}),a("el-table-column",{attrs:{prop:"addressCode",label:"地方编码",width:"150"}}),a("el-table-column",{attrs:{prop:"updateDate",label:"数据更新时间戳",width:"200"}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",width:"150"}}),a("el-table-column",{attrs:{prop:"informationScope",label:"信息使用范围",width:"150"}}),a("el-table-column",{attrs:{prop:"loseCreditGrade",label:"失信严重程度",width:"150"}}),a("el-table-column",{attrs:{prop:"publicExpireDate",label:"公示截止期",width:"150"}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Bl=[],Gl=[{creditGradeId:"1",creditCode:"ASSADAS...",approvalGrade:"稻米专业合作社",originalGrade:"B级（基本守信）",nowGrade:"A级（守信）",gradeTime:"2019-08-03 12:32:43",gradeUnit:"梅李镇农产品质量安全监管站",approvalStatus:"待审批"}],Ml={name:"adminPenaltyInfo",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:Gl,creditCode:-1}},created:function(){this.getList(),this.creditCode=this.$route.query.creditCode},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/public_punish/all",{creditCode:this.$route.query.creditCode,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Wl=Ml,Yl=(a("11fc"),Object(s["a"])(Wl,El,Bl,!1,null,"7e2f4b09",null)),Jl=Yl.exports,Ql=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("行政许可信息")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"select_label no-margin-left"},[e._v("稻米专业合作社")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:"","row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"docCode",label:"行政许可决定书文号",width:"250"}}),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称",width:"200"}}),a("el-table-column",{attrs:{prop:"licenseCode",label:"行政许可编码",width:"200"}}),a("el-table-column",{attrs:{prop:"approvalContent",label:"审查类别",width:"200"}}),a("el-table-column",{attrs:{prop:"permitContent",label:"许可内容",width:"200"}}),a("el-table-column",{attrs:{prop:"publishObjectName",label:"行政相对人名称",width:"200"}}),a("el-table-column",{attrs:{prop:"creditCode",label:"统一社会信用代码",width:"200"}}),a("el-table-column",{attrs:{prop:"organizationCode",label:"组织机构代码",width:"200"}}),a("el-table-column",{attrs:{prop:"businessRegisterCode",label:"工商登记码",width:"200"}}),a("el-table-column",{attrs:{prop:"taxRegisterCode",label:"税务登记号",width:"200"}}),a("el-table-column",{attrs:{prop:"idCode",label:"居民身份证号",width:"200"}}),a("el-table-column",{attrs:{prop:"legalName",label:"法定代表人姓名",width:"200"}}),a("el-table-column",{attrs:{prop:"punishDate",label:"许可决定日期",width:"200"}}),a("el-table-column",{attrs:{prop:"publicExpireDate",label:"许可截止期",width:"200"}}),a("el-table-column",{attrs:{prop:"punishUnit",label:"许可机关",width:"200"}}),a("el-table-column",{attrs:{prop:"status",label:"当前状态",width:"200"}}),a("el-table-column",{attrs:{prop:"addressCode",label:"地方编码",width:"200"}}),a("el-table-column",{attrs:{prop:"updateDate",label:"数据更新时间戳",width:"200"}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",width:"200"}}),a("el-table-column",{attrs:{prop:"informationScope",label:"信息使用范围",width:"200"}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Zl=[],Hl={name:"adminLicenseInfo",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:Gl,creditCode:-1}},created:function(){this.getList(),this.creditCode=this.$route.query.creditCode},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/public_license/all",{creditCode:this.$route.query.creditCode,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Xl=Hl,Kl=(a("653b"),Object(s["a"])(Xl,Ql,Zl,!1,null,"49e8f0cd",null)),ei=Kl.exports,ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("三品认证")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"select_label"},[e._v(e._s(e.getCompanyName()))]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:"","row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterProduct(a.productId)))]}}])}),a("el-table-column",{attrs:{prop:"certificationType",label:"分类",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.appStatus1[a.argriculturalClassification]))]}}])}),a("el-table-column",{attrs:{prop:"certificationCategory",label:"认证类型",width:""}}),a("el-table-column",{attrs:{prop:"certificationNo",label:"证书编号",width:""}}),a("el-table-column",{attrs:{label:"证书有效期",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getCertification(a.certificationStartTime,a.certificationEndTime)))]}}])}),a("el-table-column",{attrs:{label:"有效时间",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getPeriod(a.certificationStartTime,a.certificationEndTime)))]}}])}),a("el-table-column",{attrs:{prop:"output",label:"产量",width:""}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},ai=[],oi={name:"threeProduction",components:{Pagination:we},data:function(){return{companyData:[],page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],creditCode:-1,productName:"",productCategory:0,productDetail:[],appStatus1:["全部","养殖业","已同意","畜牧业","种植业"]}},created:function(){this.creditCode=this.$route.query.creditCode,this.getProductionDetail(),this.getCompanyProduction(),this.getList()},methods:{getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyData=t})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/quality_standard/all",{creditCode:this.$route.query.creditCode,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getProductionDetail:function(){var e=this;D().get("/api/product_production/name").then((function(t){e.productDetail=t})).catch((function(e){console.log(e)}))},filterProduct:function(e){var t=this.productDetail.find((function(t){return t.productId===e}));return t?t.productName:""},getCompanyName:function(){var e=this,t=this.companyData.find((function(t){return t.creditCode===e.$route.query.creditCode}));return t?t.companyName:""},getCertification:function(e,t){return e.substr(0,10)+"至"+t.substr(0,10)},getPeriod:function(e,t){var a=parseInt(e.substr(0,4)),o=parseInt(t.substr(0,4));return(o-a<=0?0:o-a)+"年"},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},ri=oi,li=(a("cc37"),Object(s["a"])(ri,ti,ai,!1,null,null,null)),ii=li.exports,ni=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("行政处罚信息")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"select_label"},[e._v(e._s(e.companyName))]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:"","row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"gradeTime",label:"评级时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.gradeTime)))]}}])}),a("el-table-column",{attrs:{prop:"creditAvailableStart",label:"评级有效期"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(e._f("formatDate")(a.creditAvailableStart))+"至"+e._s(e._f("formatDate")(a.creditAvailableEnd))+"\n          ")]}}])}),a("el-table-column",{attrs:{label:"单位名称"}},[[e._v(e._s(e.companyName))]],2),a("el-table-column",{attrs:{label:"评级"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getGradeString(a.nowGrade)))]}}])}),a("el-table-column",{attrs:{prop:"gradeUnit",label:"评级单位"}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},si=[],ci={name:"ratingInfo",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],creditCode:null,companyName:""}},created:function(){this.creditCode=this.$route.query.creditCode,this.getCompanyName(),this.getList()},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/company_credit_grade/all",{creditCode:this.creditCode,approvalStatus:-1,pageNo:0,pageSize:20,townId:0}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getCompanyName:function(){var e=this;D().get("/api/company_production/name",{creditCode:this.creditCode}).then((function(t){e.companyName=t[0].companyName})).catch((function(e){console.log(e)}))},getGradeString:function(e){var t="";switch(e){case"A":t="A级（守信）";break;case"B":t="B级（基本守信）";break;case"C":t="C级（失信）";break;default:t="A级（守信）"}return t},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},ui=ci,di=(a("767c"),Object(s["a"])(ui,ni,si,!1,null,"7f524223",null)),pi=di.exports,mi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"production-subject"}},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("监管对象")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[3!==e.loggedinUserType?a("div",{staticClass:"filter-item margin-bottom-20"},[a("div",{staticClass:"select_label no-margin-left"},[e._v("乡镇")]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},on:{change:e.getList},model:{value:e.townId,callback:function(t){e.townId=t},expression:"townId"}},[a("el-option",{attrs:{label:"全部",value:0}}),e._l(e.townList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],2)],1):e._e(),3!==e.loggedinUserType?a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label"},[e._v("类型")]),[a("el-radio",{attrs:{label:"1"},on:{change:e.getList},model:{value:e.companyType,callback:function(t){e.companyType=t},expression:"companyType"}},[e._v("企业")]),a("el-radio",{attrs:{label:"2"},on:{change:e.getList},model:{value:e.companyType,callback:function(t){e.companyType=t},expression:"companyType"}},[e._v("农户")])]],2):e._e(),3!==e.loggedinUserType?a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label"},[e._v("行业")]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},on:{change:e.filterList},model:{value:e.agriculturalClassification,callback:function(t){e.agriculturalClassification=t},expression:"agriculturalClassification"}},e._l([{value:0,label:"全部"},{value:1,label:"养殖业"},{value:2,label:"畜牧业"},{value:3,label:"种植业"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),3!==e.loggedinUserType?a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label"},[e._v("三品认证")]),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:e.filterList},model:{value:e.quality_standard,callback:function(t){e.quality_standard=t},expression:"quality_standard"}},e._l([{value:-1,label:"全部"},{value:1,label:"有"},{value:0,label:"无"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),3!==e.loggedinUserType?a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label"},[e._v("监管记录")]),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:e.filterList},model:{value:e.supervision_record,callback:function(t){e.supervision_record=t},expression:"supervision_record"}},e._l([{value:-1,label:"全部"},{value:1,label:"有"},{value:0,label:"无"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),3!==e.loggedinUserType?a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label"},[e._v("农业监测")]),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:e.filterList},model:{value:e.disability_check,callback:function(t){e.disability_check=t},expression:"disability_check"}},e._l([{value:-1,label:"全部"},{value:1,label:"有"},{value:0,label:"无"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),2===e.loggedinUserType||0===e.loggedinUserType?a("div",{staticClass:"filter-item"},[a("el-button",{staticClass:"margin-left-20",attrs:{type:"primary",plain:""},on:{click:function(t){return e.gotoAddRegulatoryObject()}}},[e._v("添加监管对象")])],1):e._e(),3!==e.loggedinUserType?a("div",{staticClass:"allCompany"},[e._v("共计"+e._s(e.total)+"家企业")]):e._e()]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"companyName",label:"企业名称",width:"100"}}),a("el-table-column",{attrs:{prop:"chargePerson",label:"法人代表",width:"150"}}),a("el-table-column",{attrs:{prop:"companyAddress",label:"企业地址"}}),3!==e.loggedinUserType?a("el-table-column",{attrs:{prop:"qualityStandardId",label:"三品认证",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.push({path:"/productionSubject/threeProduct",query:{creditCode:o.creditCode}})}}},[e._v("认证信息")])]}}],null,!1,1072417392)}):e._e(),3!==e.loggedinUserType?a("el-table-column",{attrs:{prop:"doSupervision",label:"监管记录",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{plain:"",type:"warning"},on:{click:function(t){return e.$router.push({path:"/regulatoryRecord/",query:{companyId:o.companyId}})}}},[e._v("是")])]}}],null,!1,741924568)}):e._e(),3!==e.loggedinUserType?a("el-table-column",{attrs:{prop:"address",label:"农药检测",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.$router.push({path:"/disabilityCheck/",query:{creditCode:o.creditCode}})}}},[e._v("是")])]}}],null,!1,3964140219)}):e._e(),a("el-table-column",{attrs:{prop:"contactPerson",label:"联系人",width:"120"}}),a("el-table-column",{attrs:{prop:"contactMobile",label:"联系方式",width:"120"}}),a("el-table-column",{attrs:{prop:"address",label:"所在乡镇",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(e.getTownship(a.townId))+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"nowGrade",label:"企业诚信",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",{staticClass:"rating-action",on:{click:function(t){return e.gotoCreditRatingPage(o)}}},[e._v(e._s(o.nowGrade))])]}}])}),a("el-table-column",{attrs:{prop:"operations",label:"操作",width:"450","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[1!==e.loggedinUserType?a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.gotoEditProductPage(o)}}},[e._v("修改")]):e._e(),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.gotoProductPage(o)}}},[e._v("产品")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.gotoWarehousingEnvironmentPage(o)}}},[e._v("仓储环境")]),3!==e.loggedinUserType?a("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.gotoDetailsProductPage(o)}}},[e._v("详情")]):e._e()]}}])})],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},fi=[],gi={name:"productionSubject",components:{Pagination:we},data:function(){return{loggedinUserType:null,townId:0,companyType:0,agriculturalClassification:0,quality_standard:"全部",supervision_record:"全部",disability_check:"全部",page:{pageIndex:1,pageSize:20},total:0,radio:"1",listLoading:!0,townList:[],tableData:[],srcData:[]}},created:function(){this.getList(),this.getTownList(),this.loggedinUserType=O().user().attrs.userType},methods:{getTownship:function(e){var t=this.townList.findIndex((function(t){return t.id==e}));return t<0?"":this.townList[t].name},gotoCreditRatingPage:function(e){this.$router.push({path:"/corporateCreditFile/ratingInfo",query:{creditCode:e.creditCode}})},gotoAddRegulatoryObject:function(){this.$router.push("/productionSubject/addRegulatoryObject")},gotoEditProductPage:function(e){this.$router.push("/productionSubject/editRegulatoryObject/".concat(e.companyId))},gotoDetailsProductPage:function(e){this.$router.push("/productionSubject/detailsRegulatoryObject/".concat(e.companyId))},gotoProductPage:function(e){this.$router.push("/productionSubject/mainProduct/".concat(e.companyId))},gotoWarehousingEnvironmentPage:function(e){this.$router.push("/productionSubject/warehouseEnv/".concat(e.companyId))},getTownList:function(){var e=this;D().get("/api/town/all",{}).then((function(t){e.townList=t})).catch((function(e){console.error(e)}))},getNowGrade:function(){var e=Object(Q["a"])(regeneratorRuntime.mark((function e(t,a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="",o=a&&a.length?a.pop().nowGrade:"",e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),filterList:function(){var e=this;this.tableData=this.srcData,this.agriculturalClassification>0&&(this.tableData=this.tableData.filter((function(t){return t.agriculturalClassification==e.agriculturalClassification})))},getList:function(){var e=this;this.listLoading=!0,D().get("/api/company_production/all",{companyType:this.companyType,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,townId:this.townId}).then((function(t){var a=t.data;e.tableData=[],e.srcData=[],e.total=t.total;var o=0;a.map((function(a){var r="credit_grade_data_"+o;e.getNowGrade(t[r]).then((function(t){a.nowGrade=e.getGradeString(t),e.tableData.push(a),e.srcData.push(a)})),o++})),setTimeout((function(){e.listLoading=!1}),500)})).catch((function(t){console.error(t),e.tableData=[],e.srcData=[],e.total=0,setTimeout((function(){e.listLoading=!1}),500)}))},getGradeString:function(e){var t="";switch(e){case"A":t="A级";break;case"B":t="B级";break;case"C":t="C级";break;default:t="A级"}return t},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},hi=gi,bi=(a("c700"),Object(s["a"])(hi,mi,fi,!1,null,"53832a05",null)),vi=bi.exports,yi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加监管对象")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{ref:"form",staticClass:"data-form",attrs:{model:e.form,"label-width":"150px",rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-radio",{attrs:{label:"1",checked:""},model:{value:e.form.companyType,callback:function(t){e.$set(e.form,"companyType",t)},expression:"form.companyType"}},[e._v("企业")]),a("el-radio",{attrs:{label:"2"},model:{value:e.form.companyType,callback:function(t){e.$set(e.form,"companyType",t)},expression:"form.companyType"}},[e._v("农户")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"对象类型"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",value:1==e.form.companyType?"企业":"农户"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"乡镇"}},[a("el-select",{model:{value:e.form.townId,callback:function(t){e.$set(e.form,"townId",t)},expression:"form.townId"}},e._l(e.townList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"行业"}},[a("el-select",{model:{value:e.form.agriculturalClassification,callback:function(t){e.$set(e.form,"agriculturalClassification",t)},expression:"form.agriculturalClassification"}},e._l([{value:"1",label:"养殖业"},{value:"2",label:"畜牧业"},{value:"3",label:"种植业"}],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.form.companyType,expression:"form.companyType == '1'"}]},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单位名称",prop:"companyName"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"负责人",prop:"chargePerson"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"地址",prop:"companyAddress"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyAddress,callback:function(t){e.$set(e.form,"companyAddress",t)},expression:"form.companyAddress"}})],1)],1)],1),a("div",{staticClass:"data-group-border"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"种植"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_0,callback:function(t){e.$set(e.form.productInfo,"data_0_0",t)},expression:"form.productInfo.data_0_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_1,callback:function(t){e.$set(e.form.productInfo,"data_0_1",t)},expression:"form.productInfo.data_0_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（亩）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"水产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_0,callback:function(t){e.$set(e.form.productInfo,"data_1_0",t)},expression:"form.productInfo.data_1_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_1,callback:function(t){e.$set(e.form.productInfo,"data_1_1",t)},expression:"form.productInfo.data_1_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（亩）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"畜产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_2_0,callback:function(t){e.$set(e.form.productInfo,"data_2_0",t)},expression:"form.productInfo.data_2_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_2_1,callback:function(t){e.$set(e.form.productInfo,"data_2_1",t)},expression:"form.productInfo.data_2_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（头）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"禽产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_3_0,callback:function(t){e.$set(e.form.productInfo,"data_3_0",t)},expression:"form.productInfo.data_3_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_3_1,callback:function(t){e.$set(e.form.productInfo,"data_3_1",t)},expression:"form.productInfo.data_3_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（羽）"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"三品认证",prop:"qualityStandardId"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.qualityStandardId,callback:function(t){e.$set(e.form,"qualityStandardId",t)},expression:"form.qualityStandardId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人",prop:"contactPerson"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.contactPerson,callback:function(t){e.$set(e.form,"contactPerson",t)},expression:"form.contactPerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人手机",prop:"contactMobile"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.contactMobile,callback:function(t){e.$set(e.form,"contactMobile",t)},expression:"form.contactMobile"}})],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.form.companyType,expression:"form.companyType == '2'"}]},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名",prop:"companyName"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式",prop:"chargePerson"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"地址",prop:"companyAddress"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyAddress,callback:function(t){e.$set(e.form,"companyAddress",t)},expression:"form.companyAddress"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种养殖面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"土地来源"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1)],1),a("div",{staticClass:"data-group-border"},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"种植面积（亩）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"稻麦"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_0,callback:function(t){e.$set(e.form.productInfo,"data_0_0",t)},expression:"form.productInfo.data_0_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"蔬菜"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_1,callback:function(t){e.$set(e.form.productInfo,"data_0_1",t)},expression:"form.productInfo.data_0_1"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"水果"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_2,callback:function(t){e.$set(e.form.productInfo,"data_0_2",t)},expression:"form.productInfo.data_0_2"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"食用菌"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_3,callback:function(t){e.$set(e.form.productInfo,"data_0_3",t)},expression:"form.productInfo.data_0_3"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"水产品养殖面积（亩）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"鱼"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_0,callback:function(t){e.$set(e.form.productInfo,"data_1_0",t)},expression:"form.productInfo.data_1_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"虾蟹"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_1,callback:function(t){e.$set(e.form.productInfo,"data_1_1",t)},expression:"form.productInfo.data_1_1"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_2,callback:function(t){e.$set(e.form.productInfo,"data_1_2",t)},expression:"form.productInfo.data_1_2"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"畜养殖规模（头）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"猪"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_2_0,callback:function(t){e.$set(e.form.productInfo,"data_2_0",t)},expression:"form.productInfo.data_2_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"奶牛"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_2_1,callback:function(t){e.$set(e.form.productInfo,"data_2_1",t)},expression:"form.productInfo.data_2_1"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"禽养殖规模（羽）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"肉禽"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_3_0,callback:function(t){e.$set(e.form.productInfo,"data_3_0",t)},expression:"form.productInfo.data_3_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"蛋禽"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_3_1,callback:function(t){e.$set(e.form.productInfo,"data_3_1",t)},expression:"form.productInfo.data_3_1"}})],1)],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"社会信用统一代码",prop:"creditCode"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.creditCode,callback:function(t){e.$set(e.form,"creditCode",t)},expression:"form.creditCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"企业荣誉"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:5},model:{value:e.form.companyHonor,callback:function(t){e.$set(e.form,"companyHonor",t)},expression:"form.companyHonor"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:5},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否监管"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.form.doSupervision,callback:function(t){e.$set(e.form,"doSupervision",t)},expression:"form.doSupervision"}},e._l([{value:"1",label:"是"},{value:"0",label:"否"}],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:e.onSubmit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},_i=[],wi={name:"addRegulatoryObject",data:function(){var e=[{required:!0,message:"必填",trigger:"blur"}];return{townList:[],form:{agriculturalClassification:"1",chargePerson:"",companyAddress:"",companyHonor:"",companyId:0,companyName:"",companyType:"1",contactMobile:"",contactPerson:"",contactWay:"",createUserId:0,creditCode:"",doSupervision:"1",landSource:"",plantArea:0,public_license:0,public_punish:0,qualityStandardId:0,quality_standard:0,remarks:"",townId:"",updateUserId:0,productInfo:{data_0_0:"",data_0_1:"",data_0_2:"",data_0_3:"",data_1_0:"",data_1_1:"",data_1_2:"",data_2_0:"",data_2_1:"",data_3_0:"",data_3_1:""}},rules:{chargePerson:e,companyAddress:e,companyHonor:e,companyName:e,companyType:e,contactMobile:e,contactPerson:e,creditCode:e,doSupervision:e,landSource:e,plantArea:e,qualityStandardId:e,remarks:e}}},created:function(){this.getTownList()},methods:{getTownList:function(){var e=this;D().get("/api/town/all",{}).then((function(t){e.townList=t})).catch((function(e){console.error(e)}))},onSubmit:function(){var e=this,t=O().user();t?this.$refs["form"].validate((function(a){a&&D().post("/api/company_production/create",{agriculturalClassification:e.form.agriculturalClassification,chargePerson:e.form.chargePerson,companyAddress:e.form.companyAddress,companyHonor:e.form.companyHonor,companyId:e.form.companyId,companyName:e.form.companyName,companyType:e.form.companyType,contactMobile:e.form.contactMobile,contactPerson:e.form.contactPerson,contactWay:e.form.contactWay,createUserId:t.attrs.id,creditCode:e.form.creditCode,doSupervision:e.form.doSupervision,landSource:e.form.landSource,plantArea:e.form.plantArea,productInfo:JSON.stringify(e.form.productInfo),public_license:e.form.public_license,public_punish:e.form.public_punish,qualityStandardId:e.form.qualityStandardId,quality_standard:e.form.quality_standard,remarks:e.form.remarks,townId:e.form.townId,updateUserId:t.attrs.id}).then((function(t){e.$router.push({path:"/productionSubject"})}))})):O().logout()}}},ki=wi,xi=(a("6959"),Object(s["a"])(ki,yi,_i,!1,null,"99cd0c06",null)),Ci=xi.exports,Si=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加监管对象")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{ref:"form",staticClass:"data-form",attrs:{model:e.form,"label-width":"150px",rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-radio",{attrs:{label:"1",checked:""},model:{value:e.form.companyType,callback:function(t){e.$set(e.form,"companyType",t)},expression:"form.companyType"}},[e._v("企业")]),a("el-radio",{attrs:{label:"2"},model:{value:e.form.companyType,callback:function(t){e.$set(e.form,"companyType",t)},expression:"form.companyType"}},[e._v("农户")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"对象类型"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",value:1==e.form.companyType?"企业":"农户"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"乡镇"}},[a("el-select",{model:{value:e.form.townId,callback:function(t){e.$set(e.form,"townId",t)},expression:"form.townId"}},e._l(e.townList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"行业"}},[a("el-select",{model:{value:e.form.agriculturalClassification,callback:function(t){e.$set(e.form,"agriculturalClassification",t)},expression:"form.agriculturalClassification"}},e._l([{value:"1",label:"养殖业"},{value:"2",label:"畜牧业"},{value:"3",label:"种植业"}],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.form.companyType,expression:"form.companyType == '1'"}]},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单位名称",prop:"companyName"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"负责人",prop:"chargePerson"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"地址",prop:"companyAddress"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyAddress,callback:function(t){e.$set(e.form,"companyAddress",t)},expression:"form.companyAddress"}})],1)],1)],1),a("div",{staticClass:"data-group-border"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"种植"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_0,callback:function(t){e.$set(e.form.productInfo,"data_0_0",t)},expression:"form.productInfo.data_0_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_1,callback:function(t){e.$set(e.form.productInfo,"data_0_1",t)},expression:"form.productInfo.data_0_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（亩）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"水产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_0,callback:function(t){e.$set(e.form.productInfo,"data_1_0",t)},expression:"form.productInfo.data_1_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_1,callback:function(t){e.$set(e.form.productInfo,"data_1_1",t)},expression:"form.productInfo.data_1_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（亩）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"畜产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_2_0,callback:function(t){e.$set(e.form.productInfo,"data_2_0",t)},expression:"form.productInfo.data_2_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_2_1,callback:function(t){e.$set(e.form.productInfo,"data_2_1",t)},expression:"form.productInfo.data_2_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（头）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"禽产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_3_0,callback:function(t){e.$set(e.form.productInfo,"data_3_0",t)},expression:"form.productInfo.data_3_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_3_1,callback:function(t){e.$set(e.form.productInfo,"data_3_1",t)},expression:"form.productInfo.data_3_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（羽）"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"三品认证",prop:"qualityStandardId"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.qualityStandardId,callback:function(t){e.$set(e.form,"qualityStandardId",t)},expression:"form.qualityStandardId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人",prop:"contactPerson"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.contactPerson,callback:function(t){e.$set(e.form,"contactPerson",t)},expression:"form.contactPerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人手机",prop:"contactMobile"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.contactMobile,callback:function(t){e.$set(e.form,"contactMobile",t)},expression:"form.contactMobile"}})],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.form.companyType,expression:"form.companyType == '2'"}]},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名",prop:"companyName"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式",prop:"chargePerson"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"地址",prop:"companyAddress"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyAddress,callback:function(t){e.$set(e.form,"companyAddress",t)},expression:"form.companyAddress"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种养殖面积"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"土地来源"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1)],1),a("div",{staticClass:"data-group-border"},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"种植面积（亩）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"稻麦"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_0,callback:function(t){e.$set(e.form.productInfo,"data_0_0",t)},expression:"form.productInfo.data_0_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"蔬菜"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_1,callback:function(t){e.$set(e.form.productInfo,"data_0_1",t)},expression:"form.productInfo.data_0_1"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"水果"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_2,callback:function(t){e.$set(e.form.productInfo,"data_0_2",t)},expression:"form.productInfo.data_0_2"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"食用菌"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_0_3,callback:function(t){e.$set(e.form.productInfo,"data_0_3",t)},expression:"form.productInfo.data_0_3"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"水产品养殖面积（亩）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"鱼"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_0,callback:function(t){e.$set(e.form.productInfo,"data_1_0",t)},expression:"form.productInfo.data_1_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"虾蟹"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_1,callback:function(t){e.$set(e.form.productInfo,"data_1_1",t)},expression:"form.productInfo.data_1_1"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_1_2,callback:function(t){e.$set(e.form.productInfo,"data_1_2",t)},expression:"form.productInfo.data_1_2"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"畜养殖规模（头）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"猪"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_2_0,callback:function(t){e.$set(e.form.productInfo,"data_2_0",t)},expression:"form.productInfo.data_2_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"奶牛"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_2_1,callback:function(t){e.$set(e.form.productInfo,"data_2_1",t)},expression:"form.productInfo.data_2_1"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"禽养殖规模（羽）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"肉禽"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_3_0,callback:function(t){e.$set(e.form.productInfo,"data_3_0",t)},expression:"form.productInfo.data_3_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"蛋禽"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.productInfo.data_3_1,callback:function(t){e.$set(e.form.productInfo,"data_3_1",t)},expression:"form.productInfo.data_3_1"}})],1)],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"社会信用统一代码",prop:"creditCode"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.form.creditCode,callback:function(t){e.$set(e.form,"creditCode",t)},expression:"form.creditCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"企业荣誉"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:5},model:{value:e.form.companyHonor,callback:function(t){e.$set(e.form,"companyHonor",t)},expression:"form.companyHonor"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:5},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否监管"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.form.doSupervision,callback:function(t){e.$set(e.form,"doSupervision",t)},expression:"form.doSupervision"}},e._l([{value:"1",label:"是"},{value:"0",label:"否"}],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:e.onSubmit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},Ii=[],Fi={name:"editRegulatoryObject",data:function(){var e=[{required:!0,message:"必填",trigger:"blur"}];return{townList:[],form:{agriculturalClassification:1,chargePerson:"",companyAddress:"",companyHonor:"",companyId:0,companyName:"",companyType:"1",contactMobile:"",contactPerson:"",contactWay:"",createUserId:0,creditCode:"",doSupervision:"",landSource:"",plantArea:0,public_license:0,public_punish:0,qualityStandardId:0,quality_standard:0,remarks:"",townId:1,updateUserId:0,productInfo:{data_0_0:"",data_0_1:"",data_0_2:"",data_0_3:"",data_1_0:"",data_1_1:"",data_1_2:"",data_2_0:"",data_2_1:"",data_3_0:"",data_3_1:""}},rules:{chargePerson:e,companyAddress:e,companyHonor:e,companyName:e,companyType:e,contactMobile:e,contactPerson:e,creditCode:e,doSupervision:e,landSource:e,plantArea:e,qualityStandardId:e,remarks:e},id:0}},created:function(){this.id=this.$route.params.id,console.log(this.id),this.getCompanyInfo(this.id),this.getTownList()},methods:{getCompanyInfo:function(e){var t=this;D().get("/api/company_production/get/"+e).then((function(e){t.form=e,t.form.productInfo=JSON.parse(e.productInfo),console.log(t.form)})).catch((function(e){console.log(e)}))},getTownList:function(){var e=this;D().get("/api/town/all",{}).then((function(t){e.townList=t})).catch((function(e){console.error(e)}))},onSubmit:function(){var e=this,t=O().user();t?this.$refs["form"].validate((function(a){a&&D().put("/api/company_production/update/"+e.id,{agriculturalClassification:e.form.agriculturalClassification,chargePerson:e.form.chargePerson,companyAddress:e.form.companyAddress,companyHonor:e.form.companyHonor,companyId:e.form.companyId,companyName:e.form.companyName,companyType:e.form.companyType,contactMobile:e.form.contactMobile,contactPerson:e.form.contactPerson,contactWay:e.form.contactWay,createUserId:t.attrs.id,creditCode:e.form.creditCode,doSupervision:e.form.doSupervision,landSource:e.form.landSource,plantArea:e.form.plantArea,productInfo:JSON.stringify(e.form.productInfo),public_license:e.form.public_license,public_punish:e.form.public_punish,qualityStandardId:e.form.qualityStandardId,quality_standard:e.form.quality_standard,remarks:e.form.remarks,townId:e.form.townId,updateUserId:t.attrs.id}).then((function(t){console.log(t),e.$router.push({path:"/productionSubject"})}))})):O().logout()}}},Ti=Fi,$i=(a("ad74"),Object(s["a"])(Ti,Si,Ii,!1,null,"448ec155",null)),Vi=$i.exports,Li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("详情")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{ref:"form",staticClass:"data-form",attrs:{model:e.form,"label-width":"150px",rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"对象类型"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",value:1==e.form.companyType?"企业":"农户"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"乡镇"}},[a("el-select",{attrs:{disabled:""},model:{value:e.form.townId,callback:function(t){e.$set(e.form,"townId",t)},expression:"form.townId"}},e._l(e.townList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"行业"}},[a("el-select",{attrs:{disabled:""},model:{value:e.form.agriculturalClassification,callback:function(t){e.$set(e.form,"agriculturalClassification",t)},expression:"form.agriculturalClassification"}},e._l([{value:"1",label:"养殖业"},{value:"2",label:"畜牧业"},{value:"3",label:"种植业"}],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.form.companyType,expression:"form.companyType == '1'"}]},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单位名称",prop:"companyName"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"负责人",prop:"chargePerson"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"地址",prop:"companyAddress"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.companyAddress,callback:function(t){e.$set(e.form,"companyAddress",t)},expression:"form.companyAddress"}})],1)],1)],1),a("div",{staticClass:"data-group-border"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"种植"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_0_0,callback:function(t){e.$set(e.form.productInfo,"data_0_0",t)},expression:"form.productInfo.data_0_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_0_1,callback:function(t){e.$set(e.form.productInfo,"data_0_1",t)},expression:"form.productInfo.data_0_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（亩）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"水产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_1_0,callback:function(t){e.$set(e.form.productInfo,"data_1_0",t)},expression:"form.productInfo.data_1_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_1_1,callback:function(t){e.$set(e.form.productInfo,"data_1_1",t)},expression:"form.productInfo.data_1_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（亩）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"畜产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_2_0,callback:function(t){e.$set(e.form.productInfo,"data_2_0",t)},expression:"form.productInfo.data_2_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_2_1,callback:function(t){e.$set(e.form.productInfo,"data_2_1",t)},expression:"form.productInfo.data_2_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（头）"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"禽产品"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品种"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_3_0,callback:function(t){e.$set(e.form.productInfo,"data_3_0",t)},expression:"form.productInfo.data_3_0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种植面积"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_3_1,callback:function(t){e.$set(e.form.productInfo,"data_3_1",t)},expression:"form.productInfo.data_3_1"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"（羽）"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"三品认证",prop:"qualityStandardId"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.qualityStandardId,callback:function(t){e.$set(e.form,"qualityStandardId",t)},expression:"form.qualityStandardId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人",prop:"contactPerson"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.contactPerson,callback:function(t){e.$set(e.form,"contactPerson",t)},expression:"form.contactPerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人手机",prop:"contactMobile"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.contactMobile,callback:function(t){e.$set(e.form,"contactMobile",t)},expression:"form.contactMobile"}})],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.form.companyType,expression:"form.companyType == '2'"}]},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名",prop:"companyName"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式",prop:"chargePerson"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"地址",prop:"companyAddress"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.companyAddress,callback:function(t){e.$set(e.form,"companyAddress",t)},expression:"form.companyAddress"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"种养殖面积"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"土地来源"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.chargePerson,callback:function(t){e.$set(e.form,"chargePerson",t)},expression:"form.chargePerson"}})],1)],1)],1),a("div",{staticClass:"data-group-border"},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"种植面积（亩）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"稻麦"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_0_0,callback:function(t){e.$set(e.form.productInfo,"data_0_0",t)},expression:"form.productInfo.data_0_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"蔬菜"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_0_1,callback:function(t){e.$set(e.form.productInfo,"data_0_1",t)},expression:"form.productInfo.data_0_1"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"水果"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_0_2,callback:function(t){e.$set(e.form.productInfo,"data_0_2",t)},expression:"form.productInfo.data_0_2"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"食用菌"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_0_3,callback:function(t){e.$set(e.form.productInfo,"data_0_3",t)},expression:"form.productInfo.data_0_3"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"水产品养殖面积（亩）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"鱼"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_1_0,callback:function(t){e.$set(e.form.productInfo,"data_1_0",t)},expression:"form.productInfo.data_1_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"虾蟹"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_1_1,callback:function(t){e.$set(e.form.productInfo,"data_1_1",t)},expression:"form.productInfo.data_1_1"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_1_2,callback:function(t){e.$set(e.form.productInfo,"data_1_2",t)},expression:"form.productInfo.data_1_2"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"畜养殖规模（头）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"猪"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_2_0,callback:function(t){e.$set(e.form.productInfo,"data_2_0",t)},expression:"form.productInfo.data_2_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"奶牛"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_2_1,callback:function(t){e.$set(e.form.productInfo,"data_2_1",t)},expression:"form.productInfo.data_2_1"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"禽养殖规模（羽）"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"肉禽"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_3_0,callback:function(t){e.$set(e.form.productInfo,"data_3_0",t)},expression:"form.productInfo.data_3_0"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"蛋禽"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.productInfo.data_3_1,callback:function(t){e.$set(e.form.productInfo,"data_3_1",t)},expression:"form.productInfo.data_3_1"}})],1)],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"社会信用统一代码",prop:"creditCode"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.form.creditCode,callback:function(t){e.$set(e.form,"creditCode",t)},expression:"form.creditCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"企业荣誉"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:5,readonly:""},model:{value:e.form.companyHonor,callback:function(t){e.$set(e.form,"companyHonor",t)},expression:"form.companyHonor"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:5,readonly:""},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否监管",disabled:""}},[a("el-select",{attrs:{placeholder:""},model:{value:e.form.doSupervision,callback:function(t){e.$set(e.form,"doSupervision",t)},expression:"form.doSupervision"}},e._l([{value:"1",label:"是"},{value:"0",label:"否"}],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},Ni=[],Di={name:"detailsRegulatoryObject",data:function(){var e=[{required:!0,message:"必填",trigger:"blur"}];return{townList:[],form:{agriculturalClassification:1,chargePerson:"",companyAddress:"",companyHonor:"",companyId:0,companyName:"",companyType:"1",contactMobile:"",contactPerson:"",contactWay:"",createUserId:0,creditCode:"",doSupervision:"",landSource:"",plantArea:0,public_license:0,public_punish:0,qualityStandardId:0,quality_standard:0,remarks:"",townId:1,updateUserId:0,productInfo:{data_0_0:"",data_0_1:"",data_0_2:"",data_0_3:"",data_1_0:"",data_1_1:"",data_1_2:"",data_2_0:"",data_2_1:"",data_3_0:"",data_3_1:""}},rules:{chargePerson:e,companyAddress:e,companyHonor:e,companyName:e,companyType:e,contactMobile:e,contactPerson:e,creditCode:e,doSupervision:e,landSource:e,plantArea:e,qualityStandardId:e,remarks:e},id:0}},created:function(){this.id=this.$route.params.id,this.getCompanyInfo(this.id),this.getTownList()},methods:{getCompanyInfo:function(e){var t=this;D().get("/api/company_production/get/"+e).then((function(e){t.form=e,t.form.productInfo=JSON.parse(e.productInfo)})).catch((function(e){console.log(e)}))},getTownList:function(){var e=this;D().get("/api/town/all",{}).then((function(t){e.townList=t})).catch((function(e){console.error(e)}))}}},Pi=Di,ji=(a("0b41"),Object(s["a"])(Pi,Li,Ni,!1,null,"9f165fc6",null)),Ui=ji.exports,zi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产主体")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("仓储环境")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/warehouseEnv/addWarehouse/"+e.id})}}},[e._v("添加")]):e._e(),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"warehouseName",label:"仓库名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.warehouseName))]}}])}),a("el-table-column",{attrs:{prop:"warehouseAddress",label:"仓库地址"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.warehouseAddress))]}}])}),a("el-table-column",{attrs:{prop:"warehouseArea",label:"仓库面积"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.warehouseArea))]}}])}),a("el-table-column",{attrs:{prop:"warehouseScope",label:"仓库规模"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.warehouseScope))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.showDetailWarehouse(o)}}},[e._v("修改")]):e._e(),3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")]):e._e(),3!==e.loggedinUserType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showViewWarehouse(o)}}},[e._v("查看")]):e._e()]}}])})],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Ai=[],Ri={name:"warehouseEnv",components:{Pagination:we},data:function(){return{loggedinUserType:null,id:-1,page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,radio:"1",tableData:[]}},created:function(){this.id=this.$route.params.id,this.getList(this.id),this.loggedinUserType=O().user().attrs.userType},methods:{showDetailWarehouse:function(e){this.$router.push({path:"/productionSubject/warehouseEnv/detailsWarehouse/".concat(this.id),query:{id:e.id}})},showViewWarehouse:function(e){this.$router.push({path:"/productionSubject/warehouseEnv/viewWarehouse/".concat(this.id),query:{id:e.id}})},getList:function(e){var t=this;this.listLoading=!0,D().get("/api/warehose/all",{company_id:e,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,sortBy:"id"}).then((function(e){t.tableData=e.data,t.total=t.tableData.length,setTimeout((function(){t.listLoading=!1}),50)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},goBack:function(){this.$router.go(-1)},handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/warehouse/delete/"+e).then((function(e){t.getList(t.id),setTimeout((function(){t.listLoading=!1}),50)})).catch((function(e){console.log(e)}))}))}}},Oi=Ri,qi=(a("685f"),Object(s["a"])(Oi,zi,Ai,!1,null,"7a6cca50",null)),Ei=qi.exports,Bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("仓储环境")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改环境")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库名称",prop:"warehouseName"}},[a("el-input",{model:{value:e.ruleFormValue.warehouseName,callback:function(t){e.$set(e.ruleFormValue,"warehouseName",t)},expression:"ruleFormValue.warehouseName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库地址",prop:"warehouseAddress"}},[a("el-input",{model:{value:e.ruleFormValue.warehouseAddress,callback:function(t){e.$set(e.ruleFormValue,"warehouseAddress",t)},expression:"ruleFormValue.warehouseAddress"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库面积",prop:"warehouseArea"}},[a("el-input",{attrs:{type:"number"},model:{value:e.ruleFormValue.warehouseArea,callback:function(t){e.$set(e.ruleFormValue,"warehouseArea",t)},expression:"ruleFormValue.warehouseArea"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库规模",prop:"warehouseScope"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleFormValue.warehouseScope,callback:function(t){e.$set(e.ruleFormValue,"warehouseScope",t)},expression:"ruleFormValue.warehouseScope"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Gi=[],Mi={name:"detailsWarehouse",data:function(){return{id:-1,companyId:0,pageName:this.$route.name,listLoading:!0,ruleFormValue:{warehouseAddress:"",warehouseArea:null,warehouseName:"",warehouseScope:""},rules:{warehouseName:[{required:!0,message:"请插入",trigger:"change"}],warehouseAddress:[{required:!0,message:"请插入",trigger:"change"}],warehouseArea:[{required:!0,message:"请插入",trigger:"change"}],warehouseScope:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.id=this.$route.query.id,this.companyId=this.$route.params.id,this.getInfo()},methods:{getInfo:function(){var e=this;this.listLoading=!0,D().get("/api/warehose/get/"+this.id).then((function(t){e.ruleFormValue.warehouseAddress=t.warehouseAddress,e.ruleFormValue.warehouseArea=t.warehouseArea,e.ruleFormValue.warehouseName=t.warehouseName,e.ruleFormValue.warehouseScope=t.warehouseScope,setTimeout((function(){e.listLoading=!1}),50)})).catch((function(e){}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a={warehouseAddress:t.ruleFormValue.warehouseAddress,warehouseArea:t.ruleFormValue.warehouseArea,warehouseName:t.ruleFormValue.warehouseName,warehouseScope:t.ruleFormValue.warehouseScope,companyId:t.companyId};t.listLoading=!0,D().put("/api/warehose/update/"+t.id,a).then((function(e){setTimeout((function(){t.listLoading=!1}),50),t.goBack()})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},Wi=Mi,Yi=(a("29fb"),Object(s["a"])(Wi,Bi,Gi,!1,null,"9bca8b26",null)),Ji=Yi.exports,Qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("仓储环境")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("仓库详情")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库名称",prop:"warehouseName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleFormValue.warehouseName,callback:function(t){e.$set(e.ruleFormValue,"warehouseName",t)},expression:"ruleFormValue.warehouseName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库地址",prop:"warehouseAddress"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleFormValue.warehouseAddress,callback:function(t){e.$set(e.ruleFormValue,"warehouseAddress",t)},expression:"ruleFormValue.warehouseAddress"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库面积",prop:"warehouseArea"}},[a("el-input",{attrs:{type:"number",disabled:""},model:{value:e.ruleFormValue.warehouseArea,callback:function(t){e.$set(e.ruleFormValue,"warehouseArea",t)},expression:"ruleFormValue.warehouseArea"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库规模",prop:"warehouseScope"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleFormValue.warehouseScope,callback:function(t){e.$set(e.ruleFormValue,"warehouseScope",t)},expression:"ruleFormValue.warehouseScope"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)])},Zi=[],Hi={name:"detailsWarehouse",data:function(){return{id:-1,companyId:0,pageName:this.$route.name,listLoading:!0,ruleFormValue:{warehouseAddress:"",warehouseArea:null,warehouseName:"",warehouseScope:""}}},created:function(){this.id=this.$route.query.id,this.companyId=this.$route.params.id,this.getInfo()},methods:{getInfo:function(){var e=this;this.listLoading=!0,D().get("/api/warehose/get/"+this.id).then((function(t){e.ruleFormValue.warehouseAddress=t.warehouseAddress,e.ruleFormValue.warehouseArea=t.warehouseArea,e.ruleFormValue.warehouseName=t.warehouseName,e.ruleFormValue.warehouseScope=t.warehouseScope,setTimeout((function(){e.listLoading=!1}),50)})).catch((function(e){}))},goBack:function(){this.$router.go(-1)}}},Xi=Hi,Ki=(a("53bb"),Object(s["a"])(Xi,Qi,Zi,!1,null,"8665ca92",null)),en=Ki.exports,tn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("仓储环境")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加环境")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库名称",prop:"warehouseName"}},[a("el-input",{model:{value:e.ruleFormValue.warehouseName,callback:function(t){e.$set(e.ruleFormValue,"warehouseName",t)},expression:"ruleFormValue.warehouseName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库地址",prop:"warehouseAddress"}},[a("el-input",{model:{value:e.ruleFormValue.warehouseAddress,callback:function(t){e.$set(e.ruleFormValue,"warehouseAddress",t)},expression:"ruleFormValue.warehouseAddress"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库面积",prop:"warehouseArea"}},[a("el-input",{attrs:{type:"number"},model:{value:e.ruleFormValue.warehouseArea,callback:function(t){e.$set(e.ruleFormValue,"warehouseArea",t)},expression:"ruleFormValue.warehouseArea"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"仓库规模",prop:"warehouseScope"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleFormValue.warehouseScope,callback:function(t){e.$set(e.ruleFormValue,"warehouseScope",t)},expression:"ruleFormValue.warehouseScope"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},an=[],on={name:"addWarehouse",data:function(){return{companyId:0,listLoading:!1,ruleFormValue:{warehouseAddress:"",warehouseArea:null,warehouseName:"",warehouseScope:""},rules:{warehouseName:[{required:!0,message:"请插入",trigger:"change"}],warehouseAddress:[{required:!0,message:"请插入",trigger:"change"}],warehouseArea:[{required:!0,message:"请插入",trigger:"change"}],warehouseScope:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.companyId=this.$route.params.id},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a={warehouseAddress:t.ruleFormValue.warehouseAddress,warehouseArea:t.ruleFormValue.warehouseArea,warehouseName:t.ruleFormValue.warehouseName,warehouseScope:t.ruleFormValue.warehouseScope,companyId:t.companyId,id:0};t.listLoading=!0,D().post("/api/warehose/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),50),t.goBack()})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},rn=on,ln=(a("64e1"),Object(s["a"])(rn,tn,an,!1,null,"25f53f30",null)),nn=ln.exports,sn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("主营产品")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/companyBusiness/productBusiness/create/"+e.id)}}},[e._v("添加")]):e._e(),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"doOrganic",label:"是否为有机产品"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.doOrganic?"是":"否"))]}}])}),a("el-table-column",{attrs:{prop:"atunitprice",label:"单价"}}),a("el-table-column",{attrs:{prop:"productArea",label:"产地"}}),a("el-table-column",{attrs:{prop:"variety",label:"品种"}}),a("el-table-column",{attrs:{prop:"specification",label:"规格"}}),a("el-table-column",{attrs:{prop:"grade",label:"评级"}}),a("el-table-column",{attrs:{prop:"operations",label:"操作",width:"270","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"success",plain:""},on:{click:function(t){return e.showSamplingRecord(o)}}},[e._v("第三方抽检记录")]),a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"success",plain:""},on:{click:function(t){return e.showProductBatch(o)}}},[e._v("产品批次")]),3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"success",plain:""},on:{click:function(t){return e.showProductVariety(o)}}},[e._v("品种定义")]):e._e(),3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"success",plain:""},on:{click:function(t){return e.showProductGrade(o)}}},[e._v("定义等级")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"operations",label:"",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"success",plain:""},on:{click:function(t){return e.showInventoryDynamics(o)}}},[e._v("库存动态")]),3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"success",plain:""},on:{click:function(t){return e.showProcessDefinition(o)}}},[e._v("作业定义")]):e._e(),3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"success",plain:""},on:{click:function(t){return e.showProductProperty(o)}}},[e._v("属性管理")]):e._e()]}}])})],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},cn=[],un={name:"mainProduct",components:{Pagination:we},data:function(){return{loggedinUserType:null,id:-1,page:{pageIndex:1,pageSize:20},total:0,radio:"1",tableData:[],listLoading:!0}},created:function(){this.id=this.$route.params.id,this.getList(),this.loggedinUserType=O().user().attrs.userType},methods:{showSamplingRecord:function(e){this.$router.push("/productionSubject/mainProduct/thirdPartySamplingRecord/".concat(e.productId))},showProductBatch:function(e){this.$router.push("/productionSubject/mainProduct/productBatch/".concat(e.productId))},showInventoryDynamics:function(e){this.$router.push({path:"/productionSubject/mainProduct/inventoryDynamics/".concat(this.$route.params.id),query:{productId:e.productId}})},showProcessDefinition:function(e){this.$router.push({path:"/productionSubject/mainProduct/processDefinition/".concat(this.$route.params.id),query:{productId:e.productId}})},showProductProperty:function(e){this.$router.push({path:"/productionSubject/mainProduct/productProperty/".concat(this.$route.params.id)})},showProductVariety:function(e){this.$router.push({path:"/productVariety/".concat(e.productId)})},showProductGrade:function(e){this.$router.push({path:"/productionGrade/".concat(e.productId)})},getList:function(){var e=this;this.listLoading=!0,D().get("/api/product_production/all",{company_id:this.id,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},dn=un,pn=(a("56b4"),Object(s["a"])(dn,sn,cn,!1,null,"537b9a25",null)),mn=pn.exports,fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("第三方抽检记录")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/thirdPartySampling/create/"+e.id})}}},[e._v("添加")]):e._e(),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),e._m(0),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"productCheckTime",label:"日期",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(e._f("formatDate")(a.productCheckTime))+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"specimen",label:"样品",width:"150"}}),a("el-table-column",{attrs:{prop:"checkItem",label:"检测项目",width:"150"}}),a("el-table-column",{attrs:{prop:"checkResult",label:"检测结果"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(1==a.checkResult?"阴性":"阳性")+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"determine",label:"判定"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(a.determine?"合格":"不合格")+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"checkStandard",label:"检测标准"}}),a("el-table-column",{attrs:{prop:"checkOrganization",label:"检测机构"}}),3===e.loggedinUserType||0===e.loggedinUserType?a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/thirdPartySampling/edit/"+o.id,query:{checkId:o.id}})}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}],null,!1,184685774)}):e._e()],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},gn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[e._v("银针 第三方质量安全检测记录")])])}],hn={name:"thirdPartySamplingRecord",components:{Pagination:we},data:function(){return{loggedinUserType:null,id:-1,page:{pageIndex:1,pageSize:20},total:100,radio:"1",tableData:[],listLoading:!1}},created:function(){this.id=this.$route.params.id,this.getList(this.id),this.loggedinUserType=O().user().attrs.userType},methods:{getList:function(e){var t=this;this.listLoading=!0,D().get("/api/product_check_record/all",{product_id:this.id,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(e){t.tableData=e.data,t.total=t.tableData.length,setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/product_check_record/delete/"+e).then((function(e){t.getList()})).catch((function(e){console.log(e)}))}))}}},bn=hn,vn=(a("f3c9"),Object(s["a"])(bn,fn,gn,!1,null,"97fe0696",null)),yn=vn.exports,_n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加认证")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"日期",prop:"createTime"}},[a("el-input",{model:{value:e.ruleFormValue.createTime,callback:function(t){e.$set(e.ruleFormValue,"createTime",t)},expression:"ruleFormValue.createTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"样品",prop:"specimen"}},[a("el-input",{model:{value:e.ruleFormValue.specimen,callback:function(t){e.$set(e.ruleFormValue,"specimen",t)},expression:"ruleFormValue.specimen"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检测项目",prop:"checkItem"}},[a("el-input",{model:{value:e.ruleFormValue.checkItem,callback:function(t){e.$set(e.ruleFormValue,"checkItem",t)},expression:"ruleFormValue.checkItem"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检测结果",prop:"checkResult"}},[a("el-input",{model:{value:e.ruleFormValue.checkResult,callback:function(t){e.$set(e.ruleFormValue,"checkResult",t)},expression:"ruleFormValue.checkResult"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"判定",prop:"determine"}},[a("el-input",{model:{value:e.ruleFormValue.determine,callback:function(t){e.$set(e.ruleFormValue,"determine",t)},expression:"ruleFormValue.determine"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检测标准",prop:"checkStandard"}},[a("el-input",{model:{value:e.ruleFormValue.checkStandard,callback:function(t){e.$set(e.ruleFormValue,"checkStandard",t)},expression:"ruleFormValue.checkStandard"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检测机构",prop:"checkOrganization"}},[a("el-input",{model:{value:e.ruleFormValue.checkOrganization,callback:function(t){e.$set(e.ruleFormValue,"checkOrganization",t)},expression:"ruleFormValue.checkOrganization"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},wn=[],kn={name:"addThirdPartySampling",data:function(){return{productId:-1,ruleFormValue:{createTime:(new Date).toISOString().slice(0,10),specimen:"",checkItem:"",checkResult:"",determine:"",checkStandard:"",checkOrganization:"",listLoading:!0},rules:{createTime:[{required:!0,message:"请插入",trigger:"change"}],specimen:[{required:!0,message:"请插入",trigger:"change"}],checkItem:[{required:!0,message:"请插入",trigger:"change"}],checkResult:[{required:!0,message:"请插入",trigger:"change"}],determine:[{required:!0,message:"请插入",trigger:"change"}],checkStandard:[{required:!0,message:"请插入",trigger:"change"}],checkOrganization:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.productId=this.$route.params.id,this.listLoading=!1},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.listLoading=!0,D().post("/api/product_check_record/create",{checkItem:t.ruleFormValue.checkItem,checkOrganization:t.ruleFormValue.checkOrganization,checkResult:t.ruleFormValue.checkResult,checkStandard:t.ruleFormValue.checkStandard,createTime:(new Date).toJSON(),createUserId:O().user().attrs.id,determine:t.ruleFormValue.determine,id:0,productCheckTime:(new Date).toJSON(),productId:t.productId,specimen:t.ruleFormValue.specimen,updateTime:(new Date).toJSON(),updateUserId:O().user().attrs.id}).then((function(e){t.$router.go(-1),setTimeout((function(){t.listLoading=!1}),10)})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},xn=kn,Cn=Object(s["a"])(xn,_n,wn,!1,null,"7ee73eeb",null),Sn=Cn.exports,In=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加认证")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"dataForm",attrs:{"label-width":"100px",model:e.data,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"日期"}},[a("el-input",{attrs:{disabled:""},model:{value:this.oldDate,callback:function(t){e.$set(this,"oldDate",t)},expression:"this.oldDate"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"样品"}},[a("el-input",{model:{value:e.data.specimen,callback:function(t){e.$set(e.data,"specimen",t)},expression:"data.specimen"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检测项目"}},[a("el-input",{model:{value:e.data.checkItem,callback:function(t){e.$set(e.data,"checkItem",t)},expression:"data.checkItem"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检测结果"}},[a("el-input",{model:{value:e.data.checkResult,callback:function(t){e.$set(e.data,"checkResult",t)},expression:"data.checkResult"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"判定"}},[a("el-input",{model:{value:e.data.determine,callback:function(t){e.$set(e.data,"determine",t)},expression:"data.determine"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检测标准"}},[a("el-input",{model:{value:e.data.checkStandard,callback:function(t){e.$set(e.data,"checkStandard",t)},expression:"data.checkStandard"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检测机构"}},[a("el-input",{model:{value:e.data.checkOrganization,callback:function(t){e.$set(e.data,"checkOrganization",t)},expression:"data.checkOrganization"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("dataForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Fn=[],Tn={name:"detailThirdPartySampling",data:function(){return{id:-1,oldDate:null,data:{specimen:"",checkItem:"",checkResult:"",determine:"",checkStandard:"",checkOrganization:""},dataloading:!0,rules:{createTime:[{required:!0,message:"请插入",trigger:"change"}],specimen:[{required:!0,message:"请插入",trigger:"change"}],checkItem:[{required:!0,message:"请插入",trigger:"change"}],checkResult:[{required:!0,message:"请插入",trigger:"change"}],determine:[{required:!0,message:"请插入",trigger:"change"}],checkStandard:[{required:!0,message:"请插入",trigger:"change"}],checkOrganization:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.getData(this.$route.query.checkId)},methods:{getData:function(e){var t=this;this.dataloading=!0,D().get("/api/product_check_record/get/"+e).then((function(e){t.data=e,t.oldDate=t.data.createTime.slice(0,10),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;D().put("/api/product_check_record/update/"+t.data.id,{checkItem:t.data.checkItem,checkOrganization:t.data.checkOrganization,checkResult:t.data.checkResult,checkStandard:t.data.checkStandard,createTime:t.data.createTime,createUserId:t.data.createUserId,determine:t.data.determine,id:t.data.id,productCheckTime:(new Date).toJSON(),productId:t.data.productId,specimen:t.data.specimen,updateTime:(new Date).toJSON(),updateUserId:O().user().attrs.id}).then((function(e){t.$router.go(-1)})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},$n=Tn,Vn=Object(s["a"])($n,In,Fn,!1,null,"385bd6e4",null),Ln=Vn.exports,Nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("产品批次")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""}},[e._v("添加")]):e._e(),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"batchName",label:"批次名称"}}),a("el-table-column",{attrs:{prop:"batchNumber",label:"批次号"}}),a("el-table-column",{attrs:{prop:"operation",label:"作业"}}),a("el-table-column",{attrs:{prop:"sales",label:"销售"}}),a("el-table-column",{attrs:{prop:"attributeName",label:"属性名称"}}),a("el-table-column",{attrs:{prop:"testReport",label:"检测报告"}}),3===e.loggedinUserType||0===e.loggedinUserType?a("el-table-column",{attrs:{label:"操作","class-name":"text-center"}},[[a("el-button",{attrs:{plain:""}},[e._v("修改")]),a("el-button",{attrs:{plain:""}},[e._v("作业")]),a("el-button",{attrs:{plain:""}},[e._v("上传检测报告")]),a("el-button",{attrs:{plain:""}},[e._v("属性")]),a("el-button",{attrs:{plain:""}},[e._v("销售")])]],2):e._e()],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Dn=[],Pn=[{id:"1",batchName:"2017-11-12 17:09:52 银针，银针，特级",batchNumber:"FDBC201711121709520110201",operation:["2017-09-09采摘","2017-09-09采摘","2017-09-09采摘"],sales:"",attributeName:"萎凋方式",testReport:""},{id:"2",batchName:"2017-11-12 17:09:52 银针，银针，特级",batchNumber:"FDBC201711121709520110201",operation:["2017-09-09采摘","2017-09-09采摘","2017-09-09采摘"],sales:"",attributeName:"萎凋方式",testReport:""}],jn={name:"productBatch",components:{Pagination:we},data:function(){return{loggedinUserType:null,id:-1,page:{pageIndex:1,pageSize:20},total:0,radio:"1",tableData:Pn}},created:function(){this.id=this.$route.params.id,this.getList(),this.loggedinUserType=O().user().attrs.userType},methods:{getList:function(){var e=this;this.listLoading=!0,this.tableData=Pn,this.total=this.tableData.length,setTimeout((function(){e.listLoading=!1}),500)},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Un=jn,zn=(a("c58e"),Object(s["a"])(Un,Nn,Dn,!1,null,"02dfa298",null)),An=zn.exports,Rn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("库存动态")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/inventoryDynamics/addInventoryDynamics/"+e.companyId,query:{productId:e.productId}})}}},[e._v("添加")]):e._e(),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(e.filterProduct(a.productId))+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"warehouse",label:"所在仓库"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(e.filterWarehouse(a.warehouseId))+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"repertoryAmount",label:"储存数量"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.repertoryAmount))]}}])}),a("el-table-column",{attrs:{prop:"variety",label:"品种"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.variety))]}}])}),a("el-table-column",{attrs:{prop:"grade",label:"评级"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(e.getGradeName(a.grade))+"\n        ")]}}])}),3===e.loggedinUserType||0===e.loggedinUserType?a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/inventoryDynamics/editInventoryDynamics/"+o.id,query:{productId:o.productId,repertoryAmount:o.repertoryAmount,warehouseId:o.warehouseId,grade:o.grade,variety:o.variety,companyId:e.companyId}})}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}],null,!1,2746637658)}):e._e()],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},On=[],qn={name:"inventoryDynamics",components:{Pagination:we},data:function(){return{loggedinUserType:null,companyId:-1,page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,radio:"1",tableData:null,productName:"",warehouses:[],productId:-1,productDetail:[]}},created:function(){this.companyId=this.$route.params.id,this.productId=this.$route.query.productId,this.getList(),this.getProductionDetail(),this.getWarehouseDetail(),this.loggedinUserType=O().user().attrs.userType},methods:{handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/product_repetory/delete/"+e).then((function(e){t.getList(),setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.log(e)}))}))},getWarehouseDetail:function(){var e=this;D().get("/api/warehose/all",{company_id:this.companyId,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,sortBy:"id"}).then((function(t){e.warehouses=t.data})).catch((function(e){}))},filterWarehouse:function(e){console.log(this.warehouses,e);var t=this.warehouses.find((function(t){return t.id===e}));return console.log(t),t?t.warehouseName:""},getGradeName:function(e){var t=["低级","中级","高级","特级"];return t[e-1]},getList:function(){var e=this;this.listLoading=!0,D().get("/api/product_repetory/all",{product_id:this.productId,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},getProductionDetail:function(){var e=this;D().get("/api/product_production/name").then((function(t){e.productDetail=t})).catch((function(e){console.log(e)}))},filterProduct:function(e){var t=this.productDetail.find((function(t){return t.productId===e}));return t?t.productName:""}}},En=qn,Bn=(a("6ae2"),Object(s["a"])(En,Rn,On,!1,null,"072d8200",null)),Gn=Bn.exports,Mn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("品种定义")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/productVariety/create/"+e.productId)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"varietyName",label:"品种名称"}}),a("el-table-column",{attrs:{prop:"varietySort",label:"品种排序"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.push({path:"/productVariety/edit/"+o.id})}}},[e._v("修改")]),a("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Wn=[],Yn={name:"varietyDefinition",components:{Pagination:we},data:function(){return{filter_Share:0,productId:-1,listLoading:!1,page:{pageIndex:1,pageSize:20},total:0,options:[{value:0,label:"全部"},{value:1,label:"否"},{value:2,label:"是"}],tableData:[]}},created:function(){this.productId=this.$route.params.id,this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/product_variety/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,productId:this.productId}).then((function(t){var a=t.data;e.total=a.length,e.tableData=a,setTimeout((function(){e.listLoading=!1}),10)})).catch((function(e){console.error(e)}))},handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/product_variety/delete/"+e).then((function(e){t.getList()})).catch((function(e){console.log(e)}))}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Jn=Yn,Qn=Object(s["a"])(Jn,Mn,Wn,!1,null,"5e878b65",null),Zn=Qn.exports,Hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("添加品种")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 选择文件 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)]),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否共享",prop:"filter_Share"}},[a("el-select",{attrs:{placeholder:"请选择是否共享"},model:{value:e.filter_Share,callback:function(t){e.filter_Share=t},expression:"filter_Share"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品种名称",prop:"varietyName"}},[a("el-input",{model:{value:e.ruleFormValue.varietyName,callback:function(t){e.$set(e.ruleFormValue,"varietyName",e._n(t))},expression:"ruleFormValue.varietyName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品种排序",prop:"varietySort"}},[a("el-input",{model:{value:e.ruleFormValue.varietySort,callback:function(t){e.$set(e.ruleFormValue,"varietySort",t)},expression:"ruleFormValue.varietySort"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)],1)},Xn=[],Kn={name:"addVarietyDefinition",data:function(){return{filter_Share:0,dialogLoading:!0,dialogVisible:!1,productId:-1,ruleFormValue:{varietyName:"",varietySort:""},options:[{value:0,label:"否"},{value:1,label:"是"}],rules:{varietyName:[{required:!0,message:"请选择",trigger:"change"}],varietySort:[{required:!0,message:"请选择",trigger:"change"}]}}},created:function(){this.productId=this.$route.params.id,this.dialogLoading=!1},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.dialogLoading=!0,D().post("/api/product_variety/create",{createTime:(new Date).toJSON(),createUserId:O().user().attrs.id,doShare:t.filter_Share,id:0,productId:t.productId,updateTime:(new Date).toJSON(),updateUserId:O().user().attrs.id,varietyName:t.ruleFormValue.varietyName,varietySort:t.ruleFormValue.varietySort}).then((function(e){setTimeout((function(){t.dialogLoading=!1}),10),t.$router.go(-1)})).catch((function(e){}))}))}}},es=Kn,ts=Object(s["a"])(es,Hn,Xn,!1,null,null,null),as=ts.exports,os=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("修改品种")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 选择文件 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)]),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否共享"}},[a("el-select",{attrs:{placeholder:"请选择是否共享"},model:{value:e.filter_Share,callback:function(t){e.filter_Share=t},expression:"filter_Share"}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,selected:"item.value"==e.filter_Share}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品种名称",prop:"varietyName"}},[a("el-input",{model:{value:e.ruleFormValue.varietyName,callback:function(t){e.$set(e.ruleFormValue,"varietyName",t)},expression:"ruleFormValue.varietyName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品种排序",prop:"varietySort"}},[a("el-input",{model:{value:e.ruleFormValue.varietySort,callback:function(t){e.$set(e.ruleFormValue,"varietySort",t)},expression:"ruleFormValue.varietySort"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)],1)},rs=[],ls={name:"editVarietyDefinition",data:function(){return{filter_Share:0,dialogVisible:!1,dataloading:!0,varietyId:-1,ruleFormValue:{varietyName:"",varietySort:""},options:[{value:"0",label:"否"},{value:"1",label:"是"}],rules:{varietyName:[{required:!0,message:"请选择",trigger:"change"}],varietySort:[{required:!0,message:"请选择",trigger:"change"}]}}},created:function(){this.varietyId=this.$route.params.id,this.getVariety(this.varietyId)},methods:{getVariety:function(e){var t=this;this.dataloading=!0,D().get("/api/product_variety/get/"+e).then((function(e){t.ruleFormValue=e,t.filter_Share=t.ruleFormValue.doShare,setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.dataloading=!0,D().put("/api/product_variety/update/"+t.varietyId,{createTime:t.ruleFormValue.createTime,createUserId:t.ruleFormValue.createUserId,doShare:t.filter_Share,id:0,productId:t.ruleFormValue.productId,updateTime:(new Date).toJSON(),updateUserId:O().user().attrs.id,varietyName:t.ruleFormValue.varietyName,varietySort:t.ruleFormValue.varietySort}).then((function(e){setTimeout((function(){t.dataloading=!1}),10),t.$router.go(-1)})).catch((function(e){}))}))}}},is=ls,ns=Object(s["a"])(is,os,rs,!1,null,null,null),ss=ns.exports,cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加动态")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleFormValue.productName,callback:function(t){e.$set(e.ruleFormValue,"productName",t)},expression:"ruleFormValue.productName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"仓库地址",prop:"warehouseId"}},[a("el-select",{attrs:{disabled:!(this.warehouseOptions.length>0)},model:{value:e.ruleFormValue.warehouseId,callback:function(t){e.$set(e.ruleFormValue,"warehouseId",t)},expression:"ruleFormValue.warehouseId"}},e._l(e.warehouseOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"储存数量",prop:"repertoryAmount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.ruleFormValue.repertoryAmount,callback:function(t){e.$set(e.ruleFormValue,"repertoryAmount",t)},expression:"ruleFormValue.repertoryAmount"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品种",prop:"variety"}},[a("el-input",{model:{value:e.ruleFormValue.variety,callback:function(t){e.$set(e.ruleFormValue,"variety",t)},expression:"ruleFormValue.variety"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"评级",prop:"grade"}},[a("el-select",{attrs:{disabled:!(e.options.length>0)},model:{value:e.ruleFormValue.grade,callback:function(t){e.$set(e.ruleFormValue,"grade",t)},expression:"ruleFormValue.grade"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},us=[],ds={name:"addInventoryDynamics",data:function(){return{listLoading:!1,warehouseOptions:[],productDetail:[],ruleFormValue:{createTime:"",updateTime:"",grade:"",productId:0,companyId:0,repertoryAmount:"",variety:"",warehouseId:null,productName:""},rules:{variety:[{required:!0,message:"请插入",trigger:"change"}],repertoryAmount:[{required:!0,message:"请插入",trigger:"change"}],grade:[{required:!0,message:"请选择",trigger:"change"}],warehouseId:[{required:!0,message:"请选择",trigger:"change"}]},options:[{value:"1",label:"低级"},{value:"2",label:"中级"},{value:"3",label:"高级"},{value:"4",label:"特级"}]}},created:function(){this.ruleFormValue.productId=this.$route.query.productId,this.ruleFormValue.companyId=this.$route.params.id,this.getProductionDetail(),this.getWarehouseList(),this.getCurrentTime()},methods:{getProductionDetail:function(){var e=this;this.listLoading=!0,D().get("/api/product_production/name",{productid:this.ruleFormValue.productId}).then((function(t){e.ruleFormValue.productName=t[0].productName,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getCurrentTime:function(){var e=new Date;this.ruleFormValue.createTime=e.toISOString(),this.ruleFormValue.updateTime=e.toISOString()},getWarehouseList:function(){var e=this;this.listLoading=!0,D().get("/api/warehose/all",{company_id:this.ruleFormValue.companyId}).then((function(t){for(var a in t.data)e.warehouseOptions.push({value:t.data[a].id,label:t.data[a].warehouseName});setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a={createTime:t.ruleFormValue.createTime,updateTime:t.ruleFormValue.updateTime,grade:t.ruleFormValue.grade,id:0,productId:t.ruleFormValue.productId,repertoryAmount:t.ruleFormValue.repertoryAmount,variety:t.ruleFormValue.variety,warehouseId:t.ruleFormValue.warehouseId};t.listLoading=!0,D().post("/api/product_repetory/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.goBack()})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},ps=ds,ms=Object(s["a"])(ps,cs,us,!1,null,"6ae2762b",null),fs=ms.exports,gs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改动态")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleFormValue.productName,callback:function(t){e.$set(e.ruleFormValue,"productName",t)},expression:"ruleFormValue.productName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"仓库地址",prop:"warehouseId"}},[a("el-select",{attrs:{disabled:!(this.warehouseOptions.length>0)},model:{value:e.ruleFormValue.warehouseId,callback:function(t){e.$set(e.ruleFormValue,"warehouseId",t)},expression:"ruleFormValue.warehouseId"}},e._l(e.warehouseOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"储存数量",prop:"repertoryAmount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.ruleFormValue.repertoryAmount,callback:function(t){e.$set(e.ruleFormValue,"repertoryAmount",t)},expression:"ruleFormValue.repertoryAmount"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品种",prop:"variety"}},[a("el-input",{model:{value:e.ruleFormValue.variety,callback:function(t){e.$set(e.ruleFormValue,"variety",t)},expression:"ruleFormValue.variety"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"评级",prop:"grade"}},[a("el-select",{attrs:{disabled:!(e.options.length>0)},model:{value:e.ruleFormValue.grade,callback:function(t){e.$set(e.ruleFormValue,"grade",t)},expression:"ruleFormValue.grade"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},hs=[],bs=(a("6b54"),a("4917"),{name:"editInventoryDynamics",data:function(){return{listLoading:!1,warehouseData:[],warehouseOptions:[],ruleFormValue:{createTime:"",updateTime:"",grade:"",productId:0,repertoryAmount:"",variety:"",warehouseId:null,productName:"",id:0,companyId:0},rules:{variety:[{required:!0,message:"请插入",trigger:"change"}],repertoryAmount:[{required:!0,message:"请插入",trigger:"change"}],grade:[{required:!0,message:"请选择",trigger:"change"}],warehouseId:[{required:!0,message:"请选择",trigger:"change"}]},options:[{value:"1",label:"低级"},{value:"2",label:"中级"},{value:"3",label:"高级"},{value:"4",label:"特级"}]}},created:function(){this.ruleFormValue.productId=this.$route.query.productId,this.ruleFormValue.repertoryAmount=this.$route.query.repertoryAmount.toString().match(/(\d+)/)[0],this.ruleFormValue.warehouseId=this.$route.query.warehouseId,this.ruleFormValue.grade=this.$route.query.grade,this.ruleFormValue.variety=this.$route.query.variety,this.ruleFormValue.id=this.$route.params.id,this.ruleFormValue.companyId=this.$route.query.companyId,this.getProductionDetail(),this.getWarehouseList(),this.getCurrentTime()},methods:{getProductionDetail:function(){var e=this;this.listLoading=!0,D().get("/api/product_production/name",{productid:this.ruleFormValue.productId}).then((function(t){e.ruleFormValue.productName=t[0].productName,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getCurrentTime:function(){var e=new Date;this.ruleFormValue.createTime=e.toISOString(),this.ruleFormValue.updateTime=e.toISOString()},getWarehouseList:function(){var e=this;this.listLoading=!0,D().get("/api/warehose/all",{company_id:this.ruleFormValue.companyId}).then((function(t){for(var a in t.data)e.warehouseOptions.push({value:t.data[a].id,label:t.data[a].warehouseName});setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a={createTime:t.ruleFormValue.createTime,updateTime:t.ruleFormValue.updateTime,grade:t.ruleFormValue.grade,id:t.ruleFormValue.id,productId:t.ruleFormValue.productId,repertoryAmount:t.ruleFormValue.repertoryAmount,variety:t.ruleFormValue.variety,warehouseId:t.ruleFormValue.warehouseId};t.listLoading=!0,D().put("/api/product_repetory/update/"+t.ruleFormValue.id,a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.goBack()})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}}),vs=bs,ys=Object(s["a"])(vs,gs,hs,!1,null,"2aa7ec03",null),_s=ys.exports,ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("定义等级")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/productionGrade/create/"+e.productId)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"gradeName",label:"等级名称"}}),a("el-table-column",{attrs:{prop:"gradeSort",label:"等级排序"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.push({path:"/productionGrade/edit/"+o.id})}}},[e._v("修改")]),a("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},ks=[],xs={name:"definitoinLevel",components:{Pagination:we},data:function(){return{listLoading:!1,productId:-1,page:{pageIndex:1,pageSize:20},total:0,tableData:[]}},created:function(){this.productId=this.$route.params.id,this.getList()},methods:{rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},getList:function(){var e=this;this.listLoading=!0,D().get("/api/product_grade/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,productId:this.productId}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),10)})).catch((function(e){console.error(e)}))},handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/product_grade/delete/"+e).then((function(e){t.getList()})).catch((function(e){console.log(e)}))}))}}},Cs=xs,Ss=Object(s["a"])(Cs,ws,ks,!1,null,null,null),Is=Ss.exports,Fs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品/定义等级")]),a("el-breadcrumb-item",[e._v("添加品种")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 选择文件 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)]),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogloading,expression:"dialogloading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否共享"}},[a("el-select",{attrs:{placeholder:"请选择是否共享"},model:{value:e.filter_Share,callback:function(t){e.filter_Share=t},expression:"filter_Share"}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,selected:"item.value"==e.filter_Share}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"等级名称",prop:"gradeName"}},[a("el-input",{model:{value:e.ruleFormValue.gradeName,callback:function(t){e.$set(e.ruleFormValue,"gradeName",t)},expression:"ruleFormValue.gradeName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"等级排序",prop:"gradeSort"}},[a("el-input",{model:{value:e.ruleFormValue.gradeSort,callback:function(t){e.$set(e.ruleFormValue,"gradeSort",t)},expression:"ruleFormValue.gradeSort"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)],1)},Ts=[],$s={name:"addDefinitionLevel",data:function(){return{filter_Share:0,dialogVisible:!1,dialogloading:!0,productId:-1,ruleFormValue:{gradeName:"",gradeSort:""},options:[{value:0,label:"否"},{value:1,label:"是"}],rules:{gradeName:[{required:!0,message:"请选择",trigger:"change"}],gradeSort:[{required:!0,message:"请选择",trigger:"change"}]}}},created:function(){this.productId=this.$route.params.id,this.dialogloading=!1},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.dialogloading=!0,D().post("/api/product_grade/create",{createTime:(new Date).toJSON(),createUserId:O().user().attrs.id,doShare:t.filter_Share,gradeName:t.ruleFormValue.gradeName,gradeSort:t.ruleFormValue.gradeSort,id:0,productId:t.productId,updateTime:(new Date).toJSON(),updateUserId:O().user().attrs.id}).then((function(e){setTimeout((function(){t.dataloading=!1}),10),t.$router.go(-1)})).catch((function(e){}))}))}}},Vs=$s,Ls=Object(s["a"])(Vs,Fs,Ts,!1,null,null,null),Ns=Ls.exports,Ds=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("生产主体")]),a("el-breadcrumb-item",[e._v("主营产品/定义等级")]),a("el-breadcrumb-item",[e._v("修改等级")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 选择文件 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)]),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否共享"}},[a("el-select",{attrs:{placeholder:"请选择是否共享"},model:{value:e.filter_Share,callback:function(t){e.filter_Share=t},expression:"filter_Share"}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,selected:"item.value"==e.filter_Share}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"等级名称",prop:"gradeName"}},[a("el-input",{model:{value:e.ruleFormValue.gradeName,callback:function(t){e.$set(e.ruleFormValue,"gradeName",t)},expression:"ruleFormValue.gradeName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"等级排序",prop:"gradeSort"}},[a("el-input",{model:{value:e.ruleFormValue.gradeSort,callback:function(t){e.$set(e.ruleFormValue,"gradeSort",t)},expression:"ruleFormValue.gradeSort"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)],1)},Ps=[],js={name:"editDefinitionLevel",data:function(){return{filter_Share:0,dialogVisible:!1,dataloading:!0,varietyId:-1,ruleFormValue:{gradeName:"",gradeSort:""},options:[{value:"0",label:"否"},{value:"1",label:"是"}],rules:{gradeName:[{required:!0,message:"请选择",trigger:"change"}],gradeSort:[{required:!0,message:"请选择",trigger:"change"}]}}},created:function(){this.varietyId=this.$route.params.id,this.getVariety(this.varietyId)},methods:{getVariety:function(e){var t=this;this.dataloading=!0,D().get("/api/product_grade/get/"+e).then((function(e){t.ruleFormValue=e,console.log(t.ruleFormValue),t.filter_Share=t.ruleFormValue.doShare,setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.dataloading=!0,D().put("/api/product_grade/update/"+t.varietyId,{createTime:t.ruleFormValue.createTime,createUserId:t.ruleFormValue.createUserId,doShare:t.filter_Share,gradeName:t.ruleFormValue.gradeName,gradeSort:t.ruleFormValue.gradeSort,id:0,productId:t.ruleFormValue.productId,updateTime:(new Date).toJSON(),updateUserId:O().user().attrs.id}).then((function(e){setTimeout((function(){t.dataloading=!1}),10),t.$router.go(-1)})).catch((function(e){}))}))}}},Us=js,zs=Object(s["a"])(Us,Ds,Ps,!1,null,null,null),As=zs.exports,Rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("/作业定义")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[a("el-button",{staticStyle:{"margin-right":".5rem"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/processDefinition/addProcessDefinition/"+e.productId,query:{doShare:1,companyId:e.id}})}}},[e._v("添加")]),a("el-select",{staticStyle:{"margin-right":".5rem"},attrs:{disabled:!(e.options.length>0)},model:{value:e.processType,callback:function(t){e.processType=t},expression:"processType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"taskName",label:"作业名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.taskName))]}}])}),a("el-table-column",{attrs:{prop:"taskType",label:"作业类型"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.taskTypeList[a.taskType-1]))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/processDefinition/editProcessDefinition/"+o.id,query:{companyId:e.id}})}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Os=[],qs={name:"processDefinition",components:{Pagination:we},data:function(){return{id:-1,page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,radio:"1",tableData:null,productName:"",productId:0,doShare:"",taskImages:"",taskName:"",taskType:"",taskTypeList:["收获前","收获","收获后"],processType:"",options:[{value:"1",label:"作业共享"},{value:"2",label:"银针"},{value:"3",label:"白牡丹"}]}},created:function(){this.id=this.$route.params.id,this.productId=this.$route.query.productId,this.getList(this.productId)},methods:{handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/product_task/delete/"+e).then((function(e){t.getList(t.productId),setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.log(e)}))}))},getList:function(e){var t=this;this.listLoading=!0,D().get("/api/product_task/all",{productId:e,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(e){t.tableData=e.data,t.total=e.total,setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Es=qs,Bs=(a("5a85"),Object(s["a"])(Es,Rs,Os,!1,null,"145f462a",null)),Gs=Bs.exports,Ms=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加作业")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"作业名称",prop:"taskName"}},[a("el-input",{model:{value:e.ruleFormValue.taskName,callback:function(t){e.$set(e.ruleFormValue,"taskName",t)},expression:"ruleFormValue.taskName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"仓库地址",prop:"taskType"}},[a("el-select",{attrs:{disabled:!(e.options.length>0)},model:{value:e.ruleFormValue.taskType,callback:function(t){e.$set(e.ruleFormValue,"taskType",t)},expression:"ruleFormValue.taskType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",{staticClass:"label-margin",attrs:{label:"添加图片",prop:"file"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/*"},on:{change:function(t){return e.handleFileUpload()}}}),a("div",{staticStyle:{border:"solid 1px",width:"100px",height:"100px"},on:{click:function(t){return e.chooseFile()}}},[!e.imageSelectedUrl&&e.ruleFormValue.taskImages?a("img",{staticStyle:{width:"7rem",height:"7rem"},attrs:{src:e.imageUrl+e.ruleFormValue.taskImages}}):e._e(),e.imageSelectedUrl?a("img",{staticStyle:{width:"7rem",height:"7rem"},attrs:{src:e.imageSelectedUrl}}):e._e()]),a("div",{staticClass:"item-value"},[e.file?a("div",{},[e._v("("+e._s(e.file.name)+")")]):a("div",{},[e._v("请选择需要上传的文件...")])])]),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Ws=[],Ys={name:"addProcessDefinition",data:function(){return{file:null,listLoading:!1,imageUrl:"",imageSelectedUrl:"",companyId:-1,ruleFormValue:{file:null,taskType:"",taskName:"",taskImages:"",doShare:"",productId:0},rules:{taskName:[{required:!0,message:"请插入",trigger:"change"}],taskType:[{required:!0,message:"请插入",trigger:"change"}]},options:[{value:"1",label:"收获前"},{value:"2",label:"收获"},{value:"3",label:"收获后"}]}},created:function(){this.ruleFormValue.productId=this.$route.params.id,this.ruleFormValue.doShare=this.$route.query.doShare,this.companyId=this.$route.query.companyId},methods:{chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0];var e=new FileReader;this.imageSelectedUrl="";var t=this;e.onload=function(e){t.imageSelectedUrl=e.target.result},this.file&&e.readAsDataURL(this.file)},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a=new FormData;a.append("doShare",t.ruleFormValue.doShare),a.append("id","0"),a.append("productId",t.ruleFormValue.productId),a.append("taskName",t.ruleFormValue.taskName),a.append("taskType",t.ruleFormValue.taskType),a.append("file",t.file),t.listLoading=!0,D().post("/api/product_task/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.goBack()})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},Js=Ys,Qs=(a("0eec"),Object(s["a"])(Js,Ms,Ws,!1,null,null,null)),Zs=Qs.exports,Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加作业")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"作业名称",prop:"taskName"}},[a("el-input",{model:{value:e.ruleFormValue.taskName,callback:function(t){e.$set(e.ruleFormValue,"taskName",t)},expression:"ruleFormValue.taskName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"仓库地址",prop:"taskType"}},[a("el-select",{attrs:{disabled:!(e.options.length>0)},model:{value:e.ruleFormValue.taskType,callback:function(t){e.$set(e.ruleFormValue,"taskType",t)},expression:"ruleFormValue.taskType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",{staticClass:"label-margin",attrs:{label:"添加图片",prop:"file"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/*"},on:{change:function(t){return e.handleFileUpload()}}}),a("div",{staticStyle:{border:"solid 1px",width:"100px",height:"100px"},on:{click:function(t){return e.chooseFile()}}},[!e.imageSelectedUrl&&e.ruleFormValue.taskImages?a("img",{staticStyle:{width:"7rem",height:"7rem"},attrs:{src:e.imageUrl+e.ruleFormValue.taskImages}}):e._e(),e.imageSelectedUrl?a("img",{staticStyle:{width:"7rem",height:"7rem"},attrs:{src:e.imageSelectedUrl}}):e._e()]),a("div",{staticClass:"item-value"},[e.file?a("div",[e._v("("+e._s(e.fileName)+")")]):a("div",{},[e._v("请选择需要上传的文件...")])])]),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Xs=[],Ks={name:"editProcessDefinition",data:function(){return{file:null,fileName:"",listLoading:!1,imageUrl:"",imageSelectedUrl:"",companyId:-1,ruleFormValue:{doShare:"",taskName:"",taskType:"",file:null,productId:0,id:0,taskImages:""},rules:{taskName:[{required:!0,message:"请插入",trigger:"change"}],taskType:[{required:!0,message:"请插入",trigger:"change"}]},options:[{value:"1",label:"收获前"},{value:"2",label:"收获"},{value:"3",label:"收获后"}]}},created:function(){this.ruleFormValue.id=this.$route.params.id,this.companyId=this.$route.query.companyId,this.getInfo()},methods:{getInfo:function(){var e=this;this.listLoading=!0,D().get("/api/product_task/get/"+this.ruleFormValue.id).then((function(t){e.ruleFormValue.taskType=t.taskType,e.ruleFormValue.taskName=t.taskName,e.ruleFormValue.doShare=t.doShare,e.ruleFormValue.taskImages=t.taskImages,e.ruleFormValue.productId=t.productId,e.imageUrl=F.DOWNLOAD_URL(),e.file=t.taskImages,e.fileName=t.taskImages,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){}))},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(e){this.file=this.$refs.file.files[0];var t=new FileReader;this.imageSelectedUrl="";var a=this;t.onload=function(e){a.imageSelectedUrl=e.target.result},this.file&&(t.readAsDataURL(this.file),this.fileName=this.file.name)},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a=new FormData;a.append("doShare",t.ruleFormValue.doShare),a.append("taskName",t.ruleFormValue.taskName),a.append("taskType",t.ruleFormValue.taskType),a.append("productId",t.ruleFormValue.productId),null!=t.file&&a.append("file",t.file),t.listLoading=!0,D().put("/api/product_task/update/"+t.ruleFormValue.id,a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.goBack()})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},ec=Ks,tc=Object(s["a"])(ec,Hs,Xs,!1,null,"e8c1c02a",null),ac=tc.exports,oc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("属性管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[a("el-button",{staticStyle:{"margin-right":".5rem"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/productProperty/addProductProperty/"+e.id})}}},[e._v("添加")]),a("el-select",{staticStyle:{"margin-right":".5rem"},attrs:{disabled:!(e.options.length>0)},model:{value:e.processType,callback:function(t){e.processType=t},expression:"processType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"propertyName",label:"属性名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.propertyName))]}}])}),a("el-table-column",{attrs:{prop:"propertyOptions",label:"选项排序"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.propertyOptions))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/productProperty/editProductProperty/"+e.id,query:{id:o.id}})}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},rc=[],lc={name:"productProperty",components:{Pagination:we},data:function(){return{id:-1,page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,radio:"1",tableData:null,productName:"",propertyName:"",propertyOptions:"",propertySort:"",options:[{value:"1",label:"属性共享"},{value:"2",label:"银针"},{value:"3",label:"白牡丹"}],processType:""}},created:function(){this.id=this.$route.params.id,this.productName=this.$route.query.productName,this.getList(this.id)},methods:{handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/product_property/delete/"+e).then((function(e){t.getList(t.id),setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.log(e)}))}))},getList:function(e){var t=this;this.listLoading=!0,D().get("/api/product_property/all",{productId:e,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(e){t.tableData=e.data,t.total=e.total,setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},ic=lc,nc=(a("d17f"),Object(s["a"])(ic,oc,rc,!1,null,"4d55b26a",null)),sc=nc.exports,cc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加属性")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"属性名称",prop:"propertyName"}},[a("el-input",{model:{value:e.ruleFormValue.propertyName,callback:function(t){e.$set(e.ruleFormValue,"propertyName",t)},expression:"ruleFormValue.propertyName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"属性可选项",prop:"propertyOptions"}},[a("el-input",{model:{value:e.ruleFormValue.propertyOptions,callback:function(t){e.$set(e.ruleFormValue,"propertyOptions",t)},expression:"ruleFormValue.propertyOptions"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"属性排序",prop:"propertySort"}},[a("el-input",{model:{value:e.ruleFormValue.propertySort,callback:function(t){e.$set(e.ruleFormValue,"propertySort",t)},expression:"ruleFormValue.propertySort"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},uc=[],dc={name:"addProductProperty",data:function(){return{listLoading:!1,ruleFormValue:{doShare:"1",propertyName:"",propertyOptions:"",propertySort:"",productId:0},rules:{propertyName:[{required:!0,message:"请插入",trigger:"change"}],propertyOptions:[{required:!0,message:"请插入",trigger:"change"}],propertySort:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.ruleFormValue.productId=this.$route.params.id},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a={id:0,productId:t.ruleFormValue.productId,propertyName:t.ruleFormValue.propertyName,propertyOptions:t.ruleFormValue.propertyOptions,propertySort:t.ruleFormValue.propertySort,doShare:t.ruleFormValue.doShare};t.listLoading=!0,D().post("/api/product_property/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.goBack()})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},pc=dc,mc=Object(s["a"])(pc,cc,uc,!1,null,"c10bb9aa",null),fc=mc.exports,gc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改属性")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"属性名称",prop:"propertyName"}},[a("el-input",{model:{value:e.ruleFormValue.propertyName,callback:function(t){e.$set(e.ruleFormValue,"propertyName",t)},expression:"ruleFormValue.propertyName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"属性可选项",prop:"propertyOptions"}},[a("el-input",{model:{value:e.ruleFormValue.propertyOptions,callback:function(t){e.$set(e.ruleFormValue,"propertyOptions",t)},expression:"ruleFormValue.propertyOptions"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"属性排序",prop:"propertySort"}},[a("el-input",{model:{value:e.ruleFormValue.propertySort,callback:function(t){e.$set(e.ruleFormValue,"propertySort",t)},expression:"ruleFormValue.propertySort"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/"+e.ruleFormValue.productId,query:{id:e.ruleFormValue.id}})}}},[e._v("编辑选项")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},hc=[],bc={name:"editProductProperty",data:function(){return{listLoading:!1,ruleFormValue:{propertyName:"",propertyOptions:"",propertySort:"",productId:0,id:-1},rules:{propertyName:[{required:!0,message:"请插入",trigger:"change"}],propertyOptions:[{required:!0,message:"请插入",trigger:"change"}],propertySort:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.ruleFormValue.productId=this.$route.params.id,this.ruleFormValue.id=this.$route.query.id,this.getProductPropertyInfo()},methods:{getProductPropertyInfo:function(){var e=this;this.listLoading=!0,D().get("/api/product_property/get/"+this.ruleFormValue.id).then((function(t){setTimeout((function(){e.listLoading=!1}),50),e.ruleFormValue.propertyName=t.propertyName,e.ruleFormValue.propertyOptions=t.propertyOptions,e.ruleFormValue.propertySort=t.propertySort})).catch((function(e){}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a=new FormData;a.append("productId",t.ruleFormValue.productId),a.append("propertyName",t.ruleFormValue.propertyName),a.append("propertyOptions",t.ruleFormValue.propertyOptions),a.append("propertySort",t.propertySort),t.listLoading=!0,D().put("/api/product_property/update/"+t.ruleFormValue.id,a).then((function(e){setTimeout((function(){t.listLoading=!1}),50),t.$router.push({path:"/productionSubject/mainProduct/productProperty/".concat(t.ruleFormValue.productId)})})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},vc=bc,yc=Object(s["a"])(vc,gc,hc,!1,null,"11dec101",null),_c=yc.exports,wc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("属性管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("/编辑选项")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[a("el-button",{staticStyle:{"margin-right":".5rem"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/addCustomProductProperty/"+e.id})}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"name",label:"选项名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.name))]}}])}),a("el-table-column",{attrs:{prop:"sort",label:"选项排序"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.sort))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/editCustomProductProperty/"+e.id,query:{id:o.id,name:o.name,sort:o.sort}})}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},kc=[],xc={name:"customProductProperty",components:{Pagination:we},data:function(){return{id:-1,page:{pageIndex:1,pageSize:20},tableData:null,listLoading:!0,total:0,radio:"1",name:"",sort:""}},created:function(){this.id=this.$route.params.id,this.getList()},methods:{handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/product_property_option/delete/"+e).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.getList(t.id)})).catch((function(e){console.log(e)}))}))},getList:function(){var e=this;this.listLoading=!0,D().get("/api/product_property_option/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Cc=xc,Sc=(a("daaa"),Object(s["a"])(Cc,wc,kc,!1,null,"c3bf0d78",null)),Ic=Sc.exports,Fc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("属性管理")]),a("el-breadcrumb-item",[e._v("编辑选项")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加属性")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"选项名称",prop:"name"}},[a("el-input",{model:{value:e.ruleFormValue.name,callback:function(t){e.$set(e.ruleFormValue,"name",t)},expression:"ruleFormValue.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"选项排序",prop:"sort"}},[a("el-input",{model:{value:e.ruleFormValue.sort,callback:function(t){e.$set(e.ruleFormValue,"sort",t)},expression:"ruleFormValue.sort"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Tc=[],$c=(a("55dd"),{name:"addCustomProductProperty",data:function(){return{listLoading:!1,ruleFormValue:{id:-1,name:"",sort:""},rules:{name:[{required:!0,message:"请插入",trigger:"change"}],sort:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.ruleFormValue.id=this.$route.params.id},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a={id:0,name:t.ruleFormValue.name,sort:t.ruleFormValue.sort};t.listLoading=!0,D().post("/api/product_property_option/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),50),t.$router.push({path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/".concat(t.ruleFormValue.id)})})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}}),Vc=$c,Lc=Object(s["a"])(Vc,Fc,Tc,!1,null,"41f0cbc0",null),Nc=Lc.exports,Dc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("主营产品")]),a("el-breadcrumb-item",[e._v("属性管理")]),a("el-breadcrumb-item",[e._v("编辑选项")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改属性")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"选项名称",prop:"name"}},[a("el-input",{model:{value:e.ruleFormValue.name,callback:function(t){e.$set(e.ruleFormValue,"name",t)},expression:"ruleFormValue.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"选项排序",prop:"sort"}},[a("el-input",{model:{value:e.ruleFormValue.sort,callback:function(t){e.$set(e.ruleFormValue,"sort",t)},expression:"ruleFormValue.sort"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Pc=[],jc={name:"editCustomProductProperty",data:function(){return{listLoading:!1,ruleFormValue:{id:-1,name:"",sort:""},rules:{name:[{required:!0,message:"请插入",trigger:"change"}],sort:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.ruleFormValue.id=this.$route.query.id,this.ruleFormValue.name=this.$route.query.name,this.ruleFormValue.sort=this.$route.query.sort},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a={id:0,name:t.ruleFormValue.name,sort:t.ruleFormValue.sort};t.listLoading=!0,D().put("/api/product_property_option/update/"+t.ruleFormValue.id,a).then((function(e){setTimeout((function(){t.listLoading=!1}),50),t.$router.push({path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/".concat(t.ruleFormValue.id)})})).catch((function(e){}))}))},goBack:function(){this.$router.go(-1)}}},Uc=jc,zc=Object(s["a"])(Uc,Dc,Pc,!1,null,"89e9a896",null),Ac=zc.exports,Rc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("三品认证")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"select_label"},[e._v(e._s(e.getCompanyName()))]),a("div",{staticClass:"select_label"},[e._v("分类")]),a("el-select",{staticStyle:{"margin-right":"30px"},attrs:{placeholder:"请选择"},on:{change:e.getList},model:{value:e.filterStatus,callback:function(t){e.filterStatus=t},expression:"filterStatus"}},e._l(e.argriculturalClassification,(function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),1),a("div",{staticClass:"select_label"},[e._v("认证类型")]),a("el-select",{staticStyle:{"margin-right":"30px"},attrs:{placeholder:"请选择"},on:{change:e.getList},model:{value:e.certificationType,callback:function(t){e.certificationType=t},expression:"certificationType"}},e._l(e.certificationTypes,(function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),1),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/productionSubject/threeProduct/addThreeProduct",query:{creditCode:e.creditCode}})}}},[e._v("添加认证")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:"","row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterProduct(a.productId)))]}}])}),a("el-table-column",{attrs:{prop:"argriculturalClassification",label:"分类",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.appStatus1[a.argriculturalClassification]))]}}])}),a("el-table-column",{attrs:{prop:"certificationType",label:"认证类型",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.certificationTypes[a.certificationType]))]}}])}),a("el-table-column",{attrs:{prop:"certificationNo",label:"证书编号",width:""}}),a("el-table-column",{attrs:{label:"证书有效期",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getCertification(a.certificationStartTime,a.certificationEndTime)))]}}])}),a("el-table-column",{attrs:{label:"有效时间",width:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getPeriod(a.certificationStartTime,a.certificationEndTime)))]}}])}),a("el-table-column",{attrs:{prop:"output",label:"产量",width:""}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Oc=[],qc={name:"threeProduct",components:{Pagination:we},data:function(){return{companyData:[],page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],creditCode:-1,productName:"",productCategory:0,productDetail:[],filterStatus:0,certificationType:0,appStatus1:["全部","养殖业","畜牧业","种植业"],argriculturalClassification:["全部","养殖业","畜牧业","种植业"],certificationTypes:["全部","无公害产品","绿色食品","有机食品","地理标志"]}},created:function(){this.creditCode=this.$route.query.creditCode,this.getProductionDetail(),this.getCompanyProduction(),this.getList()},methods:{getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyData=t})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/quality_standard/all",{creditCode:this.$route.query.creditCode,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,argriculturalClassification:this.filterStatus,certificationType:this.certificationType}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getProductionDetail:function(){var e=this;D().get("/api/product_production/name").then((function(t){e.productDetail=t})).catch((function(e){console.log(e)}))},filterProduct:function(e){var t=this.productDetail.find((function(t){return t.productId===e}));return t?t.productName:""},getCompanyName:function(){var e=this,t=this.companyData.find((function(t){return t.creditCode===e.$route.query.creditCode}));return t?t.companyName:""},getCertification:function(e,t){return e.substr(0,10)+"至"+t.substr(0,10)},getPeriod:function(e,t){var a=parseInt(e.substr(0,4)),o=parseInt(t.substr(0,4));return(o-a<=0?0:o-a)+"年"},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Ec=qc,Bc=Object(s["a"])(Ec,Rc,Oc,!1,null,null,null),Gc=Bc.exports,Mc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管对象")]),a("el-breadcrumb-item",[e._v("三品认证")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加认证")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业",prop:"creditCode"}},[e._v(e._s(e.filterCompanyName(e.ruleFormValue.creditCode)))])],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品名称",prop:"productId"}},[a("el-select",{attrs:{disabled:!(e.productNameList.length>0)},model:{value:e.ruleFormValue.productId,callback:function(t){e.$set(e.ruleFormValue,"productId",t)},expression:"ruleFormValue.productId"}},e._l(e.productNameList,(function(e){return a("el-option",{key:e.productId,attrs:{label:e.productName,value:e.productId}})})),1)],1)],1)],1),a("el-form-item",{attrs:{label:"认证类型",prop:"certificationType"}},[a("el-radio-group",{model:{value:e.ruleFormValue.certificationType,callback:function(t){e.$set(e.ruleFormValue,"certificationType",t)},expression:"ruleFormValue.certificationType"}},[a("el-radio",{attrs:{label:"1"}},[e._v("无公害产品")]),a("el-radio",{attrs:{label:"2"}},[e._v("绿色食品")]),a("el-radio",{attrs:{label:"3"}},[e._v("有机食品")]),a("el-radio",{attrs:{label:"4"}},[e._v("地理标志")])],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"认证类别",prop:"certificationCategory"}},[a("el-input",{model:{value:e.ruleFormValue.certificationCategory,callback:function(t){e.$set(e.ruleFormValue,"certificationCategory",t)},expression:"ruleFormValue.certificationCategory"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"农业分类",prop:"argriculturalClassification"}},[a("el-select",{model:{value:e.ruleFormValue.argriculturalClassification,callback:function(t){e.$set(e.ruleFormValue,"argriculturalClassification",t)},expression:"ruleFormValue.argriculturalClassification"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"认证有效期",required:""}},[a("el-col",{staticClass:"text-left",attrs:{span:4}},[a("el-form-item",{attrs:{prop:"certificationStartTime"}},[a("el-date-picker",{staticClass:"w-80",staticStyle:{width:"100%"},attrs:{"value-format":"dd.MM.yyyy"},model:{value:e.ruleFormValue.certificationStartTime,callback:function(t){e.$set(e.ruleFormValue,"certificationStartTime",t)},expression:"ruleFormValue.certificationStartTime"}})],1)],1),a("el-col",{staticClass:"text-left",attrs:{span:1}},[e._v("至")]),a("el-col",{staticClass:"text-left",attrs:{span:4}},[a("el-form-item",{attrs:{prop:"certificationEndTime"}},[a("el-date-picker",{staticClass:"w-100",staticStyle:{width:"100%"},attrs:{"value-format":"dd.MM.yyyy"},model:{value:e.ruleFormValue.certificationEndTime,callback:function(t){e.$set(e.ruleFormValue,"certificationEndTime",t)},expression:"ruleFormValue.certificationEndTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产量",prop:"output"}},[a("el-input",{model:{value:e.ruleFormValue.output,callback:function(t){e.$set(e.ruleFormValue,"output",t)},expression:"ruleFormValue.output"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("el-form-item",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),e.file?a("span",[e._v("("+e._s(e.file.name)+")")]):a("span",[e._v("请选择需要上传的文件...")])],1)],1)])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)])},Wc=[],Yc={data:function(){return{ruleFormValue:{creditCode:"",productId:"",certificationType:"",certificationCategory:"",argriculturalClassification:"",certificationStartTime:"",certificationEndTime:"",output:""},rules:{productId:[{required:!0,message:"请选择",trigger:"change"}],certificationType:[{required:!0,message:"请选择",trigger:"change"}],certificationCategory:[{required:!0,message:"请插入",trigger:"change"}],argriculturalClassification:[{required:!0,message:"请选择",trigger:"change"}],certificationStartTime:[{required:!0,message:"请选择",trigger:"change"}],certificationEndTime:[{required:!0,message:"请选择",trigger:"change"}],output:[{required:!0,message:"请插入",trigger:"change"}]},file:null,creditCode:"",companyNameList:[],productNameList:[],options:[{value:"1",label:"养殖业"},{value:"2",label:"畜牧业"},{value:"3",label:"种植业"}],certificationTypes:[{value:"1",label:"无公害产品"},{value:"2",label:"绿色食品"},{value:"3",label:"有机食品"},{value:"3",label:"地理标志"}]}},created:function(){this.creditCode=this.$route.query.creditCode,this.ruleFormValue.creditCode=this.$route.query.creditCode,this.getCompanyProduction(),this.getProductionDetail()},methods:{getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyNameList=t})).catch((function(e){console.log(e)}))},getProductionDetail:function(){var e=this,t=this.filterCompany(this.ruleFormValue.creditCode);D().get("/api/product_production/all",{company_id:t}).then((function(t){e.productNameList=t.data})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;var a=new FormData;a.append("creditCode",t.ruleFormValue.creditCode),a.append("productId",t.ruleFormValue.productId),a.append("certificationType",t.ruleFormValue.certificationType),a.append("certificationCategory",t.ruleFormValue.certificationCategory),a.append("argriculturalClassification",t.ruleFormValue.argriculturalClassification),a.append("certificationStartTime",t.ruleFormValue.certificationStartTime),a.append("certificationEndTime",t.ruleFormValue.certificationEndTime),a.append("createDate",t.ruleFormValue.certificationStartTime),a.append("updateDate",t.ruleFormValue.certificationStartTime),a.append("updater","string"),a.append("creater","string"),a.append("id",0),t.file&&a.append("file",t.file),D().post("/api/quality_standard/create",a).then((function(e){t.goBack()})).catch((function(e){}))}))},filterCompany:function(e){var t=this.companyNameList.find((function(t){return t.creditCode===e}));return t?t.companyId:""},filterCompanyName:function(e){var t=this.companyNameList.find((function(t){return t.creditCode===e}));return t?(this.prod,t.companyName):""},goBack:function(){this.$router.go(-1)},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}},Jc=Yc,Qc=Object(s["a"])(Jc,Mc,Wc,!1,null,"6c2164e8",null),Zc=Qc.exports,Hc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("监管对象")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label no-margin-left"},[e._v("行业")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.getList()}},model:{value:e.productType,callback:function(t){e.productType=t},expression:"productType"}},e._l(e.productTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"filter-item"},[a("div",{staticClass:"select_label"},[e._v("行业")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.getList()}},model:{value:e.companyScale,callback:function(t){e.companyScale=t},expression:"companyScale"}},e._l(e.companyScales,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"companyName",label:"企业名称",width:"120"}}),a("el-table-column",{attrs:{prop:"companyScale",label:"企业规模",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.companyScales[a.companyScale].label))]}}])}),a("el-table-column",{attrs:{prop:"productType",label:"产品类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.productTypes[a.productType].label))]}}])}),a("el-table-column",{attrs:{prop:"legalPerson",label:"法定代表人",width:"150"}}),a("el-table-column",{attrs:{prop:"companyAddress",label:"企业地址",width:"120"}}),a("el-table-column",{attrs:{prop:"creditCode",label:"社会信用统一代码",width:"200"}}),a("el-table-column",{attrs:{prop:"contactWay",label:"联系方式",width:"120"}}),a("el-table-column",{attrs:{prop:"supervisionNature",label:"监管对象性质",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.supervisions[a.supervisionNature]))]}}])}),a("el-table-column",{attrs:{prop:"operations",label:"操作",width:"250","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.gotoDetailPage(o)}}},[e._v("企业详情")]),a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.gotoProductBusinessPage(o)}}},[e._v("经营产品")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Xc=[],Kc={name:"companyBusiness",components:{Pagination:we},data:function(){return{companyScales:[{value:0,label:"全部"},{value:1,label:"小型企业"},{value:2,label:"中型企业"},{value:3,label:"大型企业"}],productTypes:[{value:0,label:"全部"},{value:1,label:"农药"},{value:2,label:"种子"},{value:3,label:"饲料"},{value:4,label:"肥料"}],supervisions:["Unknown","法人","其他组织"],companyScale:0,productType:0,sortBy:"id",page:{pageIndex:1,pageSize:20},total:0,options:[{value:"全部",label:""}],tableData:[],listLoading:!1}},created:function(){this.getList()},methods:{gotoDetailPage:function(e){this.$router.push("/companyBusiness/detailsCompanyBusiness/".concat(e.id))},gotoProductBusinessPage:function(e){this.$router.push("/companyBusiness/productBusiness/".concat(e.id))},getList:function(){var e=this;this.listLoading=!0,D().get("/api/company_business/all",{company_scale:this.companyScale,product_type:this.productType,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,sortBy:this.sortBy}).then((function(t){e.tableData=t.data,e.total=e.tableData.length,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},eu=Kc,tu=(a("80a2"),Object(s["a"])(eu,Hc,Xc,!1,null,"aca627ec",null)),au=tu.exports,ou=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("经营产品")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[3===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/companyBusiness/productBusiness/create/"+e.id)}}},[e._v("添加")]):e._e(),a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"atunitprice",label:"单价"}}),a("el-table-column",{attrs:{prop:"productArea",label:"产地"}}),a("el-table-column",{attrs:{prop:"variety",label:"品种"}}),a("el-table-column",{attrs:{prop:"grade",label:"评级"}}),a("el-table-column",{attrs:{prop:"specification",label:"规格"}}),a("el-table-column",{attrs:{prop:"yield",label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},ru=[],lu={name:"productBusiness",components:{Pagination:we},data:function(){return{companyScale:0,productType:0,sortBy:"id",page:{pageIndex:1,pageSize:20},total:0,options:[{value:"全部",label:""}],tableData:[],listLoading:!1,loggedinUserType:null}},created:function(){this.id=this.$route.params.id,this.getList(),this.loggedinUserType=O().user().attrs.userType},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/product_business/all",{company_id:this.id,pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,sortBy:this.sortBy}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.error(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/product_business/"+e).then((function(e){t.getList()})).catch((function(e){console.log(e)}))}))}}},iu=lu,nu=(a("6253"),Object(s["a"])(iu,ou,ru,!1,null,"58f8806e",null)),su=nu.exports,cu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("经营主体")]),a("el-breadcrumb-item",[e._v("经营产品")]),a("el-breadcrumb-item",[e._v("添加产品")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleFormValue",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[a("el-input",{model:{value:e.ruleFormValue.productName,callback:function(t){e.$set(e.ruleFormValue,"productName",t)},expression:"ruleFormValue.productName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单价",prop:"atunitprice"}},[a("el-input",{model:{value:e.ruleFormValue.atunitprice,callback:function(t){e.$set(e.ruleFormValue,"atunitprice",e._n(t))},expression:"ruleFormValue.atunitprice"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"评级",prop:"grade"}},[a("el-input",{model:{value:e.ruleFormValue.grade,callback:function(t){e.$set(e.ruleFormValue,"grade",t)},expression:"ruleFormValue.grade"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产地",prop:"productArea"}},[a("el-input",{model:{value:e.ruleFormValue.productArea,callback:function(t){e.$set(e.ruleFormValue,"productArea",t)},expression:"ruleFormValue.productArea"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品种",prop:"variety"}},[a("el-input",{model:{value:e.ruleFormValue.variety,callback:function(t){e.$set(e.ruleFormValue,"variety",t)},expression:"ruleFormValue.variety"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"规格",prop:"specification"}},[a("el-input",{model:{value:e.ruleFormValue.specification,callback:function(t){e.$set(e.ruleFormValue,"specification",t)},expression:"ruleFormValue.specification"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品介绍",prop:"productProfile"}},[a("el-input",{attrs:{"ato-complete":"off",type:"textarea",rows:10},model:{value:e.ruleFormValue.productProfile,callback:function(t){e.$set(e.ruleFormValue,"productProfile",t)},expression:"ruleFormValue.productProfile"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleFormValue")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)])},uu=[],du={name:"addProductBusiness",data:function(){return{companyId:-1,ruleFormValue:{productName:"",atunitprice:0,grade:"",productArea:"",variety:"",specification:"",productProfile:"",listLoading:!0},rules:{productName:[{required:!0,message:"请插入",trigger:"change"}],atunitprice:[{required:!0,message:"请插入",trigger:"change"}],grade:[{required:!0,message:"请插入",trigger:"change"}],productArea:[{required:!0,message:"请插入",trigger:"change"}],variety:[{required:!0,message:"请插入",trigger:"change"}],specification:[{required:!0,message:"请插入",trigger:"change"}],productProfile:[{required:!0,message:"请插入",trigger:"change"}]}}},created:function(){this.companyId=this.$route.params.id,this.listLoading=!1},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("错误 !!"),!1;t.listLoading=!0;var a=new FormData;a.append("atunitprice",t.ruleFormValue.atunitprice),a.append("companyId",t.companyId),a.append("createTime",new Date),a.append("createUserId",O().user().attrs.id),a.append("grade",t.ruleFormValue.grade),a.append("id",0),a.append("productArea",t.ruleFormValue.productArea),a.append("productName",t.ruleFormValue.productName),a.append("productProfile",t.ruleFormValue.productProfile),a.append("specification",t.ruleFormValue.specification),a.append("updateTime",new Date),a.append("updateUserId",O().user().attrs.id),a.append("variety",t.ruleFormValue.variety),D().post("/api/product_business/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),10),t.$router.go(-1)})).catch((function(e){}))}))}}},pu=du,mu=Object(s["a"])(pu,cu,uu,!1,null,null,null),fu=mu.exports,gu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("企业详情")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}]},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"title"},[e._v("公司简介")])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("img",{staticClass:"content img",attrs:{src:e.url+"/api"+e.data.profileImage,alt:""}})]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"title"},[e._v("福鼎白茶")]),a("div",{staticClass:"content"},[e._v(e._s(e.data.companyProfile))])])],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"title"},[e._v("主营产品")])])],1),a("el-row",e._l(e.companyProducts,(function(t,o){return a("el-col",{key:o,attrs:{span:6}},[a("div",{staticClass:"sub-title"},[e._v(e._s(t.productName))]),a("div",{staticClass:"content"},[e._v(e._s(t.productArea))])])})),1),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"title"},[e._v("联系我们")])])],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"content"},[e._v("联系人："+e._s(e.data.legalPerson))])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"content"},[e._v("电话："+e._s(e.data.contactWay))])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"content"},[e._v("地址："+e._s(e.data.companyAddress))])])],1),a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)],1)])},hu=[],bu={name:"detailsCompanyBusiness",data:function(){return{data:null,companyProducts:[],url:F.API_BASE_URL(),dataLoading:!0}},created:function(){this.id=this.$route.params.id,this.getData(this.id)},methods:{getData:function(e){var t=this;this.dataLoading=!0,D().get("/api/company_business/get/"+e).then((function(e){t.data=e,D().get("/api/product_business/all",{company_id:t.data.id,pageNo:0,pageSize:20}).then((function(e){t.companyProducts=e,setTimeout((function(){t.dataLoading=!1}),500)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}}},vu=bu,yu=(a("6899"),Object(s["a"])(vu,gu,hu,!1,null,"81e2c7a0",null)),_u=yu.exports,wu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("例行抽样")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("抽样计划")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"tab-header",class:{active:e.mode},attrs:{type:""},on:{click:e.clickTabLeft}},[e._v("抽样计划")]),a("div",{staticClass:"tab-header",class:{active:!e.mode},attrs:{type:""},on:{click:e.clickTabRight}},[e._v("抽样结果")])]),a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.addSample()}}},[e._v("添加")])],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.mode,expression:"mode"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"sampleName",label:"检测名称"}}),a("el-table-column",{attrs:{prop:"sampleTime",label:"检测时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.sampleTime)))]}}])}),a("el-table-column",{attrs:{prop:"checkPerson",label:"检测人员"}}),a("el-table-column",{attrs:{prop:"operations",label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.showDetailsSampleCheck(o)}}},[e._v("查看")])]}}])})],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:!e.mode,expression:"!mode"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"sampleName",label:"检测名称"}}),a("el-table-column",{attrs:{prop:"checkUnit",label:"检测单位"}}),a("el-table-column",{attrs:{prop:"sampleTime",label:"检测时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.sampleTime)))]}}])}),a("el-table-column",{attrs:{prop:"checkResult",label:"检测结果"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(1==a.checkResult?"合格":"不合格"))]}}])}),a("el-table-column",{attrs:{prop:"checkPerson",label:"检测人员"}}),a("el-table-column",{attrs:{prop:"operations",label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.showDetailsSampleCheckResult(o)}}},[e._v("查看")])]}}])})],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},ku=[],xu={name:"sampleCheck",components:{Pagination:we},data:function(){return{mode:!0,page:{pageIndex:1,pageSize:20},total:0,tableData:[],listLoading:!1,status:1}},created:function(){this.getList()},methods:{showDetailsSampleCheck:function(e){this.$router.push("/sampleCheck/detailsSampleCheck/".concat(e.id))},showDetailsSampleCheckResult:function(e){this.$router.push("/sampleCheck/detailsSampleCheckResult/".concat(e.id))},addSample:function(){this.mode?this.$router.push("/sampleCheck/addSampleCheck"):this.$router.push("/sampleCheck/addSampleCheckResult")},getList:function(){var e=this;this.listLoading=!0;var t=this.mode?1:2;this.status!==t&&(this.status=t,this.page.pageIndex=1),this.mode?D().get("/api/sample_check/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)})):D().get("/api/sample_check_result/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},clickTabLeft:function(){this.mode=!0,this.getList()},clickTabRight:function(){this.mode=!1,this.getList()}}},Cu=xu,Su=(a("0f81"),Object(s["a"])(Cu,wu,ku,!1,null,"61f1c58b",null)),Iu=Su.exports,Fu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/sampleCheck"}}},[e._v("例行抽样")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加计划")])],1)],1),a("div",{staticClass:"box"},[e.data?a("el-form",{ref:"data",attrs:{rules:e.dataRulse,model:e.data,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检测名称:",prop:"sampleName"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:""},model:{value:e.data.sampleName,callback:function(t){e.$set(e.data,"sampleName",t)},expression:"data.sampleName"}})],1),a("el-form-item",{attrs:{label:"检测时间:",prop:"sampleTime"}},[a("el-date-picker",{staticStyle:{width:"300px !important"},model:{value:e.data.sampleTime,callback:function(t){e.$set(e.data,"sampleTime",t)},expression:"data.sampleTime"}})],1),a("el-form-item",{attrs:{label:"检测人员:",prop:"checkPerson"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:""},model:{value:e.data.checkPerson,callback:function(t){e.$set(e.data,"checkPerson",t)},expression:"data.checkPerson"}})],1),a("el-form-item",{attrs:{prop:"checkFiles",label:""}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("span",{staticClass:"item-value",staticStyle:{width:"500px"}},[e._v(e._s(e.data.checkFiles))])])]),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit()}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1):e._e(),e.data?e._e():[e._v("No matching data!")]],2)])},Tu=[],$u={name:"addSampleCheck",data:function(){return{id:-1,file:null,data:{checkFiles:"",checkPerson:"",createUserId:0,id:0,sampleId:0,sampleName:"",sampleTime:"",updateUserId:0},dataRulse:{sampleName:[{required:!0,message:"请输入",trigger:"blur,change"}],sampleTime:[{required:!0,message:"请选择",trigger:"blur,change"}],checkPerson:[{required:!0,message:"请输入",trigger:"blur,change"}],checkFiles:[{required:!0,message:"请输入",trigger:"blur,change"}]}}},methods:{chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.data.checkFiles=this.file.name},onSubmit:function(){var e=this,t=new FormData;t.append("checkFiles",this.data.checkFiles),t.append("checkPerson",this.data.checkPerson),t.append("createUserId",this.data.createUserId),t.append("id",this.data.id),t.append("sampleId",this.data.sampleId),t.append("sampleName",this.data.sampleName),t.append("updateUserId",this.data.updateUserId),t.append("file",this.file),t.append("sampleTime",this.data.sampleTime),t.append("checkResult",""),t.append("checkUnit",""),t.append("createTime",this.data.sampleTime),t.append("updateTime",this.data.sampleTime),this.$refs.data.validate((function(a){a&&D().post("/api/sample_check/create",t).then((function(t){e.$router.push("/sampleCheck")})).catch((function(e){console.error(e)}))}))},getDateString:function(e){var t=new Date(e);return t.toLocaleDateString()}}},Vu=$u,Lu=(a("4f0a"),Object(s["a"])(Vu,Fu,Tu,!1,null,"275d9f8c",null)),Nu=Lu.exports,Du=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/sampleCheck"}}},[e._v("例行抽样")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加结果")])],1)],1),a("div",{staticClass:"box"},[e.data?a("el-form",{ref:"data",attrs:{rules:e.dataRulse,model:e.data,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检测名称:",prop:"sampleName"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:""},model:{value:e.data.sampleName,callback:function(t){e.$set(e.data,"sampleName",t)},expression:"data.sampleName"}})],1),a("el-form-item",{attrs:{label:"检测时间:",prop:"sampleTime"}},[a("el-date-picker",{staticStyle:{width:"300px !important"},attrs:{placeholder:""},model:{value:e.data.sampleTime,callback:function(t){e.$set(e.data,"sampleTime",t)},expression:"data.sampleTime"}})],1),a("el-form-item",{attrs:{label:"检测人员:",prop:"checkPerson"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:""},model:{value:e.data.checkPerson,callback:function(t){e.$set(e.data,"checkPerson",t)},expression:"data.checkPerson"}})],1),a("el-form-item",{attrs:{label:"检测结果:",prop:"checkResult"}},[a("el-select",{staticStyle:{width:"300px !important"},attrs:{placeholder:""},model:{value:e.data.checkResult,callback:function(t){e.$set(e.data,"checkResult",t)},expression:"data.checkResult"}},e._l([{value:0,label:"不合格"},{value:1,label:"合格"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"检测单位:",prop:"checkUnit"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:""},model:{value:e.data.checkUnit,callback:function(t){e.$set(e.data,"checkUnit",t)},expression:"data.checkUnit"}})],1),a("el-form-item",{attrs:{prop:"checkFiles",label:""}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("span",{staticClass:"item-value",staticStyle:{width:"500px"}},[e._v(e._s(e.data.checkFiles))])])]),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit()}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1):e._e(),e.data?e._e():[e._v("No matching data!")]],2)])},Pu=[],ju={name:"addSampleCheckResult",data:function(){return{id:-1,file:null,data:{checkFiles:"",checkPerson:"",checkResult:"",checkUnit:"",createUserId:0,id:0,sampleId:0,sampleName:"",sampleTime:"",updateUserId:0},dataRulse:{sampleName:[{required:!0,message:"请输入",trigger:"blur,change"}],sampleTime:[{required:!0,message:"请选择",trigger:"blur,change"}],checkPerson:[{required:!0,message:"请输入",trigger:"blur,change"}],checkFiles:[{required:!0,message:"请输入",trigger:"blur,change"}],checkResult:[{required:!0,message:"请选择",trigger:"blur,change"}],checkUnit:[{required:!0,message:"请输入",trigger:"blur,change"}]}}},methods:{chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.data.checkFiles=this.file.name},onSubmit:function(){var e=this,t=new FormData;t.append("checkFiles",this.data.checkFiles),t.append("checkPerson",this.data.checkPerson),t.append("createUserId",this.data.createUserId),t.append("id",this.data.id),t.append("sampleId",this.data.sampleId),t.append("sampleName",this.data.sampleName),t.append("updateUserId",this.data.updateUserId),t.append("file",this.file),t.append("sampleTime",this.data.sampleTime),t.append("checkResult",this.data.checkResult),t.append("checkUnit",this.data.checkUnit),t.append("createTime",this.data.sampleTime),t.append("updateTime",this.data.sampleTime),this.$refs.data.validate((function(a){a&&D().post("/api/sample_check_result/create",t).then((function(t){e.$router.push("/sampleCheck")})).catch((function(e){console.error(e)}))}))},getDateString:function(e){var t=new Date(e);return t.toLocaleDateString()}}},Uu=ju,zu=(a("4c9b"),Object(s["a"])(Uu,Du,Pu,!1,null,"6a3a1cb6",null)),Au=zu.exports,Ru=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("仓库详情")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("检测名称:")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.sampleName))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("检测时间:")]),a("div",{staticClass:"item-value"},[e._v(e._s(e._f("formatDate")(e.data.sampleTime)))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("检测人员:")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.checkPerson))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""}},[e._v("下载附件")])],1),e.file?e._e():a("div",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n              "+e._s(e.fileName)+"\n            ")])],1),e.file?a("div",{staticClass:"item-value"},[e._v("("+e._s(e.file.name)+")")]):e._e()])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-value"},[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)])])])])},Ou=[],qu={name:"detailsSampleCheck",data:function(){return{id:-1,data:[],file:null,fileName:""}},created:function(){var e=this;this.id=this.$route.params.id,D().get("/api/sample_check/get/".concat(this.id)).then((function(t){e.data=t,e.fileName=e.data.checkFiles.replace("/uploads/","")})).catch((function(e){console.log(e)}))},methods:{downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.data.checkFiles,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.data.checkFiles.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},Eu=qu,Bu=(a("208a"),Object(s["a"])(Eu,Ru,Ou,!1,null,"4ec3812d",null)),Gu=Bu.exports,Mu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/productionSubject"}}},[e._v("监管对象")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("仓库详情")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("检测名称:")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.sampleName))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("检测时间:")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.getDateString(e.data.sampleTime)))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("检测人员:")]),a("div",{staticClass:"item-value"},[e._v(e._s(e.data.checkPerson))])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[e._v("检测结果:")]),a("div",{staticClass:"item-value"},[e._v("\n          "+e._s(1==e.data.checkResult?"合格":"不合格")+"\n        ")])])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""}},[e._v("下载附件")])],1),e.file?e._e():a("div",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n            "+e._s(e.fileName)+"\n          ")])],1),e.file?a("div",{staticClass:"item-value"},[e._v("("+e._s(e.file.name)+")")]):e._e()])]),a("div",{staticClass:"item-row"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-value"},[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)])])])])},Wu=[],Yu={name:"detailsSampleCheckResult",data:function(){return{id:-1,data:[],file:null,fileName:""}},created:function(){var e=this;this.id=this.$route.params.id,D().get("/api/sample_check_result/get/".concat(this.id)).then((function(t){e.data=t,e.fileName=e.data.checkFiles.replace("/uploads/","")})).catch((function(e){console.log(e)}))},methods:{getDateString:function(e){var t=new Date(e);return t.toLocaleDateString()},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.data.checkFiles,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.data.checkFiles.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},Ju=Yu,Qu=(a("5d6f"),Object(s["a"])(Ju,Mu,Wu,!1,null,"a2b684f8",null)),Zu=Qu.exports,Hu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("作业定义")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/jobDefinition/create")}}},[e._v("添加")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"jobName",label:"作业名称"}}),a("el-table-column",{attrs:{prop:"jobType",label:"作业类型"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getJobType(a.jobType)))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.$router.push({path:"/jobDefinition/"+o.id,query:{jobName:o.jobName,jobType:e.getJobType(o.jobType)}})}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.handleDelete(""+o.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Xu=[],Ku={name:"jobDefinition",components:{Pagination:we},data:function(){return{jobName:"",jobType:0,page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],jobTypes:[{id:0,name:"收获前"},{id:1,name:"收获"},{id:2,name:"收获后"}]}},mounted:function(){this.getList()},methods:{order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/job_definition/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getJobType:function(e){var t=this.jobTypes.find((function(t){return t.id===e}));return t?t.name:""},handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.listLoading=!0,D().delete("/api/job_definition/delete/"+e).then((function(e){t.getList(),setTimeout((function(){t.listLoading=!1}),500)})).catch((function(e){console.log(e)}))}))}}},ed=Ku,td=(a("67ec"),Object(s["a"])(ed,Hu,Xu,!1,null,null,null)),ad=td.exports,od=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("作业定义")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加作业")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{staticClass:"job-name-width",attrs:{prop:"jobName",label:"作业名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.jobName,callback:function(t){e.$set(e.addForm,"jobName",t)},expression:"addForm.jobName"}})],1),a("el-form-item",{attrs:{label:"作业类型",prop:"jobType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.jobType,callback:function(t){e.$set(e.addForm,"jobType",t)},expression:"addForm.jobType"}},e._l(e.jobTypes,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"现场图片"}},[a("div",{staticClass:"image-container",on:{click:function(t){return e.chooseFile()}}},e._l(e.images,(function(e){return a("img",{key:e,staticClass:"preview",attrs:{src:e}})})),0),a("p",[e._v(e._s(e.fileName))]),a("div",{staticClass:"image-box"},[a("input",{ref:"file_live_1",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/*",name:"images"},on:{change:function(t){return e.handleFileUpload()}}})])]),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("addForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},rd=[],ld={data:function(){return{addForm:{jobName:"",jobType:""},jobTypes:[{id:0,name:"收获前"},{id:1,name:"收获"},{id:2,name:"收获后"}],rules:{jobName:[{required:!0,message:"请插入",trigger:"change"}],jobType:[{required:!0,message:"请选择",trigger:"change"}]},images:[],fileName:"",file_live_1:null,dataLoading:!1}},mounted:function(){},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataLoading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/job_definition/create",a).then((function(e){t.$router.push({path:"/jobDefinition"}),setTimeout((function(){t.dataLoading=!1}),10)})).catch((function(e){}))}}))},chooseFile:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file_live_1=this.$refs.file_live_1.files[0],this.images=[];var e=new FileReader,t=this;e.onload=function(e){t.images.push(e.target.result)},e.readAsDataURL(this.file_live_1),this.fileName=this.file_live_1.name},makeFormData:function(){var e=new FormData;return e.append("jobName",this.addForm.jobName),e.append("jobType",this.addForm.jobType),e.append("file",this.file_live_1),e.append("id",0),e}}},id=ld,nd=Object(s["a"])(id,od,rd,!1,null,null,null),sd=nd.exports,cd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("作业定义")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改作业")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{staticClass:"job-name-width",attrs:{prop:"jobName",label:"作业名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.jobName,callback:function(t){e.$set(e.editForm,"jobName",t)},expression:"editForm.jobName"}})],1),a("el-form-item",{attrs:{label:"作业类型",prop:"jobType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.jobType,callback:function(t){e.$set(e.editForm,"jobType",t)},expression:"editForm.jobType"}},e._l(e.jobTypes,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"现场图片"}},[a("div",{staticClass:"image-container",on:{click:function(t){return e.chooseFile()}}},e._l(e.images,(function(e){return a("img",{key:e,staticClass:"preview",attrs:{src:e}})})),0),a("div",{staticClass:"image-box"},[a("input",{ref:"file",staticClass:"image-upload",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/*",name:"images"},on:{change:function(t){return e.handleFileUpload()}}})]),e.file?e._e():a("div",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n                  "+e._s(e.editForm.jobFile.replace("/uploads/",""))+"\n              ")])],1),e.file?a("div",{staticClass:"item-value"},[e._v("\n              ("+e._s(e.file.name)+")\n          ")]):e._e()]),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("editForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},ud=[],dd={data:function(){return{editForm:{jobName:"",jobType:"",jobFile:""},jobTypes:[{id:0,name:"收获前"},{id:1,name:"收获"},{id:2,name:"收获后"}],rules:{jobName:[{required:!0,message:"请插入",trigger:"change"}],jobType:[{required:!0,message:"请选择",trigger:"change"}]},images:[],file:null,dataloading:!0,id:0}},mounted:function(){this.editForm.jobName=this.$route.query.jobName,this.editForm.jobType=this.$route.query.jobType,this.id=this.$route.params.id,this.getData(this.$route.params.id)},methods:{getData:function(e){var t=this;this.dataloading=!0,D().get("/api/job_definition/get/"+e).then((function(e){t.editForm=e,t.images=[],t.images.push(F.DOWNLOAD_URL()+t.editForm.jobFile),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){console.log(e)}))},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.editForm.jobFile,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.editForm.jobFile.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataloading=!0;var a=new FormData;a=t.makeFormData(),D().put("/api/job_definition/update/"+t.id,a).then((function(e){t.$router.push({path:"/jobDefinition"}),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){}))}}))},chooseFile:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.images=[];var e=new FileReader,t=this;e.onload=function(e){t.images.push(e.target.result)},e.readAsDataURL(this.file)},makeFormData:function(){var e=new FormData;return e.append("jobName",this.editForm.jobName),e.append("jobType",this.editForm.jobType),e.append("file",this.file),e.append("id",this.id),e}}},pd=dd,md=Object(s["a"])(pd,cd,ud,!1,null,null,null),fd=md.exports,gd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("生产记录")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/productionRecord/create")}}},[e._v("添加")])],1),a("el-dialog",{attrs:{visible:e.confirm_dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.confirm_dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 你确定要删除吗?")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.confirm_dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.deleteRow()}}},[e._v("确认")])],1)]),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"productionQuantity",label:"产量（公斤)"}}),a("el-table-column",{attrs:{prop:"productionArea",label:"产地"}}),a("el-table-column",{attrs:{prop:"productionTime",label:"生产时长"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.productionTime)+"天")]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/productionRecord/editProductionRecord/"+o.id})}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.showConfirmDialog(""+o.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getData}})],1)],1)])},hd=[],bd={name:"productionRecord",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},total:0,tableData:[],listLoading:!1,confirm_dialogVisible:!1,selectedId:null}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.listLoading=!0,D().get("/api/production_record/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},deleteRow:function(){var e=this;D().delete("/api/production_record/delete/"+this.selectedId).then((function(t){setTimeout((function(){e.confirm_dialogVisible=!1}),500),e.getData()})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},showConfirmDialog:function(e){this.selectedId=e,this.confirm_dialogVisible=!0}}},vd=bd,yd=Object(s["a"])(vd,gd,hd,!1,null,null,null),_d=yd.exports,wd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产记录")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加记录")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%",modal:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("i",{staticClass:"el-icon-warning"},[e._v(" 选择文件 !!!")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)]),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品名称",prop:"productId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.productId,callback:function(t){e.$set(e.ruleFormValue,"productId",t)},expression:"ruleFormValue.productId"}},e._l(e.productNameList,(function(e){return a("el-option",{key:e.productId,attrs:{label:e.productName,value:e.productId}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产量",prop:"productionQuantity"}},[a("el-input",{model:{value:e.ruleFormValue.productionQuantity,callback:function(t){e.$set(e.ruleFormValue,"productionQuantity",e._n(t))},expression:"ruleFormValue.productionQuantity"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产地",prop:"productionArea"}},[a("el-input",{model:{value:e.ruleFormValue.productionArea,callback:function(t){e.$set(e.ruleFormValue,"productionArea",t)},expression:"ruleFormValue.productionArea"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"生产时长(天)",prop:"productionTime"}},[a("el-input",{model:{value:e.ruleFormValue.productionTime,callback:function(t){e.$set(e.ruleFormValue,"productionTime",e._n(t))},expression:"ruleFormValue.productionTime"}})],1)],1)],1),a("el-form-item",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("div",{staticClass:"item-value",staticStyle:{"margin-left":"10px",display:"flex","align-items":"center","padding-bottom":"20px"}},[e.ruleFormValue.file?a("span",[e._v("("+e._s(e.ruleFormValue.file.name)+")")]):a("span",[e._v("请选择需要上传的文件...")])])])])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)],1)},kd=[],xd={name:"addProductionRecord",data:function(){return{productNameList:[],listLoading:!1,ruleFormValue:{productId:"",productionQuantity:"",productionArea:"",productionTime:"",file:null},dialogVisible:!1,rules:{productId:[{required:!0,message:"请选择",trigger:"change"}],productionQuantity:[{required:!0,message:"请插入"},{type:"number",message:"插入号码"}],productionArea:[{required:!0,message:"请插入"}],productionTime:[{required:!0,message:"请插入",trigger:"change"},{type:"number",message:"插入号码"}]}}},created:function(){this.getProductionDetail()},methods:{getProductionDetail:function(){var e=this;D().get("/api/product_production/all").then((function(t){e.productNameList=t.data})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.listLoading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/production_record/create",a).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.$router.push({path:"/productionRecord"})})).catch((function(e){console.log(e)}))}}))},makeFormData:function(){var e=new FormData;this.ruleFormValue.file&&e.append("file",this.ruleFormValue.file),e.append("id",0),e.append("productId",this.ruleFormValue.productId);var t=this.filterProduct(this.ruleFormValue.productId);return e.append("productName",t),e.append("productionArea",this.ruleFormValue.productionArea),e.append("productionQuantity",this.ruleFormValue.productionQuantity),e.append("productionTime",this.ruleFormValue.productionTime),e},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.ruleFormValue.file=this.$refs.file.files[0]},filterProduct:function(e){var t=this.productNameList.find((function(t){return t.productId===e}));return t?t.productName:""}}},Cd=xd,Sd=Object(s["a"])(Cd,wd,kd,!1,null,null,null),Id=Sd.exports,Fd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("生产记录")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("修改记录")])],1)],1),e.data?a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],ref:"ruleForm",attrs:{model:e.ruleFormValue,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品名称",prop:"productId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormValue.productId,callback:function(t){e.$set(e.ruleFormValue,"productId",t)},expression:"ruleFormValue.productId"}},e._l(e.productNameList,(function(e){return a("el-option",{key:e.productId,attrs:{label:e.productName,value:e.productId}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产量",prop:"productionQuantity"}},[a("el-input",{model:{value:e.ruleFormValue.productionQuantity,callback:function(t){e.$set(e.ruleFormValue,"productionQuantity",e._n(t))},expression:"ruleFormValue.productionQuantity"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产地",prop:"productionArea"}},[a("el-input",{model:{value:e.ruleFormValue.productionArea,callback:function(t){e.$set(e.ruleFormValue,"productionArea",t)},expression:"ruleFormValue.productionArea"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"生产时长(天)",prop:"productionTime"}},[a("el-input",{model:{value:e.ruleFormValue.productionTime,callback:function(t){e.$set(e.ruleFormValue,"productionTime",e._n(t))},expression:"ruleFormValue.productionTime"}})],1)],1)],1),a("el-form-item",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("div",{staticClass:"item-label",staticStyle:{"margin-bottom":"20px"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")])],1),a("div",{staticClass:"item-value",staticStyle:{"margin-left":"10px",display:"flex","align-items":"center","padding-bottom":"20px"}},[e.file?a("span",[e._v("("+e._s(e.file.name)+")")]):a("div",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n                  "+e._s(e.data.productionProfiles.replace("/uploads/",""))+"\n                ")])],1)])])])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"box"},[e._v("装货...")])])},Td=[],$d={name:"editProductionRecord",data:function(){return{file:null,id:"",pageLoading:!1,listLoading:!1,data:null,productNameList:[],ruleFormValue:{productId:"",productionQuantity:"",productionArea:"",productionTime:""},rules:{productId:[{required:!0,message:"请选择",trigger:"change"}],productionQuantity:[{required:!0,message:"请插入"},{type:"number",message:"插入号码"}],productionArea:[{required:!0,message:"请插入"}],productionTime:[{required:!0,message:"请插入",trigger:"change"},{type:"number",message:"插入号码"}]}}},created:function(){this.getProductionDetail(),this.getData(this.$route.params.id)},methods:{getData:function(e){var t=this;this.listLoading=!0,D().get("/api/production_record/get/"+e).then((function(e){setTimeout((function(){t.listLoading=!1}),500),t.data=e,t.ruleFormValue.productId=t.data.productId,t.ruleFormValue.productionQuantity=t.data.productionQuantity,t.ruleFormValue.productionArea=t.data.productionArea,t.ruleFormValue.productionTime=t.data.productionTime})).catch((function(e){console.log(e)}))},getProductionDetail:function(){var e=this;D().get("/api/product_production/all").then((function(t){e.productNameList=t.data})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.pageLoading=!0;var a=new FormData;a=t.makeFormData(),D().put("/api/production_record/update/"+t.data.id,a).then((function(e){setTimeout((function(){t.pageLoading=!1}),500),t.$router.push({path:"/productionRecord"})})).catch((function(e){console.log(e)}))}}))},makeFormData:function(){var e=new FormData;this.file&&e.append("file",this.file),e.append("id",this.data.id),e.append("productId",this.ruleFormValue.productId);var t=this.filterProduct(this.ruleFormValue.productId);return e.append("productName",t),e.append("productionArea",this.ruleFormValue.productionArea),e.append("productionQuantity",this.ruleFormValue.productionQuantity),e.append("productionTime",this.ruleFormValue.productionTime),e},chooseFile:function(){this.$refs.file.click()},handleFileUpload:function(){this.file=this.$refs.file.files[0]},filterProduct:function(e){var t=this.productNameList.find((function(t){return t.productId===e}));return t?t.productName:""},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.data.productionProfiles,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.data.productionProfiles.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},Vd=$d,Ld=Object(s["a"])(Vd,Fd,Td,!1,null,null,null),Nd=Ld.exports,Dd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("通知管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[e._v("通知公告")]),a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/notice/create"})}}},[e._v("发布公告")]),a("el-button",{attrs:{type:"primary",plain:""}},[e._v("短信记录")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"type",label:"类型",width:"180"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"releaseTime",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatDate")(a.releaseTime)))]}}])}),a("el-table-column",{attrs:{prop:"releasePerson",label:"作者"}}),a("el-table-column",{attrs:{prop:"emergencyDegree",label:"紧急程度"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.getEmergencyDegree(a.emergencyDegree)))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/notice/view/"+o.id})}}},[e._v("查看")]),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.$router.push({path:"/notice/edit/"+o.id})}}},[e._v("修改")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Pd=[],jd={name:"notice",components:{Pagination:we},data:function(){return{releasePerson:"",emergencyDegree:0,releaseTime:"",title:"",type:"",page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[],emergencyDegrees:[{id:0,name:"高"},{id:1,name:"中"},{id:2,name:"低"}]}},mounted:function(){this.getList()},methods:{order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/notice/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getEmergencyDegree:function(e){var t=this.emergencyDegrees.find((function(t){return t.id===parseInt(e)}));return t?t.name:""},handleDelete:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){D().delete("/api/job_definition/delete/"+e).then((function(e){t.getList()})).catch((function(e){console.log(e)}))}))}}},Ud=jd,zd=(a("778e"),Object(s["a"])(Ud,Dd,Pd,!1,null,null,null)),Ad=zd.exports,Rd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("通知管理 / 通知公告")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("详情")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"formData",staticStyle:{"max-width":"980px",margin:"0 auto"},attrs:{model:e.formData}},[a("el-form-item",{staticClass:"detail-text-align"},[e._v("\n          "+e._s(e.formData.title)+"\n      ")]),a("el-form-item",{staticClass:"detail-text-align"},[a("span",[e._v("发布日期：")]),a("span",[e._v(e._s(e._f("formatDate")(e.formData.releaseTime)))]),a("span",{staticStyle:{"margin-left":"50px"}},[e._v("发布者：")]),a("span",[e._v(e._s(e.formData.releasePerson))])]),a("el-form-item",[a("p",{staticStyle:{"word-wrap":"break-word","line-height":"1.5em"}},[e._v(e._s(e.formData.content))])]),a("el-form-item",{attrs:{label:"",prop:"file"}},[a("el-button",{attrs:{plain:""},on:{click:function(t){return e.downloadFile()}}},[e._v("附件下载")]),e.file_live_1?e._e():a("span",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n                  "+e._s(e.fileName)+"\n              ")])],1),e.file_live_1?a("span",{staticClass:"item-value"},[e._v("\n              ("+e._s(e.fileName)+")\n          ")]):e._e()],1),a("el-form-item",[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              返回\n          ")])],1)],1)],1)])},Od=[],qd={data:function(){return{formData:{timingRelease:"",releaseTime:"",releasePerson:"",title:"",content:""},fileName:"",file_live_1:null,id:0,dataloading:!0}},beforeMount:function(){this.id=this.$route.params.id,this.getData(this.$route.params.id)},methods:{getData:function(e){var t=this;this.dataloading=!0,D().get("/api/notice/get/"+e).then((function(e){t.formData=e,t.file_live_1=e.noticeProfiles,t.fileName=t.file_live_1.replace("/uploads/",""),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){console.log(e)}))},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.file_live_1,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.file_live_1.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},Ed=qd,Bd=Object(s["a"])(Ed,Rd,Od,!1,null,null,null),Gd=Bd.exports,Md=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("通知管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("发布公告")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"addForm",staticClass:"form-width",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{prop:"timingRelease",label:"定时发布"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.timingRelease,callback:function(t){e.$set(e.addForm,"timingRelease",t)},expression:"addForm.timingRelease"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"紧急程度",prop:"emergencyDegree"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.emergencyDegree,callback:function(t){e.$set(e.addForm,"emergencyDegree",t)},expression:"addForm.emergencyDegree"}},e._l(e.emergencyDegrees,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"类型",prop:"type"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"日期",prop:"releaseTime"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.addForm.releaseTime,callback:function(t){e.$set(e.addForm,"releaseTime",t)},expression:"addForm.releaseTime"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"发布人",prop:"releasePerson"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.releasePerson,callback:function(t){e.$set(e.addForm,"releasePerson",t)},expression:"addForm.releasePerson"}})],1),a("el-form-item",{staticClass:"label-align",attrs:{prop:"title",label:"标题"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),a("el-form-item",{staticClass:"label-align",attrs:{prop:"content",label:"内容"}},[a("el-input",{attrs:{"auto-complete":"off",type:"textarea",rows:10},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1),a("el-form-item",{attrs:{label:"",prop:"file"}},[a("input",{ref:"file_live_1",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),a("span",{staticStyle:{width:"300px"}},[e._v(e._s(e.fileName))])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("addForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},Wd=[],Yd={data:function(){return{addForm:{timingRelease:"",emergencyDegree:0,type:"",releaseTime:"",releasePerson:"",title:"",content:""},emergencyDegrees:[{id:0,name:"高"},{id:1,name:"中"},{id:2,name:"低"}],rules:{content:[{required:!0,message:"请插入",trigger:"change"}],releaseTime:[{required:!0,message:"请插入",trigger:"change"}],title:[{required:!0,message:"请选择",trigger:"change"}],timingRelease:[{required:!0,message:"请插入",trigger:"change"}],emergencyDegree:[{required:!0,message:"请选择",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}],releasePerson:[{required:!0,message:"请选择",trigger:"change"}]},images:[],fileName:"",file_live_1:null}},mounted:function(){},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataloading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/notice/create",a).then((function(e){t.$router.push({path:"/notice"}),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){}))}}))},chooseFile:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file_live_1=this.$refs.file_live_1.files[0],this.fileName=this.file_live_1.name},makeFormData:function(){var e=new FormData;return e.append("timingRelease",this.addForm.timingRelease),e.append("emergencyDegree",this.addForm.emergencyDegree),e.append("type",this.addForm.type),e.append("releaseTime",this.addForm.releaseTime),e.append("releasePerson",this.addForm.releasePerson),e.append("title",this.addForm.title),e.append("content",this.addForm.content),e.append("id",0),e.append("file",this.file_live_1),e}}},Jd=Yd,Qd=Object(s["a"])(Jd,Md,Wd,!1,null,null,null),Zd=Qd.exports,Hd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("通知管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("发布公告")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"editForm",staticClass:"form-width",attrs:{model:e.editForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{prop:"timingRelease",label:"定时发布"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.timingRelease,callback:function(t){e.$set(e.editForm,"timingRelease",t)},expression:"editForm.timingRelease"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"紧急程度",prop:"emergencyDegree"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.emergencyDegree,callback:function(t){e.$set(e.editForm,"emergencyDegree",t)},expression:"editForm.emergencyDegree"}},e._l(e.emergencyDegrees,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"类型",prop:"type"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"日期",prop:"releaseTime"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.editForm.releaseTime,callback:function(t){e.$set(e.editForm,"releaseTime",t)},expression:"editForm.releaseTime"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"发布人",prop:"releasePerson"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.releasePerson,callback:function(t){e.$set(e.editForm,"releasePerson",t)},expression:"editForm.releasePerson"}})],1),a("el-form-item",{staticClass:"label-align",attrs:{prop:"title",label:"标题"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),a("el-form-item",{staticClass:"label-align",attrs:{prop:"content",label:"内容"}},[a("el-input",{attrs:{"auto-complete":"off",type:"textarea",rows:10},model:{value:e.editForm.content,callback:function(t){e.$set(e.editForm,"content",t)},expression:"editForm.content"}})],1),a("el-form-item",{attrs:{label:"",prop:"file"}},[a("input",{ref:"file_live_1",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),e.file_live_1?e._e():a("span",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n                  "+e._s(e.fileName)+"\n              ")])],1),e.file_live_1?a("span",{staticClass:"item-value"},[e._v("\n              ("+e._s(e.fileName)+")\n          ")]):e._e()],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("editForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},Xd=[],Kd={data:function(){return{editForm:{timingRelease:"",emergencyDegree:2,type:"",releaseTime:"",releasePerson:"",title:"",content:""},emergencyDegrees:[{id:"0",name:"高"},{id:"1",name:"中"},{id:"2",name:"低"}],rules:{content:[{required:!0,message:"请插入",trigger:"change"}],releaseTime:[{required:!0,message:"请插入",trigger:"change"}],title:[{required:!0,message:"请选择",trigger:"change"}],timingRelease:[{required:!0,message:"请插入",trigger:"change"}],emergencyDegree:[{required:!0,message:"请选择",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}],releasePerson:[{required:!0,message:"请选择",trigger:"change"}]},images:[],fileName:"",file_live_1:null,id:0,dataloading:!0}},beforeMount:function(){this.id=this.$route.params.id,this.getData(this.$route.params.id)},methods:{getData:function(e){var t=this;this.dataloading=!0,D().get("/api/notice/get/"+e).then((function(e){t.editForm=e,t.file_live_1=e.noticeProfiles,t.fileName=t.file_live_1.replace("/uploads/",""),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){console.log(e)}))},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.file_live_1,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.file_live_1.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataloading=!0;var a=new FormData;a=t.makeFormData(),D().put("/api/notice/update/"+t.id,a).then((function(e){t.$router.push({path:"/notice"}),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){}))}}))},chooseFile:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file_live_1=this.$refs.file_live_1.files[0],this.fileName=this.file_live_1.name},makeFormData:function(){var e=new FormData;return e.append("timingRelease",this.editForm.timingRelease),e.append("emergencyDegree",this.editForm.emergencyDegree),e.append("type",this.editForm.type),e.append("releaseTime",new Date(this.editForm.releaseTime)),e.append("releasePerson",this.editForm.releasePerson),e.append("title",this.editForm.title),e.append("content",this.editForm.content),e.append("noticeProfiles",this.file_live_1),e.append("id",this.id),e}}},ep=Kd,tp=Object(s["a"])(ep,Hd,Xd,!1,null,null,null),ap=tp.exports,op=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("水产统计")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.handleImportExcel()}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.handleDownloadSample()}}},[e._v("例文档下载")]),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:"Upload Excel"},on:{change:function(t){return e.handleFileUpload()}}})],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"sampleName",label:"样品名称"}}),a("el-table-column",{attrs:{prop:"sampleScientificName",label:"样品学名"}}),a("el-table-column",{attrs:{prop:"sampleSerialNum",label:"样品编号"}}),a("el-table-column",{attrs:{prop:"city",label:"市别"}}),a("el-table-column",{attrs:{prop:"district",label:"区县"}}),a("el-table-column",{attrs:{prop:"inspectedUnit",label:"被检单位"}}),a("el-table-column",{attrs:{prop:"sampleType",label:"样品类型"}}),a("el-table-column",{attrs:{prop:"furaMeta",label:"呋喃唑酮代谢物"}}),a("el-table-column",{attrs:{prop:"malaGreen",label:"孔雀石绿"}}),a("el-table-column",{attrs:{prop:"detectionRoomNum",label:"检测室编号"}}),a("el-table-column",{attrs:{prop:"detectionRoomName",label:"检测室名称"}}),a("el-table-column",{attrs:{prop:"detectionTime",label:"检测时间"}})],1)],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},rp=[],lp=a("75fc"),ip=a("bd86"),np=(a("34ef"),a("1146")),sp=a.n(np),cp={name:"aquaticStatistics",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},file:null,total:0,tableData:[],listLoading:!1,filesample:"AquaticSample.xlsx"}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,D().get("/api/aquatic_statistics/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},handleDownloadSample:function(){S()({url:F.DOWNLOAD_URL()+this.filesample,method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(e.data),a=document.createElement("a");a.href=t,a.setAttribute("download","file.png"),document.body.appendChild(a),a.click()})).catch((function(){return console.log("error occured")}))},fixdata:function(e){for(var t="",a=0,o=10240;a<e.byteLength/o;++a)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*o,a*o+o)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*o))),t},workbook_make_json:function(e){var t={"区县":"district","呋喃唑酮代谢物":"furaMeta","孔雀石绿":"malaGreen","市别":"city","样品名称":"sampleName","样品学名":"sampleScientificName","样品类型":"sampleType","样品编号":"sampleSerialNum","检测室名称":"detectionRoomName","检测室编号":"detectionRoomNum","检测时间":"detectionTime","被检单位":"inspectedUnit"},a=[];return e.SheetNames.forEach((function(o){var r=sp.a.utils.sheet_to_row_object_array(e.Sheets[o]);r.length>0&&r.forEach((function(e){var o=Object.keys(e).map((function(a){var o=t[a]||a;return Object(ip["a"])({},o,e[a])}));a.push(Object.assign.apply(Object,[{}].concat(Object(lp["a"])(o),[{createTime:(new Date).toJSON()},{createUserId:O().user().attrs.id},{id:0},{updateTime:(new Date).toJSON()},{updateUserId:O().user().attrs.id}])))}))})),a},handleImportExcel:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file=this.$refs.file.files[0];var e=new FileReader,t=this;e.onload=function(e){var a=t.fixdata(e.target.result),o=sp.a.read(btoa(a),{type:"base64"}),r=t.workbook_make_json(o);D().post("/api/aquatic_statistics/create",r).then((function(e){t.getList()})).catch((function(e){console.log(e)}))},e.readAsArrayBuffer(this.file)},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},up=cp,dp=Object(s["a"])(up,op,rp,!1,null,null,null),pp=dp.exports,mp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("统计（农残）")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("全部")]),a("div",{staticClass:"select_label"},[e._v("按年")]),a("el-input",{staticClass:"input-layout",model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("div",{staticClass:"select_label"},[e._v("按月")]),a("el-input",{staticClass:"input-layout",model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("el-button",{staticClass:"margin-left-40",attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("#")}}},[e._v("开始统计")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"productName",label:"站点"}}),a("el-table-column",{attrs:{prop:"productionQuantity",label:"检测数量"}}),a("el-table-column",{attrs:{prop:"productionQuantity",label:"数量对比"}},[a("div",{staticClass:"sub-title"},[e._v("50")]),a("el-progress",{attrs:{percentage:50}})],1),a("el-table-column",{attrs:{prop:"productionQuantity",label:"合格"}}),a("el-table-column",{attrs:{prop:"productionQuantity",label:"不合格"}}),a("el-table-column",{attrs:{prop:"productionQuantity",label:"合格率比"}},[a("div",{staticClass:"sub-title"},[e._v("100")]),a("el-progress",{attrs:{percentage:100}})],1)],1)],1),a("div",{staticClass:"pageBox"},[a("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize,layout:"prev, pager, next, sizes, jumper"},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},fp=[],gp={name:"statisticsFarmers",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},total:0,tableData:[],listLoading:!1,confirm_dialogVisible:!1,selectedId:null}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.listLoading=!0,D().get("/api/production_record/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},deleteRow:function(){var e=this;D().delete("/api/production_record/delete/"+this.selectedId).then((function(t){setTimeout((function(){e.confirm_dialogVisible=!1}),500),e.getData()})).catch((function(e){console.log(e)}))},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},showConfirmDialog:function(e){this.selectedId=e,this.confirm_dialogVisible=!0}}},hp=gp,bp=(a("c904"),Object(s["a"])(hp,mp,fp,!1,null,"57d1f484",null)),vp=bp.exports,yp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("\n                站内消息\n            ")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/internalMessage/add")}}},[e._v("\n                添加\n            ")])],1),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"createTime",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n                        "+e._s(e._f("formatDate")(a.createTime))+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"contents",label:"内容"}})],1)],1),a("div",{staticClass:"pageBox"},[a("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},_p=[],wp={name:"jobDefinition",components:{Pagination:we},data:function(){return{contents:"",receiveUserId:0,createTime:"",page:{pageIndex:1,pageSize:20},listLoading:!0,total:0,tableData:[]}},mounted:function(){this.getList(),null==O().user()?O().logout():this.receiveUserId=O().user().attrs.id},methods:{order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/internal_message/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize,receiveUserId:this.receiveUserId}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))}}},kp=wp,xp=Object(s["a"])(kp,yp,_p,!1,null,null,null),Cp=xp.exports,Sp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("站内消息")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("Add Internal Message")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"addForm",staticClass:"form-width",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{prop:"receiveUserId",label:"接收人"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.receiveUserId,callback:function(t){e.$set(e.addForm,"receiveUserId",t)},expression:"addForm.receiveUserId"}},e._l(e.users,(function(e){return a("el-option",{key:e.id,attrs:{label:e.userId,value:e.id}})})),1)],1),a("el-form-item",{staticClass:"label-align",attrs:{prop:"contents",label:"内容"}},[a("el-input",{attrs:{"auto-complete":"off",type:"textarea",rows:10},model:{value:e.addForm.contents,callback:function(t){e.$set(e.addForm,"contents",t)},expression:"addForm.contents"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("addForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},Ip=[],Fp={data:function(){return{addForm:{contents:"",receiveUserId:""},users:[],rules:{contents:[{required:!0,message:"请插入",trigger:"change"}],receiveUserId:[{required:!0,message:"请选择",trigger:"change"}]},dataloading:!0}},mounted:function(){this.getReceiveUserId()},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataloading=!0;var a=new Date,o=("0"+a.getDate()).slice(-2),r=("0"+(a.getMonth()+1)).slice(-2),l=a.getFullYear()+"-"+r+"-"+o;D().post("/api/internal_message/create",{receiveUserId:t.addForm.receiveUserId,contents:t.addForm.contents,receiveStatus:0,createTime:l,id:0}).then((function(e){t.$router.push({path:"/internalMessage"}),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){}))}}))},getReceiveUserId:function(){var e=this;this.dataloading=!0,D().get("/api/user/all").then((function(t){e.users=e.users.concat(t.data),setTimeout((function(){e.dataloading=!1}),10)})).catch((function(e){}))}}},Tp=Fp,$p=Object(s["a"])(Tp,Sp,Ip,!1,null,null,null),Vp=$p.exports,Lp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("培训经费管理")])],1)],1),a("div",{staticClass:"box"},[2===e.loggedinUserType||0===e.loggedinUserType?a("div",{staticClass:"iptBox"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"filter-item"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push("/trainingFunds/add")}}},[e._v("添加")])],1)])]):e._e(),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex,"highlight-current-row":""}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"appliedAmount",label:"申请金额"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.appliedAmount)+"元")]}}])}),a("el-table-column",{attrs:{prop:"proposer",label:"申请人"}}),a("el-table-column",{attrs:{prop:"companyId",label:"所在单位"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterCompnay(a.companyId)))]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/trainingFunds/view/"+o.id})}}},[e._v("查看")])]}}])})],1)],1),a("div",{staticClass:"pageBox"},[a("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Np=[],Dp={name:"jobDefinition",components:{Pagination:we},data:function(){return{projectName:"",appliedAmount:0,proposer:"",createTime:"",companyId:0,status:"",page:{pageIndex:1,pageSize:20},listLoading:!1,total:0,tableData:[],loggedinUserType:null,companyProduction:[],appStatus:["全部","待审批","已同意","已拒绝"]}},mounted:function(){this.getCompanyProduction(),this.getList()},created:function(){this.loggedinUserType=O().user().attrs.userType},methods:{order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},getList:function(){var e=this;this.listLoading=!0,D().get("/api/training_funds/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))},getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=t})).catch((function(e){console.log(e)}))},filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.companyId===e}));return t?t.companyName:""}}},Pp=Dp,jp=(a("3288"),Object(s["a"])(Pp,Lp,Np,!1,null,null,null)),Up=jp.exports,zp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("培训经费管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加经费")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],ref:"addForm",staticClass:"form-width",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{prop:"projectName",label:"项目名称:"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.projectName,callback:function(t){e.$set(e.addForm,"projectName",t)},expression:"addForm.projectName"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"申请金额:",prop:"appliedAmount"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addForm.appliedAmount,callback:function(t){e.$set(e.addForm,"appliedAmount",t)},expression:"addForm.appliedAmount"}})],1),a("el-form-item",{staticClass:"input-width label-align",staticStyle:{"margin-right":"30px"},attrs:{label:"申请人：",prop:"proposer"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.proposer,callback:function(t){e.$set(e.addForm,"proposer",t)},expression:"addForm.proposer"}})],1),a("el-form-item",{staticClass:"input-width label-align2",attrs:{label:"所在单位：",prop:"companyId"}},[a("el-select",{model:{value:e.addForm.companyId,callback:function(t){e.$set(e.addForm,"companyId",t)},expression:"addForm.companyId"}},e._l(e.companyProduction,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"file_live_1"}},[a("input",{ref:"file_live_1",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),e.file_live_1?a("span",[e._v("("+e._s(e.fileName)+")")]):a("span",[e._v("请选择需要上传的文件...")])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("addForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},Ap=[],Rp={data:function(){return{addForm:{projectName:"",appliedAmount:"",proposer:"",companyId:""},companyProduction:[],rules:{projectName:[{required:!0,message:"请插入",trigger:"change"}],appliedAmount:[{required:!0,message:"请插入",trigger:"change"}],companyId:[{required:!0,message:"请选择",trigger:"change"}],proposer:[{required:!0,message:"请插入",trigger:"change"}]},fileName:"",file_live_1:null,dataLoading:!1}},mounted:function(){this.getCompanyProduct()},methods:{getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=e.companyProduction.concat(t)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataLoading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/training_funds/create",a).then((function(e){t.$router.push({path:"/trainingFunds"}),setTimeout((function(){t.dataLoading=!1}),10)})).catch((function(e){}))}}))},chooseFile:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file_live_1=this.$refs.file_live_1.files[0],this.fileName=this.file_live_1.name},makeFormData:function(){var e=new FormData;return e.append("projectName",this.addForm.projectName),e.append("appliedAmount",this.addForm.appliedAmount),e.append("proposer",this.addForm.proposer),e.append("companyId",this.addForm.companyId),e.append("id",0),e.append("file",this.file_live_1),e}}},Op=Rp,qp=Object(s["a"])(Op,zp,Ap,!1,null,null,null),Ep=qp.exports,Bp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("培训经费管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("经费详情")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],ref:"formData",staticClass:"form-width",attrs:{model:e.formData,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{prop:"projectName",label:"项目名称:"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.formData.projectName,callback:function(t){e.$set(e.formData,"projectName",t)},expression:"formData.projectName"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"申请金额:",prop:"appliedAmount"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.formData.appliedAmount,callback:function(t){e.$set(e.formData,"appliedAmount",t)},expression:"formData.appliedAmount"}})],1),a("el-form-item",{staticClass:"input-width label-align",staticStyle:{"margin-right":"30px"},attrs:{label:"申请人：",prop:"proposer"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.formData.proposer,callback:function(t){e.$set(e.formData,"proposer",t)},expression:"formData.proposer"}})],1),a("el-form-item",{staticClass:"input-width label-align2",attrs:{label:"所在单位：",prop:"companyId"}},[a("el-select",{attrs:{disabled:""},model:{value:e.formData.companyId,callback:function(t){e.$set(e.formData,"companyId",t)},expression:"formData.companyId"}},e._l(e.companyProduction,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"file"}},[a("span",{staticClass:"item-label"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.downloadFile()}}},[e._v("下载附件")])],1),e.file?e._e():a("span",[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n            "+e._s(e.fileName)+"\n          ")])],1),e.file?a("span",[e._v("("+e._s(e.fileName)+")")]):e._e()]),a("el-form-item",[1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("通过")]):e._e(),1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{plain:"",type:"warning"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("拒绝")]):e._e(),1===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")]):e._e(),2===e.loggedinUserType||0===e.loggedinUserType?a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")]):e._e()],1)],1)],1)])},Gp=[],Mp={data:function(){return{formData:{projectName:"",appliedAmount:"",proposer:"",companyId:"",status:""},companyProduction:[],loggedinUserType:null,fileName:"",file:null,dataLoading:!1,id:0,appStatus:["全部","待审批","已同意","已拒绝"]}},mounted:function(){this.getCompanyProduct(),this.id=this.$route.params.id,this.getData(this.$route.params.id)},created:function(){this.loggedinUserType=O().user().attrs.userType},methods:{getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=e.companyProduction.concat(t)})).catch((function(e){console.log(e)}))},getData:function(e){var t=this;this.dataLoading=!0,D().get("/api/training_funds/get/"+e).then((function(e){t.formData=e,t.file=e.trainingFundsProfiles,t.fileName=t.file.replace("/uploads/",""),setTimeout((function(){t.dataLoading=!1}),10)})).catch((function(e){console.log(e)}))},downloadFile:function(){var e=this;console.log(this.file),S()({url:F.DOWNLOAD_URL()+this.file,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,console.log(o),o.setAttribute("download",e.file.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},Wp=Mp,Yp=Object(s["a"])(Wp,Bp,Gp,!1,null,null,null),Jp=Yp.exports,Qp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"actived"},[e._v("投入品管理")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"iptBox"},[a("div",{staticClass:"tab-header",class:{active:e.mode},attrs:{type:""},on:{click:e.clickTabLeft}},[e._v("使用信息")]),a("div",{staticClass:"tab-header",class:{active:!e.mode},attrs:{type:""},on:{click:e.clickTabRight}},[e._v("采购信息")])]),a("div",{staticClass:"iptBox"},[e.mode?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/inputManagement/addUse"})}}},[e._v("添加")]):a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$router.push({path:"/inputManagement/addPurchase"})}}},[e._v("添加")])],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.mode,expression:"mode"},{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号",width:"100px"}}),a("el-table-column",{attrs:{prop:"companyId",label:"企业名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterCompnay(a.companyId)))]}}])}),a("el-table-column",{attrs:{prop:"sampleName",label:"样品名称"}}),a("el-table-column",{attrs:{prop:"amount",label:"使用数量(公斤)"}}),a("el-table-column",{attrs:{prop:"operations",label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/inputManagement/view/"+o.id,query:{mode:e.mode}})}}},[e._v("查看")])]}}])})],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:!e.mode,expression:"!mode"},{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowIndex}},[a("el-table-column",{attrs:{formatter:e.order,label:"序号"}}),a("el-table-column",{attrs:{prop:"companyId",label:"企业名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.filterCompnay(a.companyId)))]}}])}),a("el-table-column",{attrs:{prop:"sampleName",label:"样品名称"}}),a("el-table-column",{attrs:{prop:"amount",label:"采购数量(公斤)"}}),a("el-table-column",{attrs:{label:"操作","class-name":"text-center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.$router.push({path:"/inputManagement/view/"+o.id,query:{mode:e.mode}})}}},[e._v("查看")])]}}])})],1),a("div",{staticClass:"pageBox"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.page.pageIndex,limit:e.page.pageSize},on:{"update:page":function(t){return e.$set(e.page,"pageIndex",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)},pagination:e.getList}})],1)],1)])},Zp=[],Hp={name:"sampleCheck",components:{Pagination:we},data:function(){return{page:{pageIndex:1,pageSize:20},total:0,tableData:[],companyProduction:[],mode:!0,listLoading:!0}},created:function(){this.getList(),this.getCompanyProduction()},methods:{clickTabLeft:function(){this.mode=!0,this.getList(),this.getCompanyProduction()},clickTabRight:function(){this.mode=!1,this.getList(),this.getCompanyProduction()},getList:function(){var e=this;this.mode?(this.listLoading=!0,D().get("/api/inputsUse/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)}))):(this.listLoading=!0,D().get("/api/inputsPurchase/all",{pageNo:this.page.pageIndex-1,pageSize:this.page.pageSize}).then((function(t){e.tableData=t.data,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)})).catch((function(e){console.log(e)})))},getCompanyProduction:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=t})).catch((function(e){console.log(e)}))},filterCompnay:function(e){var t=this.companyProduction.find((function(t){return t.companyId===e}));return t?t.companyName:""},rowIndex:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a},order:function(e){return this.page.pageSize*(this.page.pageIndex-1)+e.rowIndex+1}}},Xp=Hp,Kp=(a("0cf0"),Object(s["a"])(Xp,Qp,Zp,!1,null,"07b29ed4",null)),em=Kp.exports,tm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("投入品管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加记录")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"addForm",staticClass:"form-width",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"企业名称",prop:"companyId"}},[a("el-select",{model:{value:e.addForm.companyId,callback:function(t){e.$set(e.addForm,"companyId",t)},expression:"addForm.companyId"}},e._l(e.companyProduction,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"样品名称",prop:"sampleName"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.sampleName,callback:function(t){e.$set(e.addForm,"sampleName",t)},expression:"addForm.sampleName"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"采购数量",prop:"amount"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addForm.amount,callback:function(t){e.$set(e.addForm,"amount",t)},expression:"addForm.amount"}})],1),a("el-form-item",{attrs:{label:"",prop:"file_live_1"}},[a("input",{ref:"file_live_1",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),e.file_live_1?a("span",[e._v("("+e._s(e.fileName)+")")]):a("span",[e._v("请选择需要上传的文件...")])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("addForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},am=[],om={data:function(){return{addForm:{companyId:"",amount:"",sampleName:""},companyProduction:[],rules:{amount:[{required:!0,message:"请插入",trigger:"change"}],sampleName:[{required:!0,message:"请插入",trigger:"change"}],companyId:[{required:!0,message:"请选择",trigger:"change"}]},fileName:"",file_live_1:null,dataloading:!1}},mounted:function(){this.getCompanyProduct()},methods:{getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=e.companyProduction.concat(t)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataloading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/inputsPurchase/create",a).then((function(e){t.$router.go(-1),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){}))}}))},chooseFile:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file_live_1=this.$refs.file_live_1.files[0],this.fileName=this.file_live_1.name},makeFormData:function(){var e=new FormData;return e.append("companyId",this.addForm.companyId),e.append("amount",this.addForm.amount),e.append("sampleName",this.addForm.sampleName),e.append("file",this.file_live_1),e.append("id",0),e}}},rm=om,lm=(a("faad"),Object(s["a"])(rm,tm,am,!1,null,null,null)),im=lm.exports,nm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("投入品管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("添加记录")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"addForm",staticClass:"form-width",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"企业名称",prop:"companyId"}},[a("el-select",{model:{value:e.addForm.companyId,callback:function(t){e.$set(e.addForm,"companyId",t)},expression:"addForm.companyId"}},e._l(e.companyProduction,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"样品名称",prop:"sampleName"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.sampleName,callback:function(t){e.$set(e.addForm,"sampleName",t)},expression:"addForm.sampleName"}})],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"使用数量",prop:"amount"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.addForm.amount,callback:function(t){e.$set(e.addForm,"amount",t)},expression:"addForm.amount"}})],1),a("el-form-item",{attrs:{label:"",prop:"file_live_1"}},[a("input",{ref:"file_live_1",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.chooseFile()}}},[e._v("添加附件")]),e.file_live_1?a("span",[e._v("("+e._s(e.fileName)+")")]):a("span",[e._v("请选择需要上传的文件...")])],1),a("el-form-item",{staticClass:"left-margin"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onSubmit("addForm")}}},[e._v("\n              保存\n          ")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              取消\n          ")])],1)],1)],1)])},sm=[],cm={data:function(){return{addForm:{companyId:"",amount:"",sampleName:""},companyProduction:[],rules:{amount:[{required:!0,message:"请插入",trigger:"change"}],sampleName:[{required:!0,message:"请插入",trigger:"change"}],companyId:[{required:!0,message:"请选择",trigger:"change"}]},fileName:"",file_live_1:null,dataloading:!1}},mounted:function(){this.getCompanyProduct()},methods:{getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=e.companyProduction.concat(t)})).catch((function(e){console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.dataloading=!0;var a=new FormData;a=t.makeFormData(),D().post("/api/inputsUse/create",a).then((function(e){t.$router.go(-1),setTimeout((function(){t.dataloading=!1}),10)})).catch((function(e){}))}}))},chooseFile:function(){document.getElementById("file").click()},handleFileUpload:function(){this.file_live_1=this.$refs.file_live_1.files[0],this.fileName=this.file_live_1.name},makeFormData:function(){var e=new FormData;return e.append("companyId",this.addForm.companyId),e.append("amount",this.addForm.amount),e.append("sampleName",this.addForm.sampleName),e.append("file",this.file_live_1),e.append("id",0),e}}},um=cm,dm=(a("0afb"),Object(s["a"])(um,nm,sm,!1,null,null,null)),pm=dm.exports,mm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("投入品管理")]),a("el-breadcrumb-item",{staticClass:"actived"},[e._v("查看详情")])],1)],1),a("div",{staticClass:"box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dataloading,expression:"dataloading"}],ref:"formData",staticClass:"form-width",attrs:{model:e.formData,"label-width":"100px"}},[a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"企业名称",prop:"companyId"}},[a("el-select",{attrs:{disabled:""},model:{value:e.formData.companyId,callback:function(t){e.$set(e.formData,"companyId",t)},expression:"formData.companyId"}},e._l(e.companyProduction,(function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})})),1)],1),a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"样品名称",prop:"sampleName"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.formData.sampleName,callback:function(t){e.$set(e.formData,"sampleName",t)},expression:"formData.sampleName"}})],1),e.bLeft?a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"使用数量",prop:"amount"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.formData.amount,callback:function(t){e.$set(e.formData,"amount",t)},expression:"formData.amount"}})],1):a("el-form-item",{staticClass:"input-width label-align",attrs:{label:"采购数量",prop:"amount"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.formData.amount,callback:function(t){e.$set(e.formData,"amount",t)},expression:"formData.amount"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{plain:""},on:{click:function(t){return e.downloadFile()}}},[e._v("附件下载")]),e.file?e._e():a("span",{staticClass:"item-value"},[a("el-link",{on:{click:function(t){return e.downloadFile()}}},[e._v("\n                  "+e._s(e.fileName)+"\n              ")])],1),e.file?a("span",{staticClass:"item-value"},[e._v("\n              ("+e._s(e.fileName)+")\n          ")]):e._e()],1),a("el-form-item",[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n              返回\n          ")])],1)],1)],1)])},fm=[],gm={data:function(){return{formData:{companyId:"",amount:"",sampleName:""},companyProduction:[],fileName:"",file:null,dataloading:!1,bLeft:!0}},mounted:function(){this.getCompanyProduct(),this.bLeft=this.$route.query.mode,this.id=this.$route.params.id,this.getData(this.$route.params.id,this.bLeft)},methods:{getCompanyProduct:function(){var e=this;D().get("/api/company_production/name").then((function(t){e.companyProduction=e.companyProduction.concat(t)})).catch((function(e){console.log(e)}))},getData:function(e,t){var a=this;this.dataloading=!0,t?D().get("/api/inputsUse/get/"+e).then((function(e){a.formData=e,a.file=e.inputProfiles,a.fileName=a.file.replace("/uploads/",""),setTimeout((function(){a.dataloading=!1}),10)})).catch((function(e){console.log(e)})):D().get("/api/inputsPurchase/get/"+e).then((function(e){a.formData=e,a.file=e.inputProfiles,a.fileName=a.file.replace("/uploads/",""),setTimeout((function(){a.dataloading=!1}),10)})).catch((function(e){console.log(e)}))},downloadFile:function(){var e=this;S()({url:F.DOWNLOAD_URL()+this.file,method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.file.replace("/uploads/","")),document.body.appendChild(o),o.click(),o.remove()}))}}},hm=gm,bm=(a("1281"),Object(s["a"])(hm,mm,fm,!1,null,null,null)),vm=bm.exports;o["default"].use(d["a"]);var ym=new d["a"]({routes:[{path:"/",name:"home",component:ce,redirect:"cp_productionSubject",beforeEnter:function(e,t,a){O().check()?a():a({path:"/login",query:{redirect:e.fullPath}})},children:[{path:"/sampleCheck",name:"sampleCheck",component:Iu},{path:"/sampleCheck/addSampleCheck",name:"addSampleCheck",component:Nu},{path:"/sampleCheck/addSampleCheckResult",name:"addSampleCheckResult",component:Au},{path:"/sampleCheck/detailsSampleCheck/:id",name:"detailsSampleCheck",component:Gu},{path:"/sampleCheck/detailsSampleCheckResult/:id",name:"detailsSampleCheckResult",component:Zu},{path:"/companyBusiness",name:"companyBusiness",component:au},{path:"/companyBusiness/productBusiness/:id",name:"productBusiness",component:su},{path:"/companyBusiness/productBusiness/create/:id",name:"addProductBusiness",component:fu},{path:"/companyBusiness/detailsCompanyBusiness/:id",name:"detailsCompanyBusiness",component:_u},{path:"/creditRating",name:"creditRating",component:kl},{path:"/creditRating/:id",name:"detailsRating",component:jl},{path:"/creditRating/edit/:id",name:"editRating",component:Tl},{path:"/productionSubject",name:"productionSubject",component:vi},{path:"/productionSubject/addRegulatoryObject",name:"addRegulatoryObject",component:Ci},{path:"/productionSubject/editRegulatoryObject/:id",name:"editRegulatoryObject",component:Vi},{path:"/productionSubject/detailsRegulatoryObject/:id",name:"detailsRegulatoryObject",component:Ui},{path:"/productionSubject/warehouseEnv/:id",name:"warehouseEnv",component:Ei},{path:"/productionSubject/warehouseEnv/detailsWarehouse/:id",name:"detailsWarehouse",component:Ji},{path:"/productionSubject/warehouseEnv/viewWarehouse/:id",name:"viewWarehouse",component:en},{path:"/productionSubject/warehouseEnv/addWarehouse/:id",name:"addWarehouse",component:nn},{path:"/productionSubject/mainProduct/:id",name:"mainProduct",component:mn},{path:"/productionSubject/mainProduct/thirdPartySamplingRecord/:id",name:"thirdPartySamplingRecord",component:yn},{path:"/productionSubject/mainProduct/thirdPartySampling/create/:id",name:"addThirdPartySampling",component:Sn},{path:"/productionSubject/mainProduct/thirdPartySampling/edit/:id",name:"editThirdPartySampling",component:Ln},{path:"/productionSubject/mainProduct/productBatch/:id",name:"productBatch",component:An},{path:"/productionSubject/mainProduct/inventoryDynamics/:id",name:"inventoryDynamics",component:Gn},{path:"/productionSubject/mainProduct/inventoryDynamics/addInventoryDynamics/:id",name:"addInventoryDynamics",component:fs},{path:"/productionSubject/mainProduct/inventoryDynamics/editInventoryDynamics/:id",name:"editInventoryDynamics",component:_s},{path:"/productionSubject/mainProduct/processDefinition/:id",name:"processDefinition",component:Gs},{path:"/productionSubject/mainProduct/processDefinition/addProcessDefinition/:id",name:"addProcessDefinition",component:Zs},{path:"/productionSubject/mainProduct/processDefinition/editProcessDefinition/:id",name:"editProcessDefinition",component:ac},{path:"/productionSubject/mainProduct/productProperty/:id",name:"productProperty",component:sc},{path:"/productionSubject/mainProduct/productProperty/addProductProperty/:id",name:"addProductProperty",component:fc},{path:"/productionSubject/mainProduct/productProperty/editProductProperty/:id",name:"editProductProperty",component:_c},{path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/:id",name:"customProductProperty",component:Ic},{path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/addCustomProductProperty/:id",name:"addCustomProductProperty",component:Nc},{path:"/productionSubject/mainProduct/productProperty/editProductProperty/customProductProperty/editCustomProductProperty/:id",name:"editCustomProductProperty",component:Ac},{path:"/productionSubject/threeProduct",name:"threeProduct",component:Gc},{path:"/productionSubject/threeProduct/addThreeProduct",name:"addThreeProduct",component:Zc},{path:"/threeProductsCertification",name:"threeProductsCertification",component:Se},{path:"/threeProductsCertification/create",name:"addThreeProducts",component:Le},{path:"/threeProductsCertification/:id",name:"detailsThreeProducts",component:ze},{path:"/corporateCreditFile",name:"corporateCreditFile",component:ql},{path:"/corporateCreditFile/adminLicenseInfo/",name:"adminLicenseInfo",component:ei},{path:"/corporateCreditFile/adminPenaltyInfo/",name:"adminPenaltyInfo",component:Jl},{path:"/corporateCreditFile/ratingInfo",name:"ratingInfo",component:pi},{path:"/corporateCreditFile/threeProduction/",name:"threeProduction",component:ii},{path:"/regulatoryRecord",name:"regulatoryRecord",component:Be},{path:"/regulatoryRecord/create",name:"addRegulatoryRecord",component:Qe},{path:"/regulatoryRecord/edit/:id",name:"rectificationRecord",component:ot},{path:"/regulatoryRecord/:id",name:"detailsRegulatoryRecord",component:ct},{path:"/commonWords",name:"commonWords",component:gt},{path:"/management",name:"management",component:wt},{path:"/businessProducts",name:"businessProducts",component:Ft},{path:"/companyDetails",name:"companyDetails",component:Dt},{path:"/cp_productionSubject",name:"cp_productionSubject",component:hr},{path:"/cp_editProduction",name:"cp_editProduction",component:kr},{path:"/cp_businessProducts",name:"cp_businessProducts",component:Tr},{path:"/cp_productBatch",name:"cp_productBatch",component:Pr},{path:"/cp_jobDefinition",name:"cp_jobDefinition",component:Or},{path:"/cp_editProduct",name:"cp_editProduct",component:Wr},{path:"/cp_thirdRecords",name:"cp_thirdRecords",component:Xr},{path:"/cp_attributeManagement",name:"cp_attributeManagement",component:rl},{path:"/cp_definitionLevel",name:"cp_definitionLevel",component:ul},{path:"/cp_inventoryDynamics",name:"cp_inventoryDynamics",component:hl},{path:"/disabilityCheck",name:"disabilityCheck",component:Mt},{path:"/productionRecord",name:"productionRecord",component:_d},{path:"/productionRecord/create",name:"addProductionRecord",component:Id},{path:"/productionRecord/editProductionRecord/:id",name:"editProductionRecord",component:Nd},{path:"/redBlackList",name:"redBlackList",component:Rt},{path:"/notice",name:"notice",component:Ad},{path:"/notice/view/:id",name:"detailsNotice",component:Gd},{path:"/notice/create",name:"createNotice",component:Zd},{path:"/aquatic",name:"aquaticStatistics",component:pp},{path:"/notice/edit/:id",name:"editNotice",component:ap},{path:"/jobDefinition",name:"jobDefinition",component:ad},{path:"/jobDefinition/create",name:"addJobDefinition",component:sd},{path:"/jobDefinition/:id",name:"editJobDefinition",component:fd},{path:"/productVariety/:id",name:"productVariety",component:Zn},{path:"/productVariety/create/:id",name:"addProductVariety",component:as},{path:"/productVariety/edit/:id",name:"editProductVariety",component:ss},{path:"/statisticsFarmers",name:"statisticsFarmers",component:vp},{path:"/internalMessage",name:"internalMessage",component:Cp},{path:"/internalMessage/add",name:"addInternalMessage",component:Vp},{path:"/inputManagement",name:"inputManagement",component:em},{path:"/inputManagement/addPurchase",name:"addInputPurchase",component:im},{path:"/inputManagement/addUse",name:"addInputUse",component:pm},{path:"/inputManagement/view/:id",name:"viewInputManagement",component:vm},{path:"/workTask",name:"workTask",component:Ht},{path:"/workTask/create",name:"addWorkTask",component:oa},{path:"/workTask/edit/:id",name:"editWorkTask",component:ca},{path:"/workTask/report/create",name:"addWorkTaskReport",component:ga},{path:"/workTask/report/detail/:id",name:"detailWorkTaskReport",component:wa},{path:"/trainingFunds",name:"trainingFunds",component:Up},{path:"/trainingFunds/add",name:"addTrainingFunds",component:Ep},{path:"/trainingFunds/view/:id",name:"viewTrainingFunds",component:Jp},{path:"/seed",name:"seed",component:Fa},{path:"/seed/upload",name:"uploadSeed",component:Da},{path:"/seed/detail/:id",name:"detailSeed",component:Ra},{path:"/userManagement",name:"userManagement",component:Ma},{path:"/userManagement/create",name:"registerUser",component:Ha},{path:"/userManagement/edit/:id",name:"editUser",component:oo},{path:"/userManagement/changePwd/:id",name:"changePassword",component:co},{path:"/productionStandard",name:"productionStandard",component:ho},{path:"/productionStandard/create",name:"addProductionStandard",component:ko},{path:"/productionStandard/detail/:id",name:"detailProductionStandard",component:To},{path:"/productionStandard/edit/:id",name:"editProductionStandard",component:Po},{path:"/productionGrade/:id",name:"definitionLevel",component:Is},{path:"/productionGrade/create/:id",name:"addDefinitionLevel",component:Ns},{path:"/productionGrade/edit/:id",name:"editDefinitionLevel",component:As},{path:"/shareFiles",name:"shareFiles",component:Oo},{path:"/shareFiles/create",name:"addShareFiles",component:Wo},{path:"/shareFiles/edit/:id",name:"editShareFiles",component:Xo},{path:"/shareFiles/detail/:id",name:"detailShareFiles",component:rr},{path:"/specialCategory",name:"specialCategory",component:ur}]},{path:"/login",name:"login",component:G},{path:"*",redirect:"/",hidden:!0}]}),_m=a("5c96"),wm=a.n(_m);o["default"].filter("formatDate",(function(e){if(e)return Ke()(String(e)).format("YYYY-MM-DD")}));a("0fae"),a("b329");o["default"].use(wm.a),o["default"].config.productionTip=!1,new o["default"]({el:"#app",router:ym,render:function(e){return e(u)}})},5822:function(e,t,a){"use strict";var o=a("d4df"),r=a.n(o);r.a},5895:function(e,t,a){"use strict";var o=a("c63c"),r=a.n(o);r.a},"5a85":function(e,t,a){"use strict";var o=a("26d1"),r=a.n(o);r.a},"5d6f":function(e,t,a){"use strict";var o=a("1b5b"),r=a.n(o);r.a},6253:function(e,t,a){"use strict";var o=a("a78d"),r=a.n(o);r.a},"64a9":function(e,t,a){},"64e1":function(e,t,a){"use strict";var o=a("2f56"),r=a.n(o);r.a},"653b":function(e,t,a){"use strict";var o=a("e3f1"),r=a.n(o);r.a},"67ec":function(e,t,a){"use strict";var o=a("9347"),r=a.n(o);r.a},"685f":function(e,t,a){"use strict";var o=a("bc28"),r=a.n(o);r.a},6899:function(e,t,a){"use strict";var o=a("152b"),r=a.n(o);r.a},6959:function(e,t,a){"use strict";var o=a("fff7"),r=a.n(o);r.a},"6ae2":function(e,t,a){"use strict";var o=a("9eae"),r=a.n(o);r.a},"6b55":function(e,t,a){"use strict";var o=a("e920"),r=a.n(o);r.a},"6ef0":function(e,t,a){"use strict";var o=a("1d60"),r=a.n(o);r.a},"71f6":function(e,t,a){},"752c":function(e,t,a){},"767c":function(e,t,a){"use strict";var o=a("56d7"),r=a.n(o);r.a},"778e":function(e,t,a){"use strict";var o=a("0f7c"),r=a.n(o);r.a},"789a":function(e,t,a){},"7bfe":function(e,t,a){},"80a2":function(e,t,a){"use strict";var o=a("4fb6"),r=a.n(o);r.a},8367:function(e,t,a){"use strict";var o=a("0aca"),r=a.n(o);r.a},"91c8":function(e,t,a){},9347:function(e,t,a){},"97de":function(e,t,a){},"9d64":function(e,t,a){e.exports=a.p+"img/logo.3c103642.png"},"9eae":function(e,t,a){},a31a:function(e,t,a){"use strict";var o=a("546b"),r=a.n(o);r.a},a61b:function(e,t,a){},a78c:function(e,t,a){},a78d:function(e,t,a){},ac9f:function(e,t,a){},ad74:function(e,t,a){"use strict";var o=a("d96b"),r=a.n(o);r.a},ad82:function(e,t,a){},af98:function(e,t,a){"use strict";var o=a("ed37"),r=a.n(o);r.a},b0e4:function(e,t,a){},b329:function(e,t,a){},b4e4:function(e,t,a){},b9f4:function(e,t,a){},bac3:function(e,t,a){},bb7b:function(e,t,a){},bbb5:function(e,t,a){"use strict";var o=a("0047"),r=a.n(o);r.a},bc28:function(e,t,a){},c0b4:function(e,t,a){},c589:function(e,t,a){},c58e:function(e,t,a){"use strict";var o=a("a78c"),r=a.n(o);r.a},c63c:function(e,t,a){},c700:function(e,t,a){"use strict";var o=a("2d09"),r=a.n(o);r.a},c8ed:function(e,t,a){"use strict";var o=a("71f6"),r=a.n(o);r.a},c904:function(e,t,a){"use strict";var o=a("7bfe"),r=a.n(o);r.a},cbfd:function(e,t,a){},cc37:function(e,t,a){"use strict";var o=a("27b0"),r=a.n(o);r.a},cd02:function(e,t,a){"use strict";var o=a("f05b"),r=a.n(o);r.a},d17f:function(e,t,a){"use strict";var o=a("e092"),r=a.n(o);r.a},d4df:function(e,t,a){},d942:function(e,t,a){},d96b:function(e,t,a){},daaa:function(e,t,a){"use strict";var o=a("91c8"),r=a.n(o);r.a},e092:function(e,t,a){},e3f1:function(e,t,a){},e6e0:function(e,t,a){},e841:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJCODkyNEQ2Nzg4MzExRTk5NzAzQzAyMDI0Qzk2OEJCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJCODkyNEQ3Nzg4MzExRTk5NzAzQzAyMDI0Qzk2OEJCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkI4OTI0RDQ3ODgzMTFFOTk3MDNDMDIwMjRDOTY4QkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkI4OTI0RDU3ODgzMTFFOTk3MDNDMDIwMjRDOTY4QkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz74l6ZLAAABNUlEQVR42sxUW3HDMBCMiiAQxMCFYAiBYAY2g5aBzaCBEAYxA4tBBSFFoN5NVp3L5hznIx+9mZ2xz3vre0mhlLJ7pb3tXmx/giGEG4hFwShYBAVY4IsO/2paMpct75MgCwZBNP4o6PBtpJirDgvKcxIct0pTjmB5KIjMjhT4qYHAh2BPopMriHKyU7pm3AJzFTCcjNg7QQ0eiFyoh/tCDUefJ08wUbBmlJzeaZYtDSpVHbuHjYw/U/xlaziIaZ5d7MbxaRX50fgrsi3ZNHygNszEieDdlazElv6nE+3o/UScw42P1maGT0/DGX8+GK76L4JvQY+p+2tj9k7tZCfptKnDZMvqYtPRGzeOnWb2ZdfK62E1zSyglN65HHrcOj+yMu+rU3b80Ry9agm+uKYT/v2N/SvAAJaR5aP+3TZzAAAAAElFTkSuQmCC"},e920:function(e,t,a){},ed37:function(e,t,a){},eefa:function(e,t,a){"use strict";var o=a("c0b4"),r=a.n(o);r.a},f05b:function(e,t,a){},f198:function(e,t,a){},f242:function(e,t,a){},f3c9:function(e,t,a){"use strict";var o=a("a61b"),r=a.n(o);r.a},faa9:function(e,t,a){},faad:function(e,t,a){"use strict";var o=a("b4e4"),r=a.n(o);r.a},fff7:function(e,t,a){}});
//# sourceMappingURL=app.65c6d817.js.map